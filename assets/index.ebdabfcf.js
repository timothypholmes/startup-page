var sb=Object.defineProperty;var ab=(n,e,t)=>e in n?sb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var vh=(n,e,t)=>(ab(n,typeof e!="symbol"?e+"":e,t),t);function ob(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(s){if(s!=="default"&&!(s in n)){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}})}),Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}const lb=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}};lb();var et={exports:{}},xt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var vp=Object.getOwnPropertySymbols,cb=Object.prototype.hasOwnProperty,hb=Object.prototype.propertyIsEnumerable;function ub(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function db(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var s=Object.getOwnPropertyNames(e).map(function(l){return e[l]});if(s.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(l){a[l]=l}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var H0=db()?Object.assign:function(n,e){for(var t,s=ub(n),a,l=1;l<arguments.length;l++){t=Object(arguments[l]);for(var d in t)cb.call(t,d)&&(s[d]=t[d]);if(vp){a=vp(t);for(var p=0;p<a.length;p++)hb.call(t,a[p])&&(s[a[p]]=t[a[p]])}}return s};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd=H0,Ks=60103,W0=60106;xt.Fragment=60107;xt.StrictMode=60108;xt.Profiler=60114;var V0=60109,U0=60110,G0=60112;xt.Suspense=60113;var X0=60115,Y0=60116;if(typeof Symbol=="function"&&Symbol.for){var ei=Symbol.for;Ks=ei("react.element"),W0=ei("react.portal"),xt.Fragment=ei("react.fragment"),xt.StrictMode=ei("react.strict_mode"),xt.Profiler=ei("react.profiler"),V0=ei("react.provider"),U0=ei("react.context"),G0=ei("react.forward_ref"),xt.Suspense=ei("react.suspense"),X0=ei("react.memo"),Y0=ei("react.lazy")}var yp=typeof Symbol=="function"&&Symbol.iterator;function fb(n){return n===null||typeof n!="object"?null:(n=yp&&n[yp]||n["@@iterator"],typeof n=="function"?n:null)}function zo(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q0={};function ea(n,e,t){this.props=n,this.context=e,this.refs=q0,this.updater=t||j0}ea.prototype.isReactComponent={};ea.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(zo(85));this.updater.enqueueSetState(this,n,e,"setState")};ea.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function $0(){}$0.prototype=ea.prototype;function Ud(n,e,t){this.props=n,this.context=e,this.refs=q0,this.updater=t||j0}var Gd=Ud.prototype=new $0;Gd.constructor=Ud;Vd(Gd,ea.prototype);Gd.isPureReactComponent=!0;var Xd={current:null},Z0=Object.prototype.hasOwnProperty,J0={key:!0,ref:!0,__self:!0,__source:!0};function Q0(n,e,t){var s,a={},l=null,d=null;if(e!=null)for(s in e.ref!==void 0&&(d=e.ref),e.key!==void 0&&(l=""+e.key),e)Z0.call(e,s)&&!J0.hasOwnProperty(s)&&(a[s]=e[s]);var p=arguments.length-2;if(p===1)a.children=t;else if(1<p){for(var v=Array(p),y=0;y<p;y++)v[y]=arguments[y+2];a.children=v}if(n&&n.defaultProps)for(s in p=n.defaultProps,p)a[s]===void 0&&(a[s]=p[s]);return{$$typeof:Ks,type:n,key:l,ref:d,props:a,_owner:Xd.current}}function pb(n,e){return{$$typeof:Ks,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Yd(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ks}function gb(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var bp=/\/+/g;function yh(n,e){return typeof n=="object"&&n!==null&&n.key!=null?gb(""+n.key):e.toString(36)}function Ul(n,e,t,s,a){var l=typeof n;(l==="undefined"||l==="boolean")&&(n=null);var d=!1;if(n===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(n.$$typeof){case Ks:case W0:d=!0}}if(d)return d=n,a=a(d),n=s===""?"."+yh(d,0):s,Array.isArray(a)?(t="",n!=null&&(t=n.replace(bp,"$&/")+"/"),Ul(a,e,t,"",function(y){return y})):a!=null&&(Yd(a)&&(a=pb(a,t+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(bp,"$&/")+"/")+n)),e.push(a)),1;if(d=0,s=s===""?".":s+":",Array.isArray(n))for(var p=0;p<n.length;p++){l=n[p];var v=s+yh(l,p);d+=Ul(l,e,t,v,a)}else if(v=fb(n),typeof v=="function")for(n=v.call(n),p=0;!(l=n.next()).done;)l=l.value,v=s+yh(l,p++),d+=Ul(l,e,t,v,a);else if(l==="object")throw e=""+n,Error(zo(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return d}function Jo(n,e,t){if(n==null)return n;var s=[],a=0;return Ul(n,s,"","",function(l){return e.call(t,l,a++)}),s}function mb(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var K0={current:null};function Di(){var n=K0.current;if(n===null)throw Error(zo(321));return n}var xb={ReactCurrentDispatcher:K0,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Xd,IsSomeRendererActing:{current:!1},assign:Vd};xt.Children={map:Jo,forEach:function(n,e,t){Jo(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Jo(n,function(){e++}),e},toArray:function(n){return Jo(n,function(e){return e})||[]},only:function(n){if(!Yd(n))throw Error(zo(143));return n}};xt.Component=ea;xt.PureComponent=Ud;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xb;xt.cloneElement=function(n,e,t){if(n==null)throw Error(zo(267,n));var s=Vd({},n.props),a=n.key,l=n.ref,d=n._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,d=Xd.current),e.key!==void 0&&(a=""+e.key),n.type&&n.type.defaultProps)var p=n.type.defaultProps;for(v in e)Z0.call(e,v)&&!J0.hasOwnProperty(v)&&(s[v]=e[v]===void 0&&p!==void 0?p[v]:e[v])}var v=arguments.length-2;if(v===1)s.children=t;else if(1<v){p=Array(v);for(var y=0;y<v;y++)p[y]=arguments[y+2];s.children=p}return{$$typeof:Ks,type:n.type,key:a,ref:l,props:s,_owner:d}};xt.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:U0,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:V0,_context:n},n.Consumer=n};xt.createElement=Q0;xt.createFactory=function(n){var e=Q0.bind(null,n);return e.type=n,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(n){return{$$typeof:G0,render:n}};xt.isValidElement=Yd;xt.lazy=function(n){return{$$typeof:Y0,_payload:{_status:-1,_result:n},_init:mb}};xt.memo=function(n,e){return{$$typeof:X0,type:n,compare:e===void 0?null:e}};xt.useCallback=function(n,e){return Di().useCallback(n,e)};xt.useContext=function(n,e){return Di().useContext(n,e)};xt.useDebugValue=function(){};xt.useEffect=function(n,e){return Di().useEffect(n,e)};xt.useImperativeHandle=function(n,e,t){return Di().useImperativeHandle(n,e,t)};xt.useLayoutEffect=function(n,e){return Di().useLayoutEffect(n,e)};xt.useMemo=function(n,e){return Di().useMemo(n,e)};xt.useReducer=function(n,e,t){return Di().useReducer(n,e,t)};xt.useRef=function(n){return Di().useRef(n)};xt.useState=function(n){return Di().useState(n)};xt.version="17.0.2";et.exports=xt;var en=et.exports,Du=ob({__proto__:null,default:en},[et.exports]),ex={exports:{}},Qn={},tx={exports:{}},nx={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){var e,t,s,a;if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,p=d.now();n.unstable_now=function(){return d.now()-p}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var v=null,y=null,M=function(){if(v!==null)try{var ne=n.unstable_now();v(!0,ne),v=null}catch(xe){throw setTimeout(M,0),xe}};e=function(ne){v!==null?setTimeout(e,0,ne):(v=ne,setTimeout(M,0))},t=function(ne,xe){y=setTimeout(ne,xe)},s=function(){clearTimeout(y)},n.unstable_shouldYield=function(){return!1},a=n.unstable_forceFrameRate=function(){}}else{var E=window.setTimeout,T=window.clearTimeout;if(typeof console!="undefined"){var L=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof L!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var D=!1,N=null,z=-1,C=5,S=0;n.unstable_shouldYield=function(){return n.unstable_now()>=S},a=function(){},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ne?Math.floor(1e3/ne):5};var G=new MessageChannel,W=G.port2;G.port1.onmessage=function(){if(N!==null){var ne=n.unstable_now();S=ne+C;try{N(!0,ne)?W.postMessage(null):(D=!1,N=null)}catch(xe){throw W.postMessage(null),xe}}else D=!1},e=function(ne){N=ne,D||(D=!0,W.postMessage(null))},t=function(ne,xe){z=E(function(){ne(n.unstable_now())},xe)},s=function(){T(z),z=-1}}function H(ne,xe){var Ee=ne.length;ne.push(xe);e:for(;;){var Ie=Ee-1>>>1,ce=ne[Ie];if(ce!==void 0&&0<le(ce,xe))ne[Ie]=xe,ne[Ee]=ce,Ee=Ie;else break e}}function $(ne){return ne=ne[0],ne===void 0?null:ne}function K(ne){var xe=ne[0];if(xe!==void 0){var Ee=ne.pop();if(Ee!==xe){ne[0]=Ee;e:for(var Ie=0,ce=ne.length;Ie<ce;){var dt=2*(Ie+1)-1,Ue=ne[dt],$e=dt+1,Fe=ne[$e];if(Ue!==void 0&&0>le(Ue,Ee))Fe!==void 0&&0>le(Fe,Ue)?(ne[Ie]=Fe,ne[$e]=Ee,Ie=$e):(ne[Ie]=Ue,ne[dt]=Ee,Ie=dt);else if(Fe!==void 0&&0>le(Fe,Ee))ne[Ie]=Fe,ne[$e]=Ee,Ie=$e;else break e}}return xe}return null}function le(ne,xe){var Ee=ne.sortIndex-xe.sortIndex;return Ee!==0?Ee:ne.id-xe.id}var ge=[],me=[],Y=1,re=null,se=3,ae=!1,he=!1,ue=!1;function pe(ne){for(var xe=$(me);xe!==null;){if(xe.callback===null)K(me);else if(xe.startTime<=ne)K(me),xe.sortIndex=xe.expirationTime,H(ge,xe);else break;xe=$(me)}}function Ce(ne){if(ue=!1,pe(ne),!he)if($(ge)!==null)he=!0,e(Ne);else{var xe=$(me);xe!==null&&t(Ce,xe.startTime-ne)}}function Ne(ne,xe){he=!1,ue&&(ue=!1,s()),ae=!0;var Ee=se;try{for(pe(xe),re=$(ge);re!==null&&(!(re.expirationTime>xe)||ne&&!n.unstable_shouldYield());){var Ie=re.callback;if(typeof Ie=="function"){re.callback=null,se=re.priorityLevel;var ce=Ie(re.expirationTime<=xe);xe=n.unstable_now(),typeof ce=="function"?re.callback=ce:re===$(ge)&&K(ge),pe(xe)}else K(ge);re=$(ge)}if(re!==null)var dt=!0;else{var Ue=$(me);Ue!==null&&t(Ce,Ue.startTime-xe),dt=!1}return dt}finally{re=null,se=Ee,ae=!1}}var ve=a;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){he||ae||(he=!0,e(Ne))},n.unstable_getCurrentPriorityLevel=function(){return se},n.unstable_getFirstCallbackNode=function(){return $(ge)},n.unstable_next=function(ne){switch(se){case 1:case 2:case 3:var xe=3;break;default:xe=se}var Ee=se;se=xe;try{return ne()}finally{se=Ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=ve,n.unstable_runWithPriority=function(ne,xe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var Ee=se;se=ne;try{return xe()}finally{se=Ee}},n.unstable_scheduleCallback=function(ne,xe,Ee){var Ie=n.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Ie+Ee:Ie):Ee=Ie,ne){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Ee+ce,ne={id:Y++,callback:xe,priorityLevel:ne,startTime:Ee,expirationTime:ce,sortIndex:-1},Ee>Ie?(ne.sortIndex=Ee,H(me,ne),$(ge)===null&&ne===$(me)&&(ue?s():ue=!0,t(Ce,Ee-Ie))):(ne.sortIndex=ce,H(ge,ne),he||ae||(he=!0,e(Ne))),ne},n.unstable_wrapCallback=function(ne){var xe=se;return function(){var Ee=se;se=xe;try{return ne.apply(this,arguments)}finally{se=Ee}}}})(nx);tx.exports=nx;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=et.exports,Bt=H0,tn=tx.exports;function Pe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Dc)throw Error(Pe(227));var ix=new Set,uo={};function Ur(n,e){Gs(n,e),Gs(n+"Capture",e)}function Gs(n,e){for(uo[n]=e,n=0;n<e.length;n++)ix.add(e[n])}var Ii=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),vb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wp=Object.prototype.hasOwnProperty,Sp={},_p={};function yb(n){return wp.call(_p,n)?!0:wp.call(Sp,n)?!1:vb.test(n)?_p[n]=!0:(Sp[n]=!0,!1)}function bb(n,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function wb(n,e,t,s){if(e===null||typeof e=="undefined"||bb(n,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(n,e,t,s,a,l,d){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=l,this.removeEmptyString=d}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){cn[n]=new En(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];cn[e]=new En(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){cn[n]=new En(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){cn[n]=new En(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){cn[n]=new En(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){cn[n]=new En(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){cn[n]=new En(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){cn[n]=new En(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){cn[n]=new En(n,5,!1,n.toLowerCase(),null,!1,!1)});var jd=/[\-:]([a-z])/g;function qd(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(jd,qd);cn[e]=new En(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(jd,qd);cn[e]=new En(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(jd,qd);cn[e]=new En(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){cn[n]=new En(n,1,!1,n.toLowerCase(),null,!1,!1)});cn.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){cn[n]=new En(n,1,!1,n.toLowerCase(),null,!0,!0)});function $d(n,e,t,s){var a=cn.hasOwnProperty(e)?cn[e]:null,l=a!==null?a.type===0:s?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");l||(wb(e,t,a,s)&&(t=null),s||a===null?yb(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):a.mustUseProperty?n[a.propertyName]=t===null?a.type===3?!1:"":t:(e=a.attributeName,s=a.attributeNamespace,t===null?n.removeAttribute(e):(a=a.type,t=a===3||a===4&&t===!0?"":""+t,s?n.setAttributeNS(s,e,t):n.setAttribute(e,t))))}var Gr=Dc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wa=60103,Tr=60106,Gi=60107,Zd=60108,$a=60114,Jd=60109,Qd=60110,zc=60112,Za=60113,ic=60120,Nc=60115,Kd=60116,ef=60121,tf=60128,rx=60129,nf=60130,zu=60131;if(typeof Symbol=="function"&&Symbol.for){var Qt=Symbol.for;Wa=Qt("react.element"),Tr=Qt("react.portal"),Gi=Qt("react.fragment"),Zd=Qt("react.strict_mode"),$a=Qt("react.profiler"),Jd=Qt("react.provider"),Qd=Qt("react.context"),zc=Qt("react.forward_ref"),Za=Qt("react.suspense"),ic=Qt("react.suspense_list"),Nc=Qt("react.memo"),Kd=Qt("react.lazy"),ef=Qt("react.block"),Qt("react.scope"),tf=Qt("react.opaque.id"),rx=Qt("react.debug_trace_mode"),nf=Qt("react.offscreen"),zu=Qt("react.legacy_hidden")}var Mp=typeof Symbol=="function"&&Symbol.iterator;function ma(n){return n===null||typeof n!="object"?null:(n=Mp&&n[Mp]||n["@@iterator"],typeof n=="function"?n:null)}var bh;function Va(n){if(bh===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);bh=e&&e[1]||""}return`
`+bh+n}var wh=!1;function Qo(n,e){if(!n||wh)return"";wh=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(v){var s=v}Reflect.construct(n,[],e)}else{try{e.call()}catch(v){s=v}n.call(e.prototype)}else{try{throw Error()}catch(v){s=v}n()}}catch(v){if(v&&s&&typeof v.stack=="string"){for(var a=v.stack.split(`
`),l=s.stack.split(`
`),d=a.length-1,p=l.length-1;1<=d&&0<=p&&a[d]!==l[p];)p--;for(;1<=d&&0<=p;d--,p--)if(a[d]!==l[p]){if(d!==1||p!==1)do if(d--,p--,0>p||a[d]!==l[p])return`
`+a[d].replace(" at new "," at ");while(1<=d&&0<=p);break}}}finally{wh=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Va(n):""}function Sb(n){switch(n.tag){case 5:return Va(n.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 2:case 15:return n=Qo(n.type,!1),n;case 11:return n=Qo(n.type.render,!1),n;case 22:return n=Qo(n.type._render,!1),n;case 1:return n=Qo(n.type,!0),n;default:return""}}function ks(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Gi:return"Fragment";case Tr:return"Portal";case $a:return"Profiler";case Zd:return"StrictMode";case Za:return"Suspense";case ic:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Qd:return(n.displayName||"Context")+".Consumer";case Jd:return(n._context.displayName||"Context")+".Provider";case zc:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Nc:return ks(n.type);case ef:return ks(n._render);case Kd:e=n._payload,n=n._init;try{return ks(n(e))}catch{}}return null}function hr(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function sx(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _b(n){var e=sx(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var a=t.get,l=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return a.call(this)},set:function(d){s=""+d,l.call(this,d)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ko(n){n._valueTracker||(n._valueTracker=_b(n))}function ax(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=sx(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function rc(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function Nu(n,e){var t=e.checked;return Bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function Ap(n,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=hr(e.value!=null?e.value:t),n._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ox(n,e){e=e.checked,e!=null&&$d(n,"checked",e,!1)}function Fu(n,e){ox(n,e);var t=hr(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Ou(n,e.type,t):e.hasOwnProperty("defaultValue")&&Ou(n,e.type,hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Cp(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Ou(n,e,t){(e!=="number"||rc(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function Mb(n){var e="";return Dc.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function Bu(n,e){return n=Bt({children:void 0},e),(e=Mb(e.children))&&(n.children=e),n}function Ls(n,e,t,s){if(n=n.options,e){e={};for(var a=0;a<t.length;a++)e["$"+t[a]]=!0;for(t=0;t<n.length;t++)a=e.hasOwnProperty("$"+n[t].value),n[t].selected!==a&&(n[t].selected=a),a&&s&&(n[t].defaultSelected=!0)}else{for(t=""+hr(t),e=null,a=0;a<n.length;a++){if(n[a].value===t){n[a].selected=!0,s&&(n[a].defaultSelected=!0);return}e!==null||n[a].disabled||(e=n[a])}e!==null&&(e.selected=!0)}}function Hu(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return Bt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ep(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Pe(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(Pe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:hr(t)}}function lx(n,e){var t=hr(e.value),s=hr(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),s!=null&&(n.defaultValue=""+s)}function Tp(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var Wu={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function cx(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vu(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?cx(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var el,hx=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,s,a){MSApp.execUnsafeLocalFunction(function(){return n(e,t,s,a)})}:n}(function(n,e){if(n.namespaceURI!==Wu.svg||"innerHTML"in n)n.innerHTML=e;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=el.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function fo(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ja={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ab=["Webkit","ms","Moz","O"];Object.keys(Ja).forEach(function(n){Ab.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ja[e]=Ja[n]})});function ux(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ja.hasOwnProperty(n)&&Ja[n]?(""+e).trim():e+"px"}function dx(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,a=ux(t,e[t],s);t==="float"&&(t="cssFloat"),s?n.setProperty(t,a):n[t]=a}}var Cb=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uu(n,e){if(e){if(Cb[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function Gu(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function rf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xu=null,Ps=null,Rs=null;function kp(n){if(n=Fo(n)){if(typeof Xu!="function")throw Error(Pe(280));var e=n.stateNode;e&&(e=Vc(e),Xu(n.stateNode,n.type,e))}}function fx(n){Ps?Rs?Rs.push(n):Rs=[n]:Ps=n}function px(){if(Ps){var n=Ps,e=Rs;if(Rs=Ps=null,kp(n),e)for(n=0;n<e.length;n++)kp(e[n])}}function sf(n,e){return n(e)}function gx(n,e,t,s,a){return n(e,t,s,a)}function af(){}var mx=sf,kr=!1,Sh=!1;function of(){(Ps!==null||Rs!==null)&&(af(),px())}function Eb(n,e,t){if(Sh)return n(e,t);Sh=!0;try{return mx(n,e,t)}finally{Sh=!1,of()}}function po(n,e){var t=n.stateNode;if(t===null)return null;var s=Vc(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Pe(231,e,typeof t));return t}var Yu=!1;if(Ii)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Yu=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Yu=!1}function Tb(n,e,t,s,a,l,d,p,v){var y=Array.prototype.slice.call(arguments,3);try{e.apply(t,y)}catch(M){this.onError(M)}}var Qa=!1,sc=null,ac=!1,ju=null,kb={onError:function(n){Qa=!0,sc=n}};function Lb(n,e,t,s,a,l,d,p,v){Qa=!1,sc=null,Tb.apply(kb,arguments)}function Pb(n,e,t,s,a,l,d,p,v){if(Lb.apply(this,arguments),Qa){if(Qa){var y=sc;Qa=!1,sc=null}else throw Error(Pe(198));ac||(ac=!0,ju=y)}}function Xr(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function xx(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Lp(n){if(Xr(n)!==n)throw Error(Pe(188))}function Rb(n){var e=n.alternate;if(!e){if(e=Xr(n),e===null)throw Error(Pe(188));return e!==n?null:n}for(var t=n,s=e;;){var a=t.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){t=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===t)return Lp(a),n;if(l===s)return Lp(a),e;l=l.sibling}throw Error(Pe(188))}if(t.return!==s.return)t=a,s=l;else{for(var d=!1,p=a.child;p;){if(p===t){d=!0,t=a,s=l;break}if(p===s){d=!0,s=a,t=l;break}p=p.sibling}if(!d){for(p=l.child;p;){if(p===t){d=!0,t=l,s=a;break}if(p===s){d=!0,s=l,t=a;break}p=p.sibling}if(!d)throw Error(Pe(189))}}if(t.alternate!==s)throw Error(Pe(190))}if(t.tag!==3)throw Error(Pe(188));return t.stateNode.current===t?n:e}function vx(n){if(n=Rb(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Pp(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var yx,lf,bx,wx,qu=!1,ui=[],$i=null,Zi=null,Ji=null,go=new Map,mo=new Map,va=[],Rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $u(n,e,t,s,a){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:a,targetContainers:[s]}}function Ip(n,e){switch(n){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":go.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(e.pointerId)}}function ya(n,e,t,s,a,l){return n===null||n.nativeEvent!==l?(n=$u(e,t,s,a,l),e!==null&&(e=Fo(e),e!==null&&lf(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),n)}function Ib(n,e,t,s,a){switch(e){case"focusin":return $i=ya($i,n,e,t,s,a),!0;case"dragenter":return Zi=ya(Zi,n,e,t,s,a),!0;case"mouseover":return Ji=ya(Ji,n,e,t,s,a),!0;case"pointerover":var l=a.pointerId;return go.set(l,ya(go.get(l)||null,n,e,t,s,a)),!0;case"gotpointercapture":return l=a.pointerId,mo.set(l,ya(mo.get(l)||null,n,e,t,s,a)),!0}return!1}function Db(n){var e=Lr(n.target);if(e!==null){var t=Xr(e);if(t!==null){if(e=t.tag,e===13){if(e=xx(t),e!==null){n.blockedOn=e,wx(n.lanePriority,function(){tn.unstable_runWithPriority(n.priority,function(){bx(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gl(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=df(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=Fo(t),e!==null&&lf(e),n.blockedOn=t,!1;e.shift()}return!0}function Dp(n,e,t){Gl(n)&&t.delete(e)}function zb(){for(qu=!1;0<ui.length;){var n=ui[0];if(n.blockedOn!==null){n=Fo(n.blockedOn),n!==null&&yx(n);break}for(var e=n.targetContainers;0<e.length;){var t=df(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&ui.shift()}$i!==null&&Gl($i)&&($i=null),Zi!==null&&Gl(Zi)&&(Zi=null),Ji!==null&&Gl(Ji)&&(Ji=null),go.forEach(Dp),mo.forEach(Dp)}function ba(n,e){n.blockedOn===e&&(n.blockedOn=null,qu||(qu=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,zb)))}function Sx(n){function e(a){return ba(a,n)}if(0<ui.length){ba(ui[0],n);for(var t=1;t<ui.length;t++){var s=ui[t];s.blockedOn===n&&(s.blockedOn=null)}}for($i!==null&&ba($i,n),Zi!==null&&ba(Zi,n),Ji!==null&&ba(Ji,n),go.forEach(e),mo.forEach(e),t=0;t<va.length;t++)s=va[t],s.blockedOn===n&&(s.blockedOn=null);for(;0<va.length&&(t=va[0],t.blockedOn===null);)Db(t),t.blockedOn===null&&va.shift()}function tl(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var bs={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},_h={},_x={};Ii&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Fc(n){if(_h[n])return _h[n];if(!bs[n])return n;var e=bs[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in _x)return _h[n]=e[t];return n}var Mx=Fc("animationend"),Ax=Fc("animationiteration"),Cx=Fc("animationstart"),Ex=Fc("transitionend"),Tx=new Map,cf=new Map,Nb=["abort","abort",Mx,"animationEnd",Ax,"animationIteration",Cx,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ex,"transitionEnd","waiting","waiting"];function hf(n,e){for(var t=0;t<n.length;t+=2){var s=n[t],a=n[t+1];a="on"+(a[0].toUpperCase()+a.slice(1)),cf.set(s,e),Tx.set(s,a),Ur(a,[s])}}var Fb=tn.unstable_now;Fb();var Pt=8;function xs(n){if((1&n)!==0)return Pt=15,1;if((2&n)!==0)return Pt=14,2;if((4&n)!==0)return Pt=13,4;var e=24&n;return e!==0?(Pt=12,e):(n&32)!==0?(Pt=11,32):(e=192&n,e!==0?(Pt=10,e):(n&256)!==0?(Pt=9,256):(e=3584&n,e!==0?(Pt=8,e):(n&4096)!==0?(Pt=7,4096):(e=4186112&n,e!==0?(Pt=6,e):(e=62914560&n,e!==0?(Pt=5,e):n&67108864?(Pt=4,67108864):(n&134217728)!==0?(Pt=3,134217728):(e=805306368&n,e!==0?(Pt=2,e):(1073741824&n)!==0?(Pt=1,1073741824):(Pt=8,n))))))}function Ob(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Bb(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Pe(358,n))}}function xo(n,e){var t=n.pendingLanes;if(t===0)return Pt=0;var s=0,a=0,l=n.expiredLanes,d=n.suspendedLanes,p=n.pingedLanes;if(l!==0)s=l,a=Pt=15;else if(l=t&134217727,l!==0){var v=l&~d;v!==0?(s=xs(v),a=Pt):(p&=l,p!==0&&(s=xs(p),a=Pt))}else l=t&~d,l!==0?(s=xs(l),a=Pt):p!==0&&(s=xs(p),a=Pt);if(s===0)return 0;if(s=31-ur(s),s=t&((0>s?0:1<<s)<<1)-1,e!==0&&e!==s&&(e&d)===0){if(xs(e),a<=Pt)return e;Pt=a}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=s;0<e;)t=31-ur(e),a=1<<t,s|=n[t],e&=~a;return s}function kx(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function oc(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=vs(24&~e),n===0?oc(10,e):n;case 10:return n=vs(192&~e),n===0?oc(8,e):n;case 8:return n=vs(3584&~e),n===0&&(n=vs(4186112&~e),n===0&&(n=512)),n;case 2:return e=vs(805306368&~e),e===0&&(e=268435456),e}throw Error(Pe(358,n))}function vs(n){return n&-n}function Mh(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Oc(n,e,t){n.pendingLanes|=e;var s=e-1;n.suspendedLanes&=s,n.pingedLanes&=s,n=n.eventTimes,e=31-ur(e),n[e]=t}var ur=Math.clz32?Math.clz32:Vb,Hb=Math.log,Wb=Math.LN2;function Vb(n){return n===0?32:31-(Hb(n)/Wb|0)|0}var Ub=tn.unstable_UserBlockingPriority,Gb=tn.unstable_runWithPriority,Xl=!0;function Xb(n,e,t,s){kr||af();var a=uf,l=kr;kr=!0;try{gx(a,n,e,t,s)}finally{(kr=l)||of()}}function Yb(n,e,t,s){Gb(Ub,uf.bind(null,n,e,t,s))}function uf(n,e,t,s){if(Xl){var a;if((a=(e&4)===0)&&0<ui.length&&-1<Rp.indexOf(n))n=$u(null,n,e,t,s),ui.push(n);else{var l=df(n,e,t,s);if(l===null)a&&Ip(n,s);else{if(a){if(-1<Rp.indexOf(n)){n=$u(l,n,e,t,s),ui.push(n);return}if(Ib(l,n,e,t,s))return;Ip(n,s)}Vx(n,e,s,null,t)}}}}function df(n,e,t,s){var a=rf(s);if(a=Lr(a),a!==null){var l=Xr(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=xx(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.hydrate)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Vx(n,e,s,a,t),null}var Xi=null,ff=null,Yl=null;function Lx(){if(Yl)return Yl;var n,e=ff,t=e.length,s,a="value"in Xi?Xi.value:Xi.textContent,l=a.length;for(n=0;n<t&&e[n]===a[n];n++);var d=t-n;for(s=1;s<=d&&e[t-s]===a[l-s];s++);return Yl=a.slice(n,1<s?1-s:void 0)}function jl(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function nl(){return!0}function zp(){return!1}function Un(n){function e(t,s,a,l,d){this._reactName=t,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var p in n)n.hasOwnProperty(p)&&(t=n[p],this[p]=t?t(l):l[p]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?nl:zp,this.isPropagationStopped=zp,this}return Bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),e}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pf=Un(ta),No=Bt({},ta,{view:0,detail:0}),jb=Un(No),Ah,Ch,wa,Bc=Bt({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wa&&(wa&&n.type==="mousemove"?(Ah=n.screenX-wa.screenX,Ch=n.screenY-wa.screenY):Ch=Ah=0,wa=n),Ah)},movementY:function(n){return"movementY"in n?n.movementY:Ch}}),Np=Un(Bc),qb=Bt({},Bc,{dataTransfer:0}),$b=Un(qb),Zb=Bt({},No,{relatedTarget:0}),Eh=Un(Zb),Jb=Bt({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),Qb=Un(Jb),Kb=Bt({},ta,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),e1=Un(Kb),t1=Bt({},ta,{data:0}),Fp=Un(t1),n1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s1(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=r1[n])?!!e[n]:!1}function gf(){return s1}var a1=Bt({},No,{key:function(n){if(n.key){var e=n1[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=jl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?i1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gf,charCode:function(n){return n.type==="keypress"?jl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?jl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),o1=Un(a1),l1=Bt({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Op=Un(l1),c1=Bt({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gf}),h1=Un(c1),u1=Bt({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),d1=Un(u1),f1=Bt({},Bc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),p1=Un(f1),g1=[9,13,27,32],mf=Ii&&"CompositionEvent"in window,Ka=null;Ii&&"documentMode"in document&&(Ka=document.documentMode);var m1=Ii&&"TextEvent"in window&&!Ka,Px=Ii&&(!mf||Ka&&8<Ka&&11>=Ka),Bp=String.fromCharCode(32),Hp=!1;function Rx(n,e){switch(n){case"keyup":return g1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ix(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ws=!1;function x1(n,e){switch(n){case"compositionend":return Ix(e);case"keypress":return e.which!==32?null:(Hp=!0,Bp);case"textInput":return n=e.data,n===Bp&&Hp?null:n;default:return null}}function v1(n,e){if(ws)return n==="compositionend"||!mf&&Rx(n,e)?(n=Lx(),Yl=ff=Xi=null,ws=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Px&&e.locale!=="ko"?null:e.data;default:return null}}var y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wp(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!y1[n.type]:e==="textarea"}function Dx(n,e,t,s){fx(s),e=lc(e,"onChange"),0<e.length&&(t=new pf("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var eo=null,vo=null;function b1(n){Bx(n,0)}function Hc(n){var e=_s(n);if(ax(e))return n}function w1(n,e){if(n==="change")return e}var zx=!1;if(Ii){var Th;if(Ii){var kh="oninput"in document;if(!kh){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),kh=typeof Vp.oninput=="function"}Th=kh}else Th=!1;zx=Th&&(!document.documentMode||9<document.documentMode)}function Up(){eo&&(eo.detachEvent("onpropertychange",Nx),vo=eo=null)}function Nx(n){if(n.propertyName==="value"&&Hc(vo)){var e=[];if(Dx(e,vo,n,rf(n)),n=b1,kr)n(e);else{kr=!0;try{sf(n,e)}finally{kr=!1,of()}}}}function S1(n,e,t){n==="focusin"?(Up(),eo=e,vo=t,eo.attachEvent("onpropertychange",Nx)):n==="focusout"&&Up()}function _1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hc(vo)}function M1(n,e){if(n==="click")return Hc(e)}function A1(n,e){if(n==="input"||n==="change")return Hc(e)}function C1(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Xn=typeof Object.is=="function"?Object.is:C1,E1=Object.prototype.hasOwnProperty;function yo(n,e){if(Xn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++)if(!E1.call(e,t[s])||!Xn(n[t[s]],e[t[s]]))return!1;return!0}function Gp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Xp(n,e){var t=Gp(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Gp(t)}}function Fx(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Fx(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Yp(){for(var n=window,e=rc();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=rc(n.document)}return e}function Zu(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var T1=Ii&&"documentMode"in document&&11>=document.documentMode,Ss=null,Ju=null,to=null,Qu=!1;function jp(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Qu||Ss==null||Ss!==rc(s)||(s=Ss,"selectionStart"in s&&Zu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),to&&yo(to,s)||(to=s,s=lc(Ju,"onSelect"),0<s.length&&(e=new pf("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=Ss)))}hf("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);hf("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);hf(Nb,2);for(var qp="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Lh=0;Lh<qp.length;Lh++)cf.set(qp[Lh],0);Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ox=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function $p(n,e,t){var s=n.type||"unknown-event";n.currentTarget=t,Pb(s,e,void 0,n),n.currentTarget=null}function Bx(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],a=s.event;s=s.listeners;e:{var l=void 0;if(e)for(var d=s.length-1;0<=d;d--){var p=s[d],v=p.instance,y=p.currentTarget;if(p=p.listener,v!==l&&a.isPropagationStopped())break e;$p(a,p,y),l=v}else for(d=0;d<s.length;d++){if(p=s[d],v=p.instance,y=p.currentTarget,p=p.listener,v!==l&&a.isPropagationStopped())break e;$p(a,p,y),l=v}}}if(ac)throw n=ju,ac=!1,ju=null,n}function zt(n,e){var t=Gx(e),s=n+"__bubble";t.has(s)||(Wx(e,n,2,!1),t.add(s))}var Zp="_reactListening"+Math.random().toString(36).slice(2);function Hx(n){n[Zp]||(n[Zp]=!0,ix.forEach(function(e){Ox.has(e)||Jp(e,!1,n,null),Jp(e,!0,n,null)}))}function Jp(n,e,t,s){var a=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,l=t;if(n==="selectionchange"&&t.nodeType!==9&&(l=t.ownerDocument),s!==null&&!e&&Ox.has(n)){if(n!=="scroll")return;a|=2,l=s}var d=Gx(l),p=n+"__"+(e?"capture":"bubble");d.has(p)||(e&&(a|=4),Wx(l,n,a,e),d.add(p))}function Wx(n,e,t,s){var a=cf.get(e);switch(a===void 0?2:a){case 0:a=Xb;break;case 1:a=Yb;break;default:a=uf}t=a.bind(null,e,t,n),a=void 0,!Yu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),s?a!==void 0?n.addEventListener(e,t,{capture:!0,passive:a}):n.addEventListener(e,t,!0):a!==void 0?n.addEventListener(e,t,{passive:a}):n.addEventListener(e,t,!1)}function Vx(n,e,t,s,a){var l=s;if((e&1)===0&&(e&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var p=s.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(d===4)for(d=s.return;d!==null;){var v=d.tag;if((v===3||v===4)&&(v=d.stateNode.containerInfo,v===a||v.nodeType===8&&v.parentNode===a))return;d=d.return}for(;p!==null;){if(d=Lr(p),d===null)return;if(v=d.tag,v===5||v===6){s=l=d;continue e}p=p.parentNode}}s=s.return}Eb(function(){var y=l,M=rf(t),E=[];e:{var T=Tx.get(n);if(T!==void 0){var L=pf,D=n;switch(n){case"keypress":if(jl(t)===0)break e;case"keydown":case"keyup":L=o1;break;case"focusin":D="focus",L=Eh;break;case"focusout":D="blur",L=Eh;break;case"beforeblur":case"afterblur":L=Eh;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=$b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=h1;break;case Mx:case Ax:case Cx:L=Qb;break;case Ex:L=d1;break;case"scroll":L=jb;break;case"wheel":L=p1;break;case"copy":case"cut":case"paste":L=e1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Op}var N=(e&4)!==0,z=!N&&n==="scroll",C=N?T!==null?T+"Capture":null:T;N=[];for(var S=y,G;S!==null;){G=S;var W=G.stateNode;if(G.tag===5&&W!==null&&(G=W,C!==null&&(W=po(S,C),W!=null&&N.push(bo(S,W,G)))),z)break;S=S.return}0<N.length&&(T=new L(T,D,null,t,M),E.push({event:T,listeners:N}))}}if((e&7)===0){e:{if(T=n==="mouseover"||n==="pointerover",L=n==="mouseout"||n==="pointerout",T&&(e&16)===0&&(D=t.relatedTarget||t.fromElement)&&(Lr(D)||D[na]))break e;if((L||T)&&(T=M.window===M?M:(T=M.ownerDocument)?T.defaultView||T.parentWindow:window,L?(D=t.relatedTarget||t.toElement,L=y,D=D?Lr(D):null,D!==null&&(z=Xr(D),D!==z||D.tag!==5&&D.tag!==6)&&(D=null)):(L=null,D=y),L!==D)){if(N=Np,W="onMouseLeave",C="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(N=Op,W="onPointerLeave",C="onPointerEnter",S="pointer"),z=L==null?T:_s(L),G=D==null?T:_s(D),T=new N(W,S+"leave",L,t,M),T.target=z,T.relatedTarget=G,W=null,Lr(M)===y&&(N=new N(C,S+"enter",D,t,M),N.target=G,N.relatedTarget=z,W=N),z=W,L&&D)t:{for(N=L,C=D,S=0,G=N;G;G=$r(G))S++;for(G=0,W=C;W;W=$r(W))G++;for(;0<S-G;)N=$r(N),S--;for(;0<G-S;)C=$r(C),G--;for(;S--;){if(N===C||C!==null&&N===C.alternate)break t;N=$r(N),C=$r(C)}N=null}else N=null;L!==null&&Qp(E,T,L,N,!1),D!==null&&z!==null&&Qp(E,z,D,N,!0)}}e:{if(T=y?_s(y):window,L=T.nodeName&&T.nodeName.toLowerCase(),L==="select"||L==="input"&&T.type==="file")var H=w1;else if(Wp(T))if(zx)H=A1;else{H=_1;var $=S1}else(L=T.nodeName)&&L.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(H=M1);if(H&&(H=H(n,y))){Dx(E,H,t,M);break e}$&&$(n,T,y),n==="focusout"&&($=T._wrapperState)&&$.controlled&&T.type==="number"&&Ou(T,"number",T.value)}switch($=y?_s(y):window,n){case"focusin":(Wp($)||$.contentEditable==="true")&&(Ss=$,Ju=y,to=null);break;case"focusout":to=Ju=Ss=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,jp(E,t,M);break;case"selectionchange":if(T1)break;case"keydown":case"keyup":jp(E,t,M)}var K;if(mf)e:{switch(n){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else ws?Rx(n,t)&&(le="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(le="onCompositionStart");le&&(Px&&t.locale!=="ko"&&(ws||le!=="onCompositionStart"?le==="onCompositionEnd"&&ws&&(K=Lx()):(Xi=M,ff="value"in Xi?Xi.value:Xi.textContent,ws=!0)),$=lc(y,le),0<$.length&&(le=new Fp(le,n,null,t,M),E.push({event:le,listeners:$}),K?le.data=K:(K=Ix(t),K!==null&&(le.data=K)))),(K=m1?x1(n,t):v1(n,t))&&(y=lc(y,"onBeforeInput"),0<y.length&&(M=new Fp("onBeforeInput","beforeinput",null,t,M),E.push({event:M,listeners:y}),M.data=K))}Bx(E,e)})}function bo(n,e,t){return{instance:n,listener:e,currentTarget:t}}function lc(n,e){for(var t=e+"Capture",s=[];n!==null;){var a=n,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=po(n,t),l!=null&&s.unshift(bo(n,l,a)),l=po(n,e),l!=null&&s.push(bo(n,l,a))),n=n.return}return s}function $r(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Qp(n,e,t,s,a){for(var l=e._reactName,d=[];t!==null&&t!==s;){var p=t,v=p.alternate,y=p.stateNode;if(v!==null&&v===s)break;p.tag===5&&y!==null&&(p=y,a?(v=po(t,l),v!=null&&d.unshift(bo(t,v,p))):a||(v=po(t,l),v!=null&&d.push(bo(t,v,p)))),t=t.return}d.length!==0&&n.push({event:e,listeners:d})}function cc(){}var Ph=null,Rh=null;function Ux(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ku(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kp=typeof setTimeout=="function"?setTimeout:void 0,k1=typeof clearTimeout=="function"?clearTimeout:void 0;function xf(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function Is(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function eg(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ih=0;function L1(n){return{$$typeof:tf,toString:n,valueOf:n}}var Wc=Math.random().toString(36).slice(2),Yi="__reactFiber$"+Wc,hc="__reactProps$"+Wc,na="__reactContainer$"+Wc,tg="__reactEvents$"+Wc;function Lr(n){var e=n[Yi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[na]||t[Yi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=eg(n);n!==null;){if(t=n[Yi])return t;n=eg(n)}return e}n=t,t=n.parentNode}return null}function Fo(n){return n=n[Yi]||n[na],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function _s(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Pe(33))}function Vc(n){return n[hc]||null}function Gx(n){var e=n[tg];return e===void 0&&(e=n[tg]=new Set),e}var ed=[],Ms=-1;function vr(n){return{current:n}}function Nt(n){0>Ms||(n.current=ed[Ms],ed[Ms]=null,Ms--)}function Vt(n,e){Ms++,ed[Ms]=n.current,n.current=e}var dr={},bn=vr(dr),Pn=vr(!1),Nr=dr;function Xs(n,e){var t=n.type.contextTypes;if(!t)return dr;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in t)a[l]=e[l];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=a),a}function Rn(n){return n=n.childContextTypes,n!=null}function uc(){Nt(Pn),Nt(bn)}function ng(n,e,t){if(bn.current!==dr)throw Error(Pe(168));Vt(bn,e),Vt(Pn,t)}function Xx(n,e,t){var s=n.stateNode;if(n=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var a in s)if(!(a in n))throw Error(Pe(108,ks(e)||"Unknown",a));return Bt({},t,s)}function ql(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||dr,Nr=bn.current,Vt(bn,n),Vt(Pn,Pn.current),!0}function ig(n,e,t){var s=n.stateNode;if(!s)throw Error(Pe(169));t?(n=Xx(n,e,Nr),s.__reactInternalMemoizedMergedChildContext=n,Nt(Pn),Nt(bn),Vt(bn,n)):Nt(Pn),Vt(Pn,t)}var vf=null,Dr=null,P1=tn.unstable_runWithPriority,yf=tn.unstable_scheduleCallback,td=tn.unstable_cancelCallback,R1=tn.unstable_shouldYield,rg=tn.unstable_requestPaint,nd=tn.unstable_now,I1=tn.unstable_getCurrentPriorityLevel,Uc=tn.unstable_ImmediatePriority,Yx=tn.unstable_UserBlockingPriority,jx=tn.unstable_NormalPriority,qx=tn.unstable_LowPriority,$x=tn.unstable_IdlePriority,Dh={},D1=rg!==void 0?rg:function(){},Ei=null,$l=null,zh=!1,sg=nd(),vn=1e4>sg?nd:function(){return nd()-sg};function Ys(){switch(I1()){case Uc:return 99;case Yx:return 98;case jx:return 97;case qx:return 96;case $x:return 95;default:throw Error(Pe(332))}}function Zx(n){switch(n){case 99:return Uc;case 98:return Yx;case 97:return jx;case 96:return qx;case 95:return $x;default:throw Error(Pe(332))}}function Fr(n,e){return n=Zx(n),P1(n,e)}function wo(n,e,t){return n=Zx(n),yf(n,e,t)}function vi(){if($l!==null){var n=$l;$l=null,td(n)}Jx()}function Jx(){if(!zh&&Ei!==null){zh=!0;var n=0;try{var e=Ei;Fr(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),Ei=null}catch(t){throw Ei!==null&&(Ei=Ei.slice(n+1)),yf(Uc,vi),t}finally{zh=!1}}}var z1=Gr.ReactCurrentBatchConfig;function ri(n,e){if(n&&n.defaultProps){e=Bt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var dc=vr(null),fc=null,As=null,pc=null;function bf(){pc=As=fc=null}function wf(n){var e=dc.current;Nt(dc),n.type._context._currentValue=e}function Qx(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function Ds(n,e){fc=n,pc=As=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(si=!0),n.firstContext=null)}function $n(n,e){if(pc!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(pc=n,e=1073741823),e={context:n,observedBits:e,next:null},As===null){if(fc===null)throw Error(Pe(308));As=e,fc.dependencies={lanes:0,firstContext:e,responders:null}}else As=As.next=e;return n._currentValue}var Ui=!1;function Sf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Kx(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Qi(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function ag(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var a=null,l=null;if(t=t.firstBaseUpdate,t!==null){do{var d={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};l===null?a=l=d:l=l.next=d,t=t.next}while(t!==null);l===null?a=l=e:l=l.next=e}else a=l=e;t={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function So(n,e,t,s){var a=n.updateQueue;Ui=!1;var l=a.firstBaseUpdate,d=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var v=p,y=v.next;v.next=null,d===null?l=y:d.next=y,d=v;var M=n.alternate;if(M!==null){M=M.updateQueue;var E=M.lastBaseUpdate;E!==d&&(E===null?M.firstBaseUpdate=y:E.next=y,M.lastBaseUpdate=v)}}if(l!==null){E=a.baseState,d=0,M=y=v=null;do{p=l.lane;var T=l.eventTime;if((s&p)===p){M!==null&&(M=M.next={eventTime:T,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var L=n,D=l;switch(p=e,T=t,D.tag){case 1:if(L=D.payload,typeof L=="function"){E=L.call(T,E,p);break e}E=L;break e;case 3:L.flags=L.flags&-4097|64;case 0:if(L=D.payload,p=typeof L=="function"?L.call(T,E,p):L,p==null)break e;E=Bt({},E,p);break e;case 2:Ui=!0}}l.callback!==null&&(n.flags|=32,p=a.effects,p===null?a.effects=[l]:p.push(l))}else T={eventTime:T,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},M===null?(y=M=T,v=E):M=M.next=T,d|=p;if(l=l.next,l===null){if(p=a.shared.pending,p===null)break;l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(1);M===null&&(v=E),a.baseState=v,a.firstBaseUpdate=y,a.lastBaseUpdate=M,Bo|=d,n.lanes=d,n.memoizedState=E}}function og(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var s=n[e],a=s.callback;if(a!==null){if(s.callback=null,s=t,typeof a!="function")throw Error(Pe(191,a));a.call(s)}}}var ev=new Dc.Component().refs;function gc(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:Bt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Gc={isMounted:function(n){return(n=n._reactInternals)?Xr(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var s=Vn(),a=er(n),l=Qi(s,a);l.payload=e,t!=null&&(l.callback=t),Ki(n,l),tr(n,a,s)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=Vn(),a=er(n),l=Qi(s,a);l.tag=1,l.payload=e,t!=null&&(l.callback=t),Ki(n,l),tr(n,a,s)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Vn(),s=er(n),a=Qi(t,s);a.tag=2,e!=null&&(a.callback=e),Ki(n,a),tr(n,s,t)}};function lg(n,e,t,s,a,l,d){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,l,d):e.prototype&&e.prototype.isPureReactComponent?!yo(t,s)||!yo(a,l):!0}function tv(n,e,t){var s=!1,a=dr,l=e.contextType;return typeof l=="object"&&l!==null?l=$n(l):(a=Rn(e)?Nr:bn.current,s=e.contextTypes,l=(s=s!=null)?Xs(n,a):dr),e=new e(t,l),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gc,n.stateNode=e,e._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=l),e}function cg(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&Gc.enqueueReplaceState(e,e.state,null)}function id(n,e,t,s){var a=n.stateNode;a.props=t,a.state=n.memoizedState,a.refs=ev,Sf(n);var l=e.contextType;typeof l=="object"&&l!==null?a.context=$n(l):(l=Rn(e)?Nr:bn.current,a.context=Xs(n,l)),So(n,t,a,s),a.state=n.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(gc(n,e,l,t),a.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Gc.enqueueReplaceState(a,a.state,null),So(n,t,a,s),a.state=n.memoizedState),typeof a.componentDidMount=="function"&&(n.flags|=4)}var il=Array.isArray;function Sa(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Pe(309));var s=t.stateNode}if(!s)throw Error(Pe(147,n));var a=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var d=s.refs;d===ev&&(d=s.refs={}),l===null?delete d[a]:d[a]=l},e._stringRef=a,e)}if(typeof n!="string")throw Error(Pe(284));if(!t._owner)throw Error(Pe(290,n))}return n}function rl(n,e){if(n.type!=="textarea")throw Error(Pe(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function nv(n){function e(z,C){if(n){var S=z.lastEffect;S!==null?(S.nextEffect=C,z.lastEffect=C):z.firstEffect=z.lastEffect=C,C.nextEffect=null,C.flags=8}}function t(z,C){if(!n)return null;for(;C!==null;)e(z,C),C=C.sibling;return null}function s(z,C){for(z=new Map;C!==null;)C.key!==null?z.set(C.key,C):z.set(C.index,C),C=C.sibling;return z}function a(z,C){return z=pr(z,C),z.index=0,z.sibling=null,z}function l(z,C,S){return z.index=S,n?(S=z.alternate,S!==null?(S=S.index,S<C?(z.flags=2,C):S):(z.flags=2,C)):C}function d(z){return n&&z.alternate===null&&(z.flags=2),z}function p(z,C,S,G){return C===null||C.tag!==6?(C=Hh(S,z.mode,G),C.return=z,C):(C=a(C,S),C.return=z,C)}function v(z,C,S,G){return C!==null&&C.elementType===S.type?(G=a(C,S.props),G.ref=Sa(z,C,S),G.return=z,G):(G=Kl(S.type,S.key,S.props,null,z.mode,G),G.ref=Sa(z,C,S),G.return=z,G)}function y(z,C,S,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==S.containerInfo||C.stateNode.implementation!==S.implementation?(C=Wh(S,z.mode,G),C.return=z,C):(C=a(C,S.children||[]),C.return=z,C)}function M(z,C,S,G,W){return C===null||C.tag!==7?(C=Os(S,z.mode,G,W),C.return=z,C):(C=a(C,S),C.return=z,C)}function E(z,C,S){if(typeof C=="string"||typeof C=="number")return C=Hh(""+C,z.mode,S),C.return=z,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Wa:return S=Kl(C.type,C.key,C.props,null,z.mode,S),S.ref=Sa(z,null,C),S.return=z,S;case Tr:return C=Wh(C,z.mode,S),C.return=z,C}if(il(C)||ma(C))return C=Os(C,z.mode,S,null),C.return=z,C;rl(z,C)}return null}function T(z,C,S,G){var W=C!==null?C.key:null;if(typeof S=="string"||typeof S=="number")return W!==null?null:p(z,C,""+S,G);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wa:return S.key===W?S.type===Gi?M(z,C,S.props.children,G,W):v(z,C,S,G):null;case Tr:return S.key===W?y(z,C,S,G):null}if(il(S)||ma(S))return W!==null?null:M(z,C,S,G,null);rl(z,S)}return null}function L(z,C,S,G,W){if(typeof G=="string"||typeof G=="number")return z=z.get(S)||null,p(C,z,""+G,W);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Wa:return z=z.get(G.key===null?S:G.key)||null,G.type===Gi?M(C,z,G.props.children,W,G.key):v(C,z,G,W);case Tr:return z=z.get(G.key===null?S:G.key)||null,y(C,z,G,W)}if(il(G)||ma(G))return z=z.get(S)||null,M(C,z,G,W,null);rl(C,G)}return null}function D(z,C,S,G){for(var W=null,H=null,$=C,K=C=0,le=null;$!==null&&K<S.length;K++){$.index>K?(le=$,$=null):le=$.sibling;var ge=T(z,$,S[K],G);if(ge===null){$===null&&($=le);break}n&&$&&ge.alternate===null&&e(z,$),C=l(ge,C,K),H===null?W=ge:H.sibling=ge,H=ge,$=le}if(K===S.length)return t(z,$),W;if($===null){for(;K<S.length;K++)$=E(z,S[K],G),$!==null&&(C=l($,C,K),H===null?W=$:H.sibling=$,H=$);return W}for($=s(z,$);K<S.length;K++)le=L($,z,K,S[K],G),le!==null&&(n&&le.alternate!==null&&$.delete(le.key===null?K:le.key),C=l(le,C,K),H===null?W=le:H.sibling=le,H=le);return n&&$.forEach(function(me){return e(z,me)}),W}function N(z,C,S,G){var W=ma(S);if(typeof W!="function")throw Error(Pe(150));if(S=W.call(S),S==null)throw Error(Pe(151));for(var H=W=null,$=C,K=C=0,le=null,ge=S.next();$!==null&&!ge.done;K++,ge=S.next()){$.index>K?(le=$,$=null):le=$.sibling;var me=T(z,$,ge.value,G);if(me===null){$===null&&($=le);break}n&&$&&me.alternate===null&&e(z,$),C=l(me,C,K),H===null?W=me:H.sibling=me,H=me,$=le}if(ge.done)return t(z,$),W;if($===null){for(;!ge.done;K++,ge=S.next())ge=E(z,ge.value,G),ge!==null&&(C=l(ge,C,K),H===null?W=ge:H.sibling=ge,H=ge);return W}for($=s(z,$);!ge.done;K++,ge=S.next())ge=L($,z,K,ge.value,G),ge!==null&&(n&&ge.alternate!==null&&$.delete(ge.key===null?K:ge.key),C=l(ge,C,K),H===null?W=ge:H.sibling=ge,H=ge);return n&&$.forEach(function(Y){return e(z,Y)}),W}return function(z,C,S,G){var W=typeof S=="object"&&S!==null&&S.type===Gi&&S.key===null;W&&(S=S.props.children);var H=typeof S=="object"&&S!==null;if(H)switch(S.$$typeof){case Wa:e:{for(H=S.key,W=C;W!==null;){if(W.key===H){switch(W.tag){case 7:if(S.type===Gi){t(z,W.sibling),C=a(W,S.props.children),C.return=z,z=C;break e}break;default:if(W.elementType===S.type){t(z,W.sibling),C=a(W,S.props),C.ref=Sa(z,W,S),C.return=z,z=C;break e}}t(z,W);break}else e(z,W);W=W.sibling}S.type===Gi?(C=Os(S.props.children,z.mode,G,S.key),C.return=z,z=C):(G=Kl(S.type,S.key,S.props,null,z.mode,G),G.ref=Sa(z,C,S),G.return=z,z=G)}return d(z);case Tr:e:{for(W=S.key;C!==null;){if(C.key===W)if(C.tag===4&&C.stateNode.containerInfo===S.containerInfo&&C.stateNode.implementation===S.implementation){t(z,C.sibling),C=a(C,S.children||[]),C.return=z,z=C;break e}else{t(z,C);break}else e(z,C);C=C.sibling}C=Wh(S,z.mode,G),C.return=z,z=C}return d(z)}if(typeof S=="string"||typeof S=="number")return S=""+S,C!==null&&C.tag===6?(t(z,C.sibling),C=a(C,S),C.return=z,z=C):(t(z,C),C=Hh(S,z.mode,G),C.return=z,z=C),d(z);if(il(S))return D(z,C,S,G);if(ma(S))return N(z,C,S,G);if(H&&rl(z,S),typeof S=="undefined"&&!W)switch(z.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Pe(152,ks(z.type)||"Component"))}return t(z,C)}}var mc=nv(!0),iv=nv(!1),Oo={},pi=vr(Oo),_o=vr(Oo),Mo=vr(Oo);function Pr(n){if(n===Oo)throw Error(Pe(174));return n}function rd(n,e){switch(Vt(Mo,e),Vt(_o,n),Vt(pi,Oo),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vu(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Vu(e,n)}Nt(pi),Vt(pi,e)}function js(){Nt(pi),Nt(_o),Nt(Mo)}function hg(n){Pr(Mo.current);var e=Pr(pi.current),t=Vu(e,n.type);e!==t&&(Vt(_o,n),Vt(pi,t))}function _f(n){_o.current===n&&(Nt(pi),Nt(_o))}var Wt=vr(0);function xc(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Li=null,ji=null,gi=!1;function rv(n,e){var t=Yn(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function ug(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function sd(n){if(gi){var e=ji;if(e){var t=e;if(!ug(n,e)){if(e=Is(t.nextSibling),!e||!ug(n,e)){n.flags=n.flags&-1025|2,gi=!1,Li=n;return}rv(Li,t)}Li=n,ji=Is(e.firstChild)}else n.flags=n.flags&-1025|2,gi=!1,Li=n}}function dg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Li=n}function sl(n){if(n!==Li)return!1;if(!gi)return dg(n),gi=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!Ku(e,n.memoizedProps))for(e=ji;e;)rv(n,e),e=Is(e.nextSibling);if(dg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Pe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ji=Is(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ji=null}}else ji=Li?Is(n.stateNode.nextSibling):null;return!0}function Nh(){ji=Li=null,gi=!1}var zs=[];function Mf(){for(var n=0;n<zs.length;n++)zs[n]._workInProgressVersionPrimary=null;zs.length=0}var no=Gr.ReactCurrentDispatcher,jn=Gr.ReactCurrentBatchConfig,Ao=0,Xt=null,mn=null,an=null,vc=!1,io=!1;function kn(){throw Error(Pe(321))}function Af(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Xn(n[t],e[t]))return!1;return!0}function Cf(n,e,t,s,a,l){if(Ao=l,Xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,no.current=n===null||n.memoizedState===null?F1:O1,n=t(s,a),io){l=0;do{if(io=!1,!(25>l))throw Error(Pe(301));l+=1,an=mn=null,e.updateQueue=null,no.current=B1,n=t(s,a)}while(io)}if(no.current=Sc,e=mn!==null&&mn.next!==null,Ao=0,an=mn=Xt=null,vc=!1,e)throw Error(Pe(300));return n}function Rr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Xt.memoizedState=an=n:an=an.next=n,an}function Yr(){if(mn===null){var n=Xt.alternate;n=n!==null?n.memoizedState:null}else n=mn.next;var e=an===null?Xt.memoizedState:an.next;if(e!==null)an=e,mn=n;else{if(n===null)throw Error(Pe(310));mn=n,n={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},an===null?Xt.memoizedState=an=n:an=an.next=n}return an}function di(n,e){return typeof e=="function"?e(n):e}function _a(n){var e=Yr(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=n;var s=mn,a=s.baseQueue,l=t.pending;if(l!==null){if(a!==null){var d=a.next;a.next=l.next,l.next=d}s.baseQueue=a=l,t.pending=null}if(a!==null){a=a.next,s=s.baseState;var p=d=l=null,v=a;do{var y=v.lane;if((Ao&y)===y)p!==null&&(p=p.next={lane:0,action:v.action,eagerReducer:v.eagerReducer,eagerState:v.eagerState,next:null}),s=v.eagerReducer===n?v.eagerState:n(s,v.action);else{var M={lane:y,action:v.action,eagerReducer:v.eagerReducer,eagerState:v.eagerState,next:null};p===null?(d=p=M,l=s):p=p.next=M,Xt.lanes|=y,Bo|=y}v=v.next}while(v!==null&&v!==a);p===null?l=s:p.next=d,Xn(s,e.memoizedState)||(si=!0),e.memoizedState=s,e.baseState=l,e.baseQueue=p,t.lastRenderedState=s}return[e.memoizedState,t.dispatch]}function Ma(n){var e=Yr(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=n;var s=t.dispatch,a=t.pending,l=e.memoizedState;if(a!==null){t.pending=null;var d=a=a.next;do l=n(l,d.action),d=d.next;while(d!==a);Xn(l,e.memoizedState)||(si=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),t.lastRenderedState=l}return[l,s]}function fg(n,e,t){var s=e._getVersion;s=s(e._source);var a=e._workInProgressVersionPrimary;if(a!==null?n=a===s:(n=n.mutableReadLanes,(n=(Ao&n)===n)&&(e._workInProgressVersionPrimary=s,zs.push(e))),n)return t(e._source);throw zs.push(e),Error(Pe(350))}function sv(n,e,t,s){var a=An;if(a===null)throw Error(Pe(349));var l=e._getVersion,d=l(e._source),p=no.current,v=p.useState(function(){return fg(a,e,t)}),y=v[1],M=v[0];v=an;var E=n.memoizedState,T=E.refs,L=T.getSnapshot,D=E.source;E=E.subscribe;var N=Xt;return n.memoizedState={refs:T,source:e,subscribe:s},p.useEffect(function(){T.getSnapshot=t,T.setSnapshot=y;var z=l(e._source);if(!Xn(d,z)){z=t(e._source),Xn(M,z)||(y(z),z=er(N),a.mutableReadLanes|=z&a.pendingLanes),z=a.mutableReadLanes,a.entangledLanes|=z;for(var C=a.entanglements,S=z;0<S;){var G=31-ur(S),W=1<<G;C[G]|=z,S&=~W}}},[t,e,s]),p.useEffect(function(){return s(e._source,function(){var z=T.getSnapshot,C=T.setSnapshot;try{C(z(e._source));var S=er(N);a.mutableReadLanes|=S&a.pendingLanes}catch(G){C(function(){throw G})}})},[e,s]),Xn(L,t)&&Xn(D,e)&&Xn(E,s)||(n={pending:null,dispatch:null,lastRenderedReducer:di,lastRenderedState:M},n.dispatch=y=kf.bind(null,Xt,n),v.queue=n,v.baseQueue=null,M=fg(a,e,t),v.memoizedState=v.baseState=M),M}function av(n,e,t){var s=Yr();return sv(s,n,e,t)}function Aa(n){var e=Rr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:di,lastRenderedState:n},n=n.dispatch=kf.bind(null,Xt,n),[e.memoizedState,n]}function yc(n,e,t,s){return n={tag:n,create:e,destroy:t,deps:s,next:null},e=Xt.updateQueue,e===null?(e={lastEffect:null},Xt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n)),n}function pg(n){var e=Rr();return n={current:n},e.memoizedState=n}function bc(){return Yr().memoizedState}function ad(n,e,t,s){var a=Rr();Xt.flags|=n,a.memoizedState=yc(1|e,t,void 0,s===void 0?null:s)}function Ef(n,e,t,s){var a=Yr();s=s===void 0?null:s;var l=void 0;if(mn!==null){var d=mn.memoizedState;if(l=d.destroy,s!==null&&Af(s,d.deps)){yc(e,t,l,s);return}}Xt.flags|=n,a.memoizedState=yc(1|e,t,l,s)}function gg(n,e){return ad(516,4,n,e)}function wc(n,e){return Ef(516,4,n,e)}function ov(n,e){return Ef(4,2,n,e)}function lv(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function cv(n,e,t){return t=t!=null?t.concat([n]):null,Ef(4,2,lv.bind(null,e,n),t)}function Tf(){}function hv(n,e){var t=Yr();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Af(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function uv(n,e){var t=Yr();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Af(e,s[1])?s[0]:(n=n(),t.memoizedState=[n,e],n)}function N1(n,e){var t=Ys();Fr(98>t?98:t,function(){n(!0)}),Fr(97<t?97:t,function(){var s=jn.transition;jn.transition=1;try{n(!1),e()}finally{jn.transition=s}})}function kf(n,e,t){var s=Vn(),a=er(n),l={lane:a,action:t,eagerReducer:null,eagerState:null,next:null},d=e.pending;if(d===null?l.next=l:(l.next=d.next,d.next=l),e.pending=l,d=n.alternate,n===Xt||d!==null&&d===Xt)io=vc=!0;else{if(n.lanes===0&&(d===null||d.lanes===0)&&(d=e.lastRenderedReducer,d!==null))try{var p=e.lastRenderedState,v=d(p,t);if(l.eagerReducer=d,l.eagerState=v,Xn(v,p))return}catch{}finally{}tr(n,a,s)}}var Sc={readContext:$n,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useOpaqueIdentifier:kn,unstable_isNewReconciler:!1},F1={readContext:$n,useCallback:function(n,e){return Rr().memoizedState=[n,e===void 0?null:e],n},useContext:$n,useEffect:gg,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ad(4,2,lv.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ad(4,2,n,e)},useMemo:function(n,e){var t=Rr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var s=Rr();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,n=s.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=kf.bind(null,Xt,n),[s.memoizedState,n]},useRef:pg,useState:Aa,useDebugValue:Tf,useDeferredValue:function(n){var e=Aa(n),t=e[0],s=e[1];return gg(function(){var a=jn.transition;jn.transition=1;try{s(n)}finally{jn.transition=a}},[n]),t},useTransition:function(){var n=Aa(!1),e=n[0];return n=N1.bind(null,n[1]),pg(n),[n,e]},useMutableSource:function(n,e,t){var s=Rr();return s.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},sv(s,n,e,t)},useOpaqueIdentifier:function(){if(gi){var n=!1,e=L1(function(){throw n||(n=!0,t("r:"+(Ih++).toString(36))),Error(Pe(355))}),t=Aa(e)[1];return(Xt.mode&2)===0&&(Xt.flags|=516,yc(5,function(){t("r:"+(Ih++).toString(36))},void 0,null)),e}return e="r:"+(Ih++).toString(36),Aa(e),e},unstable_isNewReconciler:!1},O1={readContext:$n,useCallback:hv,useContext:$n,useEffect:wc,useImperativeHandle:cv,useLayoutEffect:ov,useMemo:uv,useReducer:_a,useRef:bc,useState:function(){return _a(di)},useDebugValue:Tf,useDeferredValue:function(n){var e=_a(di),t=e[0],s=e[1];return wc(function(){var a=jn.transition;jn.transition=1;try{s(n)}finally{jn.transition=a}},[n]),t},useTransition:function(){var n=_a(di)[0];return[bc().current,n]},useMutableSource:av,useOpaqueIdentifier:function(){return _a(di)[0]},unstable_isNewReconciler:!1},B1={readContext:$n,useCallback:hv,useContext:$n,useEffect:wc,useImperativeHandle:cv,useLayoutEffect:ov,useMemo:uv,useReducer:Ma,useRef:bc,useState:function(){return Ma(di)},useDebugValue:Tf,useDeferredValue:function(n){var e=Ma(di),t=e[0],s=e[1];return wc(function(){var a=jn.transition;jn.transition=1;try{s(n)}finally{jn.transition=a}},[n]),t},useTransition:function(){var n=Ma(di)[0];return[bc().current,n]},useMutableSource:av,useOpaqueIdentifier:function(){return Ma(di)[0]},unstable_isNewReconciler:!1},H1=Gr.ReactCurrentOwner,si=!1;function Ln(n,e,t,s){e.child=n===null?iv(e,null,t,s):mc(e,n.child,t,s)}function mg(n,e,t,s,a){t=t.render;var l=e.ref;return Ds(e,a),s=Cf(n,e,t,s,l,a),n!==null&&!si?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~a,Pi(n,e,a)):(e.flags|=1,Ln(n,e,s,a),e.child)}function xg(n,e,t,s,a,l){if(n===null){var d=t.type;return typeof d=="function"&&!zf(d)&&d.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=d,dv(n,e,d,s,a,l)):(n=Kl(t.type,null,s,e,e.mode,l),n.ref=e.ref,n.return=e,e.child=n)}return d=n.child,(a&l)===0&&(a=d.memoizedProps,t=t.compare,t=t!==null?t:yo,t(a,s)&&n.ref===e.ref)?Pi(n,e,l):(e.flags|=1,n=pr(d,s),n.ref=e.ref,n.return=e,e.child=n)}function dv(n,e,t,s,a,l){if(n!==null&&yo(n.memoizedProps,s)&&n.ref===e.ref)if(si=!1,(l&a)!==0)(n.flags&16384)!==0&&(si=!0);else return e.lanes=n.lanes,Pi(n,e,l);return od(n,e,t,s,l)}function Fh(n,e,t){var s=e.pendingProps,a=s.children,l=n!==null?n.memoizedState:null;if(s.mode==="hidden"||s.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},ol(e,t);else if((t&1073741824)!==0)e.memoizedState={baseLanes:0},ol(e,l!==null?l.baseLanes:t);else return n=l!==null?l.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},ol(e,n),null;else l!==null?(s=l.baseLanes|t,e.memoizedState=null):s=t,ol(e,s);return Ln(n,e,a,t),e.child}function fv(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function od(n,e,t,s,a){var l=Rn(t)?Nr:bn.current;return l=Xs(e,l),Ds(e,a),t=Cf(n,e,t,s,l,a),n!==null&&!si?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~a,Pi(n,e,a)):(e.flags|=1,Ln(n,e,t,a),e.child)}function vg(n,e,t,s,a){if(Rn(t)){var l=!0;ql(e)}else l=!1;if(Ds(e,a),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),tv(e,t,s),id(e,t,s,a),s=!0;else if(n===null){var d=e.stateNode,p=e.memoizedProps;d.props=p;var v=d.context,y=t.contextType;typeof y=="object"&&y!==null?y=$n(y):(y=Rn(t)?Nr:bn.current,y=Xs(e,y));var M=t.getDerivedStateFromProps,E=typeof M=="function"||typeof d.getSnapshotBeforeUpdate=="function";E||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==s||v!==y)&&cg(e,d,s,y),Ui=!1;var T=e.memoizedState;d.state=T,So(e,s,d,a),v=e.memoizedState,p!==s||T!==v||Pn.current||Ui?(typeof M=="function"&&(gc(e,t,M,s),v=e.memoizedState),(p=Ui||lg(e,t,p,s,T,v,y))?(E||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4)):(typeof d.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=s,e.memoizedState=v),d.props=s,d.state=v,d.context=y,s=p):(typeof d.componentDidMount=="function"&&(e.flags|=4),s=!1)}else{d=e.stateNode,Kx(n,e),p=e.memoizedProps,y=e.type===e.elementType?p:ri(e.type,p),d.props=y,E=e.pendingProps,T=d.context,v=t.contextType,typeof v=="object"&&v!==null?v=$n(v):(v=Rn(t)?Nr:bn.current,v=Xs(e,v));var L=t.getDerivedStateFromProps;(M=typeof L=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==E||T!==v)&&cg(e,d,s,v),Ui=!1,T=e.memoizedState,d.state=T,So(e,s,d,a);var D=e.memoizedState;p!==E||T!==D||Pn.current||Ui?(typeof L=="function"&&(gc(e,t,L,s),D=e.memoizedState),(y=Ui||lg(e,t,y,s,T,D,v))?(M||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,D,v),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,D,v)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof d.componentDidUpdate!="function"||p===n.memoizedProps&&T===n.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===n.memoizedProps&&T===n.memoizedState||(e.flags|=256),e.memoizedProps=s,e.memoizedState=D),d.props=s,d.state=D,d.context=v,s=y):(typeof d.componentDidUpdate!="function"||p===n.memoizedProps&&T===n.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===n.memoizedProps&&T===n.memoizedState||(e.flags|=256),s=!1)}return ld(n,e,t,s,l,a)}function ld(n,e,t,s,a,l){fv(n,e);var d=(e.flags&64)!==0;if(!s&&!d)return a&&ig(e,t,!1),Pi(n,e,l);s=e.stateNode,H1.current=e;var p=d&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,n!==null&&d?(e.child=mc(e,n.child,null,l),e.child=mc(e,null,p,l)):Ln(n,e,p,l),e.memoizedState=s.state,a&&ig(e,t,!0),e.child}function yg(n){var e=n.stateNode;e.pendingContext?ng(n,e.pendingContext,e.pendingContext!==e.context):e.context&&ng(n,e.context,!1),rd(n,e.containerInfo)}var al={dehydrated:null,retryLane:0};function bg(n,e,t){var s=e.pendingProps,a=Wt.current,l=!1,d;return(d=(e.flags&64)!==0)||(d=n!==null&&n.memoizedState===null?!1:(a&2)!==0),d?(l=!0,e.flags&=-65):n!==null&&n.memoizedState===null||s.fallback===void 0||s.unstable_avoidThisFallback===!0||(a|=1),Vt(Wt,a&1),n===null?(s.fallback!==void 0&&sd(e),n=s.children,a=s.fallback,l?(n=wg(e,n,a,t),e.child.memoizedState={baseLanes:t},e.memoizedState=al,n):typeof s.unstable_expectedLoadTime=="number"?(n=wg(e,n,a,t),e.child.memoizedState={baseLanes:t},e.memoizedState=al,e.lanes=33554432,n):(t=Nf({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?l?(s=_g(n,e,s.children,s.fallback,t),l=e.child,a=n.child.memoizedState,l.memoizedState=a===null?{baseLanes:t}:{baseLanes:a.baseLanes|t},l.childLanes=n.childLanes&~t,e.memoizedState=al,s):(t=Sg(n,e,s.children,t),e.memoizedState=null,t):l?(s=_g(n,e,s.children,s.fallback,t),l=e.child,a=n.child.memoizedState,l.memoizedState=a===null?{baseLanes:t}:{baseLanes:a.baseLanes|t},l.childLanes=n.childLanes&~t,e.memoizedState=al,s):(t=Sg(n,e,s.children,t),e.memoizedState=null,t)}function wg(n,e,t,s){var a=n.mode,l=n.child;return e={mode:"hidden",children:e},(a&2)===0&&l!==null?(l.childLanes=0,l.pendingProps=e):l=Nf(e,a,0,null),t=Os(t,a,s,null),l.return=n,t.return=n,l.sibling=t,n.child=l,t}function Sg(n,e,t,s){var a=n.child;return n=a.sibling,t=pr(a,{mode:"visible",children:t}),(e.mode&2)===0&&(t.lanes=s),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function _g(n,e,t,s,a){var l=e.mode,d=n.child;n=d.sibling;var p={mode:"hidden",children:t};return(l&2)===0&&e.child!==d?(t=e.child,t.childLanes=0,t.pendingProps=p,d=t.lastEffect,d!==null?(e.firstEffect=t.firstEffect,e.lastEffect=d,d.nextEffect=null):e.firstEffect=e.lastEffect=null):t=pr(d,p),n!==null?s=pr(n,s):(s=Os(s,l,a,null),s.flags|=2),s.return=e,t.return=e,t.sibling=s,e.child=t,s}function Mg(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),Qx(n.return,e)}function Oh(n,e,t,s,a,l){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:a,lastEffect:l}:(d.isBackwards=e,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=t,d.tailMode=a,d.lastEffect=l)}function Ag(n,e,t){var s=e.pendingProps,a=s.revealOrder,l=s.tail;if(Ln(n,e,s.children,t),s=Wt.current,(s&2)!==0)s=s&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Mg(n,t);else if(n.tag===19)Mg(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(Vt(Wt,s),(e.mode&2)===0)e.memoizedState=null;else switch(a){case"forwards":for(t=e.child,a=null;t!==null;)n=t.alternate,n!==null&&xc(n)===null&&(a=t),t=t.sibling;t=a,t===null?(a=e.child,e.child=null):(a=t.sibling,t.sibling=null),Oh(e,!1,a,t,l,e.lastEffect);break;case"backwards":for(t=null,a=e.child,e.child=null;a!==null;){if(n=a.alternate,n!==null&&xc(n)===null){e.child=a;break}n=a.sibling,a.sibling=t,t=a,a=n}Oh(e,!0,t,null,l,e.lastEffect);break;case"together":Oh(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Pi(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Bo|=e.lanes,(t&e.childLanes)!==0){if(n!==null&&e.child!==n.child)throw Error(Pe(153));if(e.child!==null){for(n=e.child,t=pr(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=pr(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var pv,cd,gv,mv;pv=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};cd=function(){};gv=function(n,e,t,s){var a=n.memoizedProps;if(a!==s){n=e.stateNode,Pr(pi.current);var l=null;switch(t){case"input":a=Nu(n,a),s=Nu(n,s),l=[];break;case"option":a=Bu(n,a),s=Bu(n,s),l=[];break;case"select":a=Bt({},a,{value:void 0}),s=Bt({},s,{value:void 0}),l=[];break;case"textarea":a=Hu(n,a),s=Hu(n,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=cc)}Uu(t,s);var d;t=null;for(y in a)if(!s.hasOwnProperty(y)&&a.hasOwnProperty(y)&&a[y]!=null)if(y==="style"){var p=a[y];for(d in p)p.hasOwnProperty(d)&&(t||(t={}),t[d]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(uo.hasOwnProperty(y)?l||(l=[]):(l=l||[]).push(y,null));for(y in s){var v=s[y];if(p=a!=null?a[y]:void 0,s.hasOwnProperty(y)&&v!==p&&(v!=null||p!=null))if(y==="style")if(p){for(d in p)!p.hasOwnProperty(d)||v&&v.hasOwnProperty(d)||(t||(t={}),t[d]="");for(d in v)v.hasOwnProperty(d)&&p[d]!==v[d]&&(t||(t={}),t[d]=v[d])}else t||(l||(l=[]),l.push(y,t)),t=v;else y==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,p=p?p.__html:void 0,v!=null&&p!==v&&(l=l||[]).push(y,v)):y==="children"?typeof v!="string"&&typeof v!="number"||(l=l||[]).push(y,""+v):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(uo.hasOwnProperty(y)?(v!=null&&y==="onScroll"&&zt("scroll",n),l||p===v||(l=[])):typeof v=="object"&&v!==null&&v.$$typeof===tf?v.toString():(l=l||[]).push(y,v))}t&&(l=l||[]).push("style",t);var y=l;(e.updateQueue=y)&&(e.flags|=4)}};mv=function(n,e,t,s){t!==s&&(e.flags|=4)};function Ca(n,e){if(!gi)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function W1(n,e,t){var s=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Rn(e.type)&&uc(),null;case 3:return js(),Nt(Pn),Nt(bn),Mf(),s=e.stateNode,s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(sl(e)?e.flags|=4:s.hydrate||(e.flags|=256)),cd(e),null;case 5:_f(e);var a=Pr(Mo.current);if(t=e.type,n!==null&&e.stateNode!=null)gv(n,e,t,s,a),n.ref!==e.ref&&(e.flags|=128);else{if(!s){if(e.stateNode===null)throw Error(Pe(166));return null}if(n=Pr(pi.current),sl(e)){s=e.stateNode,t=e.type;var l=e.memoizedProps;switch(s[Yi]=e,s[hc]=l,t){case"dialog":zt("cancel",s),zt("close",s);break;case"iframe":case"object":case"embed":zt("load",s);break;case"video":case"audio":for(n=0;n<Ua.length;n++)zt(Ua[n],s);break;case"source":zt("error",s);break;case"img":case"image":case"link":zt("error",s),zt("load",s);break;case"details":zt("toggle",s);break;case"input":Ap(s,l),zt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},zt("invalid",s);break;case"textarea":Ep(s,l),zt("invalid",s)}Uu(t,l),n=null;for(var d in l)l.hasOwnProperty(d)&&(a=l[d],d==="children"?typeof a=="string"?s.textContent!==a&&(n=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(n=["children",""+a]):uo.hasOwnProperty(d)&&a!=null&&d==="onScroll"&&zt("scroll",s));switch(t){case"input":Ko(s),Cp(s,l,!0);break;case"textarea":Ko(s),Tp(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=cc)}s=n,e.updateQueue=s,s!==null&&(e.flags|=4)}else{switch(d=a.nodeType===9?a:a.ownerDocument,n===Wu.html&&(n=cx(t)),n===Wu.html?t==="script"?(n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=d.createElement(t,{is:s.is}):(n=d.createElement(t),t==="select"&&(d=n,s.multiple?d.multiple=!0:s.size&&(d.size=s.size))):n=d.createElementNS(n,t),n[Yi]=e,n[hc]=s,pv(n,e,!1,!1),e.stateNode=n,d=Gu(t,s),t){case"dialog":zt("cancel",n),zt("close",n),a=s;break;case"iframe":case"object":case"embed":zt("load",n),a=s;break;case"video":case"audio":for(a=0;a<Ua.length;a++)zt(Ua[a],n);a=s;break;case"source":zt("error",n),a=s;break;case"img":case"image":case"link":zt("error",n),zt("load",n),a=s;break;case"details":zt("toggle",n),a=s;break;case"input":Ap(n,s),a=Nu(n,s),zt("invalid",n);break;case"option":a=Bu(n,s);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},a=Bt({},s,{value:void 0}),zt("invalid",n);break;case"textarea":Ep(n,s),a=Hu(n,s),zt("invalid",n);break;default:a=s}Uu(t,a);var p=a;for(l in p)if(p.hasOwnProperty(l)){var v=p[l];l==="style"?dx(n,v):l==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&hx(n,v)):l==="children"?typeof v=="string"?(t!=="textarea"||v!=="")&&fo(n,v):typeof v=="number"&&fo(n,""+v):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(uo.hasOwnProperty(l)?v!=null&&l==="onScroll"&&zt("scroll",n):v!=null&&$d(n,l,v,d))}switch(t){case"input":Ko(n),Cp(n,s,!1);break;case"textarea":Ko(n),Tp(n);break;case"option":s.value!=null&&n.setAttribute("value",""+hr(s.value));break;case"select":n.multiple=!!s.multiple,l=s.value,l!=null?Ls(n,!!s.multiple,l,!1):s.defaultValue!=null&&Ls(n,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(n.onclick=cc)}Ux(t,s)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)mv(n,e,n.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(Pe(166));t=Pr(Mo.current),Pr(pi.current),sl(e)?(s=e.stateNode,t=e.memoizedProps,s[Yi]=e,s.nodeValue!==t&&(e.flags|=4)):(s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[Yi]=e,e.stateNode=s)}return null;case 13:return Nt(Wt),s=e.memoizedState,(e.flags&64)!==0?(e.lanes=t,e):(s=s!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&sl(e):t=n.memoizedState!==null,s&&!t&&(e.mode&2)!==0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Wt.current&1)!==0?on===0&&(on=3):((on===0||on===3)&&(on=4),An===null||(Bo&134217727)===0&&(ra&134217727)===0||Ns(An,yn))),(s||t)&&(e.flags|=4),null);case 4:return js(),cd(e),n===null&&Hx(e.stateNode.containerInfo),null;case 10:return wf(e),null;case 17:return Rn(e.type)&&uc(),null;case 19:if(Nt(Wt),s=e.memoizedState,s===null)return null;if(l=(e.flags&64)!==0,d=s.rendering,d===null)if(l)Ca(s,!1);else{if(on!==0||n!==null&&(n.flags&64)!==0)for(n=e.child;n!==null;){if(d=xc(n),d!==null){for(e.flags|=64,Ca(s,!1),l=d.updateQueue,l!==null&&(e.updateQueue=l,e.flags|=4),s.lastEffect===null&&(e.firstEffect=null),e.lastEffect=s.lastEffect,s=t,t=e.child;t!==null;)l=t,n=s,l.flags&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,d=l.alternate,d===null?(l.childLanes=0,l.lanes=n,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,n=d.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Vt(Wt,Wt.current&1|2),e.child}n=n.sibling}s.tail!==null&&vn()>gd&&(e.flags|=64,l=!0,Ca(s,!1),e.lanes=33554432)}else{if(!l)if(n=xc(d),n!==null){if(e.flags|=64,l=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Ca(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!gi)return e=e.lastEffect=s.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*vn()-s.renderingStartTime>gd&&t!==1073741824&&(e.flags|=64,l=!0,Ca(s,!1),e.lanes=33554432);s.isBackwards?(d.sibling=e.child,e.child=d):(t=s.last,t!==null?t.sibling=d:e.child=d,s.last=d)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.lastEffect=e.lastEffect,s.renderingStartTime=vn(),t.sibling=null,e=Wt.current,Vt(Wt,l?e&1|2:e&1),t):null;case 23:case 24:return Df(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&s.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Pe(156,e.tag))}function V1(n){switch(n.tag){case 1:Rn(n.type)&&uc();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(js(),Nt(Pn),Nt(bn),Mf(),e=n.flags,(e&64)!==0)throw Error(Pe(285));return n.flags=e&-4097|64,n;case 5:return _f(n),null;case 13:return Nt(Wt),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return Nt(Wt),null;case 4:return js(),null;case 10:return wf(n),null;case 23:case 24:return Df(),null;default:return null}}function Lf(n,e){try{var t="",s=e;do t+=Sb(s),s=s.return;while(s);var a=t}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:n,source:e,stack:a}}function hd(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var U1=typeof WeakMap=="function"?WeakMap:Map;function xv(n,e,t){t=Qi(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){Mc||(Mc=!0,md=s),hd(n,e)},t}function vv(n,e,t){t=Qi(-1,t),t.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=e.value;t.payload=function(){return hd(n,e),s(a)}}var l=n.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(t.callback=function(){typeof s!="function"&&(fi===null?fi=new Set([this]):fi.add(this),hd(n,e));var d=e.stack;this.componentDidCatch(e.value,{componentStack:d!==null?d:""})}),t}var G1=typeof WeakSet=="function"?WeakSet:Set;function Cg(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){nr(n,t)}else e.current=null}function X1(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,s=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:ri(e.type,t),s),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&xf(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Pe(163))}function Y1(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)===3){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var a=n;s=a.next,a=a.tag,(a&4)!==0&&(a&1)!==0&&(Ev(t,n),ew(t,n)),n=s}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(s=t.elementType===t.type?e.memoizedProps:ri(t.type,e.memoizedProps),n.componentDidUpdate(s,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&og(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}og(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&Ux(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&Sx(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Pe(163))}function Eg(n,e){for(var t=n;;){if(t.tag===5){var s=t.stateNode;if(e)s=s.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{s=t.stateNode;var a=t.memoizedProps.style;a=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=ux("display",a)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function Tg(n,e){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(vf,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var s=t,a=s.destroy;if(s=s.tag,a!==void 0)if((s&4)!==0)Ev(e,t);else{s=e;try{a()}catch(l){nr(s,l)}}t=t.next}while(t!==n)}break;case 1:if(Cg(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(l){nr(e,l)}break;case 5:Cg(e);break;case 4:yv(n,e)}}function kg(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function Lg(n){return n.tag===5||n.tag===3||n.tag===4}function Pg(n){e:{for(var e=n.return;e!==null;){if(Lg(e))break e;e=e.return}throw Error(Pe(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var s=!1;break;case 3:e=e.containerInfo,s=!0;break;case 4:e=e.containerInfo,s=!0;break;default:throw Error(Pe(161))}t.flags&16&&(fo(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||Lg(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}s?ud(n,t,e):dd(n,t,e)}function ud(n,e,t){var s=n.tag,a=s===5||s===6;if(a)n=a?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=cc));else if(s!==4&&(n=n.child,n!==null))for(ud(n,e,t),n=n.sibling;n!==null;)ud(n,e,t),n=n.sibling}function dd(n,e,t){var s=n.tag,a=s===5||s===6;if(a)n=a?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(dd(n,e,t),n=n.sibling;n!==null;)dd(n,e,t),n=n.sibling}function yv(n,e){for(var t=e,s=!1,a,l;;){if(!s){s=t.return;e:for(;;){if(s===null)throw Error(Pe(160));switch(a=s.stateNode,s.tag){case 5:l=!1;break e;case 3:a=a.containerInfo,l=!0;break e;case 4:a=a.containerInfo,l=!0;break e}s=s.return}s=!0}if(t.tag===5||t.tag===6){e:for(var d=n,p=t,v=p;;)if(Tg(d,v),v.child!==null&&v.tag!==4)v.child.return=v,v=v.child;else{if(v===p)break e;for(;v.sibling===null;){if(v.return===null||v.return===p)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}l?(d=a,p=t.stateNode,d.nodeType===8?d.parentNode.removeChild(p):d.removeChild(p)):a.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){a=t.stateNode.containerInfo,l=!0,t.child.return=t,t=t.child;continue}}else if(Tg(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(s=!1)}t.sibling.return=t.return,t=t.sibling}}function Bh(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do(s.tag&3)===3&&(n=s.destroy,s.destroy=void 0,n!==void 0&&n()),s=s.next;while(s!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){s=e.memoizedProps;var a=n!==null?n.memoizedProps:s;n=e.type;var l=e.updateQueue;if(e.updateQueue=null,l!==null){for(t[hc]=s,n==="input"&&s.type==="radio"&&s.name!=null&&ox(t,s),Gu(n,a),e=Gu(n,s),a=0;a<l.length;a+=2){var d=l[a],p=l[a+1];d==="style"?dx(t,p):d==="dangerouslySetInnerHTML"?hx(t,p):d==="children"?fo(t,p):$d(t,d,p,e)}switch(n){case"input":Fu(t,s);break;case"textarea":lx(t,s);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!s.multiple,l=s.value,l!=null?Ls(t,!!s.multiple,l,!1):n!==!!s.multiple&&(s.defaultValue!=null?Ls(t,!!s.multiple,s.defaultValue,!0):Ls(t,!!s.multiple,s.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Pe(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,Sx(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(If=vn(),Eg(e.child,!0)),Rg(e);return;case 19:Rg(e);return;case 17:return;case 23:case 24:Eg(e,e.memoizedState!==null);return}throw Error(Pe(163))}function Rg(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new G1),e.forEach(function(s){var a=iw.bind(null,n,s);t.has(s)||(t.add(s),s.then(a,a))})}}function j1(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var q1=Math.ceil,_c=Gr.ReactCurrentDispatcher,Pf=Gr.ReactCurrentOwner,lt=0,An=null,Zt=null,yn=0,Or=0,fd=vr(0),on=0,Xc=null,ia=0,Bo=0,ra=0,Rf=0,pd=null,If=0,gd=1/0;function sa(){gd=vn()+500}var Ye=null,Mc=!1,md=null,fi=null,fr=!1,ro=null,Ga=90,xd=[],vd=[],Ri=null,so=0,yd=null,Zl=-1,ki=0,Jl=0,ao=null,Ql=!1;function Vn(){return(lt&48)!==0?vn():Zl!==-1?Zl:Zl=vn()}function er(n){if(n=n.mode,(n&2)===0)return 1;if((n&4)===0)return Ys()===99?1:2;if(ki===0&&(ki=ia),z1.transition!==0){Jl!==0&&(Jl=pd!==null?pd.pendingLanes:0),n=ki;var e=4186112&~Jl;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=Ys(),(lt&4)!==0&&n===98?n=oc(12,ki):(n=Ob(n),n=oc(n,ki)),n}function tr(n,e,t){if(50<so)throw so=0,yd=null,Error(Pe(185));if(n=Yc(n,e),n===null)return null;Oc(n,e,t),n===An&&(ra|=e,on===4&&Ns(n,yn));var s=Ys();e===1?(lt&8)!==0&&(lt&48)===0?bd(n):(Zn(n,t),lt===0&&(sa(),vi())):((lt&4)===0||s!==98&&s!==99||(Ri===null?Ri=new Set([n]):Ri.add(n)),Zn(n,t)),pd=n}function Yc(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Zn(n,e){for(var t=n.callbackNode,s=n.suspendedLanes,a=n.pingedLanes,l=n.expirationTimes,d=n.pendingLanes;0<d;){var p=31-ur(d),v=1<<p,y=l[p];if(y===-1){if((v&s)===0||(v&a)!==0){y=e,xs(v);var M=Pt;l[p]=10<=M?y+250:6<=M?y+5e3:-1}}else y<=e&&(n.expiredLanes|=v);d&=~v}if(s=xo(n,n===An?yn:0),e=Pt,s===0)t!==null&&(t!==Dh&&td(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==Dh&&td(t)}e===15?(t=bd.bind(null,n),Ei===null?(Ei=[t],$l=yf(Uc,Jx)):Ei.push(t),t=Dh):e===14?t=wo(99,bd.bind(null,n)):(t=Bb(e),t=wo(t,bv.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function bv(n){if(Zl=-1,Jl=ki=0,(lt&48)!==0)throw Error(Pe(327));var e=n.callbackNode;if(yr()&&n.callbackNode!==e)return null;var t=xo(n,n===An?yn:0);if(t===0)return null;var s=t,a=lt;lt|=16;var l=Mv();(An!==n||yn!==s)&&(sa(),Fs(n,s));do try{J1();break}catch(p){_v(n,p)}while(1);if(bf(),_c.current=l,lt=a,Zt!==null?s=0:(An=null,yn=0,s=on),(ia&ra)!==0)Fs(n,0);else if(s!==0){if(s===2&&(lt|=64,n.hydrate&&(n.hydrate=!1,xf(n.containerInfo)),t=kx(n),t!==0&&(s=Xa(n,t))),s===1)throw e=Xc,Fs(n,0),Ns(n,t),Zn(n,vn()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,s){case 0:case 1:throw Error(Pe(345));case 2:Cr(n);break;case 3:if(Ns(n,t),(t&62914560)===t&&(s=If+500-vn(),10<s)){if(xo(n,0)!==0)break;if(a=n.suspendedLanes,(a&t)!==t){Vn(),n.pingedLanes|=n.suspendedLanes&a;break}n.timeoutHandle=Kp(Cr.bind(null,n),s);break}Cr(n);break;case 4:if(Ns(n,t),(t&4186112)===t)break;for(s=n.eventTimes,a=-1;0<t;){var d=31-ur(t);l=1<<d,d=s[d],d>a&&(a=d),t&=~l}if(t=a,t=vn()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*q1(t/1960))-t,10<t){n.timeoutHandle=Kp(Cr.bind(null,n),t);break}Cr(n);break;case 5:Cr(n);break;default:throw Error(Pe(329))}}return Zn(n,vn()),n.callbackNode===e?bv.bind(null,n):null}function Ns(n,e){for(e&=~Rf,e&=~ra,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ur(e),s=1<<t;n[t]=-1,e&=~s}}function bd(n){if((lt&48)!==0)throw Error(Pe(327));if(yr(),n===An&&(n.expiredLanes&yn)!==0){var e=yn,t=Xa(n,e);(ia&ra)!==0&&(e=xo(n,e),t=Xa(n,e))}else e=xo(n,0),t=Xa(n,e);if(n.tag!==0&&t===2&&(lt|=64,n.hydrate&&(n.hydrate=!1,xf(n.containerInfo)),e=kx(n),e!==0&&(t=Xa(n,e))),t===1)throw t=Xc,Fs(n,0),Ns(n,e),Zn(n,vn()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,Cr(n),Zn(n,vn()),null}function $1(){if(Ri!==null){var n=Ri;Ri=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Zn(e,vn())})}vi()}function wv(n,e){var t=lt;lt|=1;try{return n(e)}finally{lt=t,lt===0&&(sa(),vi())}}function Sv(n,e){var t=lt;lt&=-2,lt|=8;try{return n(e)}finally{lt=t,lt===0&&(sa(),vi())}}function ol(n,e){Vt(fd,Or),Or|=e,ia|=e}function Df(){Or=fd.current,Nt(fd)}function Fs(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,k1(t)),Zt!==null)for(t=Zt.return;t!==null;){var s=t;switch(s.tag){case 1:s=s.type.childContextTypes,s!=null&&uc();break;case 3:js(),Nt(Pn),Nt(bn),Mf();break;case 5:_f(s);break;case 4:js();break;case 13:Nt(Wt);break;case 19:Nt(Wt);break;case 10:wf(s);break;case 23:case 24:Df()}t=t.return}An=n,Zt=pr(n.current,null),yn=Or=ia=e,on=0,Xc=null,Rf=ra=Bo=0}function _v(n,e){do{var t=Zt;try{if(bf(),no.current=Sc,vc){for(var s=Xt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}vc=!1}if(Ao=0,an=mn=Xt=null,io=!1,Pf.current=null,t===null||t.return===null){on=1,Xc=e,Zt=null;break}e:{var l=n,d=t.return,p=t,v=e;if(e=yn,p.flags|=2048,p.firstEffect=p.lastEffect=null,v!==null&&typeof v=="object"&&typeof v.then=="function"){var y=v;if((p.mode&2)===0){var M=p.alternate;M?(p.updateQueue=M.updateQueue,p.memoizedState=M.memoizedState,p.lanes=M.lanes):(p.updateQueue=null,p.memoizedState=null)}var E=(Wt.current&1)!==0,T=d;do{var L;if(L=T.tag===13){var D=T.memoizedState;if(D!==null)L=D.dehydrated!==null;else{var N=T.memoizedProps;L=N.fallback===void 0?!1:N.unstable_avoidThisFallback!==!0?!0:!E}}if(L){var z=T.updateQueue;if(z===null){var C=new Set;C.add(y),T.updateQueue=C}else z.add(y);if((T.mode&2)===0){if(T.flags|=64,p.flags|=16384,p.flags&=-2981,p.tag===1)if(p.alternate===null)p.tag=17;else{var S=Qi(-1,1);S.tag=2,Ki(p,S)}p.lanes|=1;break e}v=void 0,p=e;var G=l.pingCache;if(G===null?(G=l.pingCache=new U1,v=new Set,G.set(y,v)):(v=G.get(y),v===void 0&&(v=new Set,G.set(y,v))),!v.has(p)){v.add(p);var W=nw.bind(null,l,y,p);y.then(W,W)}T.flags|=4096,T.lanes=e;break e}T=T.return}while(T!==null);v=Error((ks(p.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}on!==5&&(on=2),v=Lf(v,p),T=d;do{switch(T.tag){case 3:l=v,T.flags|=4096,e&=-e,T.lanes|=e;var H=xv(T,l,e);ag(T,H);break e;case 1:l=v;var $=T.type,K=T.stateNode;if((T.flags&64)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(fi===null||!fi.has(K)))){T.flags|=4096,e&=-e,T.lanes|=e;var le=vv(T,l,e);ag(T,le);break e}}T=T.return}while(T!==null)}Cv(t)}catch(ge){e=ge,Zt===t&&t!==null&&(Zt=t=t.return);continue}break}while(1)}function Mv(){var n=_c.current;return _c.current=Sc,n===null?Sc:n}function Xa(n,e){var t=lt;lt|=16;var s=Mv();An===n&&yn===e||Fs(n,e);do try{Z1();break}catch(a){_v(n,a)}while(1);if(bf(),lt=t,_c.current=s,Zt!==null)throw Error(Pe(261));return An=null,yn=0,on}function Z1(){for(;Zt!==null;)Av(Zt)}function J1(){for(;Zt!==null&&!R1();)Av(Zt)}function Av(n){var e=Tv(n.alternate,n,Or);n.memoizedProps=n.pendingProps,e===null?Cv(n):Zt=e,Pf.current=null}function Cv(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)===0){if(t=W1(t,e,Or),t!==null){Zt=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(Or&1073741824)!==0||(t.mode&4)===0){for(var s=0,a=t.child;a!==null;)s|=a.lanes|a.childLanes,a=a.sibling;t.childLanes=s}n!==null&&(n.flags&2048)===0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=V1(e),t!==null){t.flags&=2047,Zt=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){Zt=e;return}Zt=e=n}while(e!==null);on===0&&(on=5)}function Cr(n){var e=Ys();return Fr(99,Q1.bind(null,n,e)),null}function Q1(n,e){do yr();while(ro!==null);if((lt&48)!==0)throw Error(Pe(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Pe(177));n.callbackNode=null;var s=t.lanes|t.childLanes,a=s,l=n.pendingLanes&~a;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=a,n.mutableReadLanes&=a,n.entangledLanes&=a,a=n.entanglements;for(var d=n.eventTimes,p=n.expirationTimes;0<l;){var v=31-ur(l),y=1<<v;a[v]=0,d[v]=-1,p[v]=-1,l&=~y}if(Ri!==null&&(s&24)===0&&Ri.has(n)&&Ri.delete(n),n===An&&(Zt=An=null,yn=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,s=t.firstEffect):s=t:s=t.firstEffect,s!==null){if(a=lt,lt|=32,Pf.current=null,Ph=Xl,d=Yp(),Zu(d)){if("selectionStart"in d)p={start:d.selectionStart,end:d.selectionEnd};else e:if(p=(p=d.ownerDocument)&&p.defaultView||window,(y=p.getSelection&&p.getSelection())&&y.rangeCount!==0){p=y.anchorNode,l=y.anchorOffset,v=y.focusNode,y=y.focusOffset;try{p.nodeType,v.nodeType}catch{p=null;break e}var M=0,E=-1,T=-1,L=0,D=0,N=d,z=null;t:for(;;){for(var C;N!==p||l!==0&&N.nodeType!==3||(E=M+l),N!==v||y!==0&&N.nodeType!==3||(T=M+y),N.nodeType===3&&(M+=N.nodeValue.length),(C=N.firstChild)!==null;)z=N,N=C;for(;;){if(N===d)break t;if(z===p&&++L===l&&(E=M),z===v&&++D===y&&(T=M),(C=N.nextSibling)!==null)break;N=z,z=N.parentNode}N=C}p=E===-1||T===-1?null:{start:E,end:T}}else p=null;p=p||{start:0,end:0}}else p=null;Rh={focusedElem:d,selectionRange:p},Xl=!1,ao=null,Ql=!1,Ye=s;do try{K1()}catch(ge){if(Ye===null)throw Error(Pe(330));nr(Ye,ge),Ye=Ye.nextEffect}while(Ye!==null);ao=null,Ye=s;do try{for(d=n;Ye!==null;){var S=Ye.flags;if(S&16&&fo(Ye.stateNode,""),S&128){var G=Ye.alternate;if(G!==null){var W=G.ref;W!==null&&(typeof W=="function"?W(null):W.current=null)}}switch(S&1038){case 2:Pg(Ye),Ye.flags&=-3;break;case 6:Pg(Ye),Ye.flags&=-3,Bh(Ye.alternate,Ye);break;case 1024:Ye.flags&=-1025;break;case 1028:Ye.flags&=-1025,Bh(Ye.alternate,Ye);break;case 4:Bh(Ye.alternate,Ye);break;case 8:p=Ye,yv(d,p);var H=p.alternate;kg(p),H!==null&&kg(H)}Ye=Ye.nextEffect}}catch(ge){if(Ye===null)throw Error(Pe(330));nr(Ye,ge),Ye=Ye.nextEffect}while(Ye!==null);if(W=Rh,G=Yp(),S=W.focusedElem,d=W.selectionRange,G!==S&&S&&S.ownerDocument&&Fx(S.ownerDocument.documentElement,S)){for(d!==null&&Zu(S)&&(G=d.start,W=d.end,W===void 0&&(W=G),"selectionStart"in S?(S.selectionStart=G,S.selectionEnd=Math.min(W,S.value.length)):(W=(G=S.ownerDocument||document)&&G.defaultView||window,W.getSelection&&(W=W.getSelection(),p=S.textContent.length,H=Math.min(d.start,p),d=d.end===void 0?H:Math.min(d.end,p),!W.extend&&H>d&&(p=d,d=H,H=p),p=Xp(S,H),l=Xp(S,d),p&&l&&(W.rangeCount!==1||W.anchorNode!==p.node||W.anchorOffset!==p.offset||W.focusNode!==l.node||W.focusOffset!==l.offset)&&(G=G.createRange(),G.setStart(p.node,p.offset),W.removeAllRanges(),H>d?(W.addRange(G),W.extend(l.node,l.offset)):(G.setEnd(l.node,l.offset),W.addRange(G)))))),G=[],W=S;W=W.parentNode;)W.nodeType===1&&G.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<G.length;S++)W=G[S],W.element.scrollLeft=W.left,W.element.scrollTop=W.top}Xl=!!Ph,Rh=Ph=null,n.current=t,Ye=s;do try{for(S=n;Ye!==null;){var $=Ye.flags;if($&36&&Y1(S,Ye.alternate,Ye),$&128){G=void 0;var K=Ye.ref;if(K!==null){var le=Ye.stateNode;switch(Ye.tag){case 5:G=le;break;default:G=le}typeof K=="function"?K(G):K.current=G}}Ye=Ye.nextEffect}}catch(ge){if(Ye===null)throw Error(Pe(330));nr(Ye,ge),Ye=Ye.nextEffect}while(Ye!==null);Ye=null,D1(),lt=a}else n.current=t;if(fr)fr=!1,ro=n,Ga=e;else for(Ye=s;Ye!==null;)e=Ye.nextEffect,Ye.nextEffect=null,Ye.flags&8&&($=Ye,$.sibling=null,$.stateNode=null),Ye=e;if(s=n.pendingLanes,s===0&&(fi=null),s===1?n===yd?so++:(so=0,yd=n):so=0,t=t.stateNode,Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(vf,t,void 0,(t.current.flags&64)===64)}catch{}if(Zn(n,vn()),Mc)throw Mc=!1,n=md,md=null,n;return(lt&8)!==0||vi(),null}function K1(){for(;Ye!==null;){var n=Ye.alternate;Ql||ao===null||((Ye.flags&8)!==0?Pp(Ye,ao)&&(Ql=!0):Ye.tag===13&&j1(n,Ye)&&Pp(Ye,ao)&&(Ql=!0));var e=Ye.flags;(e&256)!==0&&X1(n,Ye),(e&512)===0||fr||(fr=!0,wo(97,function(){return yr(),null})),Ye=Ye.nextEffect}}function yr(){if(Ga!==90){var n=97<Ga?97:Ga;return Ga=90,Fr(n,tw)}return!1}function ew(n,e){xd.push(e,n),fr||(fr=!0,wo(97,function(){return yr(),null}))}function Ev(n,e){vd.push(e,n),fr||(fr=!0,wo(97,function(){return yr(),null}))}function tw(){if(ro===null)return!1;var n=ro;if(ro=null,(lt&48)!==0)throw Error(Pe(331));var e=lt;lt|=32;var t=vd;vd=[];for(var s=0;s<t.length;s+=2){var a=t[s],l=t[s+1],d=a.destroy;if(a.destroy=void 0,typeof d=="function")try{d()}catch(v){if(l===null)throw Error(Pe(330));nr(l,v)}}for(t=xd,xd=[],s=0;s<t.length;s+=2){a=t[s],l=t[s+1];try{var p=a.create;a.destroy=p()}catch(v){if(l===null)throw Error(Pe(330));nr(l,v)}}for(p=n.current.firstEffect;p!==null;)n=p.nextEffect,p.nextEffect=null,p.flags&8&&(p.sibling=null,p.stateNode=null),p=n;return lt=e,vi(),!0}function Ig(n,e,t){e=Lf(t,e),e=xv(n,e,1),Ki(n,e),e=Vn(),n=Yc(n,1),n!==null&&(Oc(n,1,e),Zn(n,e))}function nr(n,e){if(n.tag===3)Ig(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){Ig(t,n,e);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(fi===null||!fi.has(s))){n=Lf(e,n);var a=vv(t,n,1);if(Ki(t,a),a=Vn(),t=Yc(t,1),t!==null)Oc(t,1,a),Zn(t,a);else if(typeof s.componentDidCatch=="function"&&(fi===null||!fi.has(s)))try{s.componentDidCatch(e,n)}catch{}break}}t=t.return}}function nw(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),e=Vn(),n.pingedLanes|=n.suspendedLanes&t,An===n&&(yn&t)===t&&(on===4||on===3&&(yn&62914560)===yn&&500>vn()-If?Fs(n,0):Rf|=t),Zn(n,e)}function iw(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)===0?e=1:(e&4)===0?e=Ys()===99?1:2:(ki===0&&(ki=ia),e=vs(62914560&~ki),e===0&&(e=4194304))),t=Vn(),n=Yc(n,e),n!==null&&(Oc(n,e,t),Zn(n,t))}var Tv;Tv=function(n,e,t){var s=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||Pn.current)si=!0;else if((t&s)!==0)si=(n.flags&16384)!==0;else{switch(si=!1,e.tag){case 3:yg(e),Nh();break;case 5:hg(e);break;case 1:Rn(e.type)&&ql(e);break;case 4:rd(e,e.stateNode.containerInfo);break;case 10:s=e.memoizedProps.value;var a=e.type._context;Vt(dc,a._currentValue),a._currentValue=s;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!==0?bg(n,e,t):(Vt(Wt,Wt.current&1),e=Pi(n,e,t),e!==null?e.sibling:null);Vt(Wt,Wt.current&1);break;case 19:if(s=(t&e.childLanes)!==0,(n.flags&64)!==0){if(s)return Ag(n,e,t);e.flags|=64}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Vt(Wt,Wt.current),s)break;return null;case 23:case 24:return e.lanes=0,Fh(n,e,t)}return Pi(n,e,t)}else si=!1;switch(e.lanes=0,e.tag){case 2:if(s=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,a=Xs(e,bn.current),Ds(e,t),a=Cf(null,e,s,n,a,t),e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(s)){var l=!0;ql(e)}else l=!1;e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Sf(e);var d=s.getDerivedStateFromProps;typeof d=="function"&&gc(e,s,d,n),a.updater=Gc,e.stateNode=a,a._reactInternals=e,id(e,s,n,t),e=ld(null,e,s,!0,l,t)}else e.tag=0,Ln(null,e,a,t),e=e.child;return e;case 16:a=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,l=a._init,a=l(a._payload),e.type=a,l=e.tag=sw(a),n=ri(a,n),l){case 0:e=od(null,e,a,n,t);break e;case 1:e=vg(null,e,a,n,t);break e;case 11:e=mg(null,e,a,n,t);break e;case 14:e=xg(null,e,a,ri(a.type,n),s,t);break e}throw Error(Pe(306,a,""))}return e;case 0:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:ri(s,a),od(n,e,s,a,t);case 1:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:ri(s,a),vg(n,e,s,a,t);case 3:if(yg(e),s=e.updateQueue,n===null||s===null)throw Error(Pe(282));if(s=e.pendingProps,a=e.memoizedState,a=a!==null?a.element:null,Kx(n,e),So(e,s,null,t),s=e.memoizedState.element,s===a)Nh(),e=Pi(n,e,t);else{if(a=e.stateNode,(l=a.hydrate)&&(ji=Is(e.stateNode.containerInfo.firstChild),Li=e,l=gi=!0),l){if(n=a.mutableSourceEagerHydrationData,n!=null)for(a=0;a<n.length;a+=2)l=n[a],l._workInProgressVersionPrimary=n[a+1],zs.push(l);for(t=iv(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else Ln(n,e,s,t),Nh();e=e.child}return e;case 5:return hg(e),n===null&&sd(e),s=e.type,a=e.pendingProps,l=n!==null?n.memoizedProps:null,d=a.children,Ku(s,a)?d=null:l!==null&&Ku(s,l)&&(e.flags|=16),fv(n,e),Ln(n,e,d,t),e.child;case 6:return n===null&&sd(e),null;case 13:return bg(n,e,t);case 4:return rd(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=mc(e,null,s,t):Ln(n,e,s,t),e.child;case 11:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:ri(s,a),mg(n,e,s,a,t);case 7:return Ln(n,e,e.pendingProps,t),e.child;case 8:return Ln(n,e,e.pendingProps.children,t),e.child;case 12:return Ln(n,e,e.pendingProps.children,t),e.child;case 10:e:{s=e.type._context,a=e.pendingProps,d=e.memoizedProps,l=a.value;var p=e.type._context;if(Vt(dc,p._currentValue),p._currentValue=l,d!==null)if(p=d.value,l=Xn(p,l)?0:(typeof s._calculateChangedBits=="function"?s._calculateChangedBits(p,l):1073741823)|0,l===0){if(d.children===a.children&&!Pn.current){e=Pi(n,e,t);break e}}else for(p=e.child,p!==null&&(p.return=e);p!==null;){var v=p.dependencies;if(v!==null){d=p.child;for(var y=v.firstContext;y!==null;){if(y.context===s&&(y.observedBits&l)!==0){p.tag===1&&(y=Qi(-1,t&-t),y.tag=2,Ki(p,y)),p.lanes|=t,y=p.alternate,y!==null&&(y.lanes|=t),Qx(p.return,t),v.lanes|=t;break}y=y.next}}else d=p.tag===10&&p.type===e.type?null:p.child;if(d!==null)d.return=p;else for(d=p;d!==null;){if(d===e){d=null;break}if(p=d.sibling,p!==null){p.return=d.return,d=p;break}d=d.return}p=d}Ln(n,e,a.children,t),e=e.child}return e;case 9:return a=e.type,l=e.pendingProps,s=l.children,Ds(e,t),a=$n(a,l.unstable_observedBits),s=s(a),e.flags|=1,Ln(n,e,s,t),e.child;case 14:return a=e.type,l=ri(a,e.pendingProps),l=ri(a.type,l),xg(n,e,a,l,s,t);case 15:return dv(n,e,e.type,e.pendingProps,s,t);case 17:return s=e.type,a=e.pendingProps,a=e.elementType===s?a:ri(s,a),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Rn(s)?(n=!0,ql(e)):n=!1,Ds(e,t),tv(e,s,a),id(e,s,a,t),ld(null,e,s,!0,n,t);case 19:return Ag(n,e,t);case 23:return Fh(n,e,t);case 24:return Fh(n,e,t)}throw Error(Pe(156,e.tag))};function rw(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(n,e,t,s){return new rw(n,e,t,s)}function zf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sw(n){if(typeof n=="function")return zf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===zc)return 11;if(n===Nc)return 14}return 2}function pr(n,e){var t=n.alternate;return t===null?(t=Yn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Kl(n,e,t,s,a,l){var d=2;if(s=n,typeof n=="function")zf(n)&&(d=1);else if(typeof n=="string")d=5;else e:switch(n){case Gi:return Os(t.children,a,l,e);case rx:d=8,a|=16;break;case Zd:d=8,a|=1;break;case $a:return n=Yn(12,t,e,a|8),n.elementType=$a,n.type=$a,n.lanes=l,n;case Za:return n=Yn(13,t,e,a),n.type=Za,n.elementType=Za,n.lanes=l,n;case ic:return n=Yn(19,t,e,a),n.elementType=ic,n.lanes=l,n;case nf:return Nf(t,a,l,e);case zu:return n=Yn(24,t,e,a),n.elementType=zu,n.lanes=l,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Jd:d=10;break e;case Qd:d=9;break e;case zc:d=11;break e;case Nc:d=14;break e;case Kd:d=16,s=null;break e;case ef:d=22;break e}throw Error(Pe(130,n==null?n:typeof n,""))}return e=Yn(d,t,e,a),e.elementType=n,e.type=s,e.lanes=l,e}function Os(n,e,t,s){return n=Yn(7,n,s,e),n.lanes=t,n}function Nf(n,e,t,s){return n=Yn(23,n,s,e),n.elementType=nf,n.lanes=t,n}function Hh(n,e,t){return n=Yn(6,n,null,e),n.lanes=t,n}function Wh(n,e,t){return e=Yn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function aw(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Mh(0),this.expirationTimes=Mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mh(0),this.mutableSourceEagerHydrationData=null}function ow(n,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tr,key:s==null?null:""+s,children:n,containerInfo:e,implementation:t}}function Ac(n,e,t,s){var a=e.current,l=Vn(),d=er(a);e:if(t){t=t._reactInternals;t:{if(Xr(t)!==t||t.tag!==1)throw Error(Pe(170));var p=t;do{switch(p.tag){case 3:p=p.stateNode.context;break t;case 1:if(Rn(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break t}}p=p.return}while(p!==null);throw Error(Pe(171))}if(t.tag===1){var v=t.type;if(Rn(v)){t=Xx(t,v,p);break e}}t=p}else t=dr;return e.context===null?e.context=t:e.pendingContext=t,e=Qi(l,d),e.payload={element:n},s=s===void 0?null:s,s!==null&&(e.callback=s),Ki(a,e),tr(a,d,l),d}function Vh(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Dg(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Ff(n,e){Dg(n,e),(n=n.alternate)&&Dg(n,e)}function lw(){return null}function Of(n,e,t){var s=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new aw(n,e,t!=null&&t.hydrate===!0),e=Yn(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,Sf(e),n[na]=t.current,Hx(n.nodeType===8?n.parentNode:n),s)for(n=0;n<s.length;n++){e=s[n];var a=e._getVersion;a=a(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,a]:t.mutableSourceEagerHydrationData.push(e,a)}this._internalRoot=t}Of.prototype.render=function(n){Ac(n,this._internalRoot,null,null)};Of.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;Ac(null,n,null,function(){e[na]=null})};function Ho(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function cw(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new Of(n,0,e?{hydrate:!0}:void 0)}function jc(n,e,t,s,a){var l=t._reactRootContainer;if(l){var d=l._internalRoot;if(typeof a=="function"){var p=a;a=function(){var y=Vh(d);p.call(y)}}Ac(e,d,n,a)}else{if(l=t._reactRootContainer=cw(t,s),d=l._internalRoot,typeof a=="function"){var v=a;a=function(){var y=Vh(d);v.call(y)}}Sv(function(){Ac(e,d,n,a)})}return Vh(d)}yx=function(n){if(n.tag===13){var e=Vn();tr(n,4,e),Ff(n,4)}};lf=function(n){if(n.tag===13){var e=Vn();tr(n,67108864,e),Ff(n,67108864)}};bx=function(n){if(n.tag===13){var e=Vn(),t=er(n);tr(n,t,e),Ff(n,t)}};wx=function(n,e){return e()};Xu=function(n,e,t){switch(e){case"input":if(Fu(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var a=Vc(s);if(!a)throw Error(Pe(90));ax(s),Fu(s,a)}}}break;case"textarea":lx(n,t);break;case"select":e=t.value,e!=null&&Ls(n,!!t.multiple,e,!1)}};sf=wv;gx=function(n,e,t,s,a){var l=lt;lt|=4;try{return Fr(98,n.bind(null,e,t,s,a))}finally{lt=l,lt===0&&(sa(),vi())}};af=function(){(lt&49)===0&&($1(),yr())};mx=function(n,e){var t=lt;lt|=2;try{return n(e)}finally{lt=t,lt===0&&(sa(),vi())}};function kv(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ho(e))throw Error(Pe(200));return ow(n,e,null,t)}var hw={Events:[Fo,_s,Vc,fx,px,yr,{current:!1}]},Ea={findFiberByHostInstance:Lr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uw={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=vx(n),n===null?null:n.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||lw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ll.isDisabled&&ll.supportsFiber)try{vf=ll.inject(uw),Dr=ll}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hw;Qn.createPortal=kv;Qn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Pe(188)):Error(Pe(268,Object.keys(n)));return n=vx(e),n=n===null?null:n.stateNode,n};Qn.flushSync=function(n,e){var t=lt;if((t&48)!==0)return n(e);lt|=1;try{if(n)return Fr(99,n.bind(null,e))}finally{lt=t,vi()}};Qn.hydrate=function(n,e,t){if(!Ho(e))throw Error(Pe(200));return jc(null,n,e,!0,t)};Qn.render=function(n,e,t){if(!Ho(e))throw Error(Pe(200));return jc(null,n,e,!1,t)};Qn.unmountComponentAtNode=function(n){if(!Ho(n))throw Error(Pe(40));return n._reactRootContainer?(Sv(function(){jc(null,null,n,!1,function(){n._reactRootContainer=null,n[na]=null})}),!0):!1};Qn.unstable_batchedUpdates=wv;Qn.unstable_createPortal=function(n,e){return kv(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Qn.unstable_renderSubtreeIntoContainer=function(n,e,t,s){if(!Ho(t))throw Error(Pe(200));if(n==null||n._reactInternals===void 0)throw Error(Pe(38));return jc(n,e,t,!1,s)};Qn.version="17.0.2";function Lv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lv)}catch(n){console.error(n)}}Lv(),ex.exports=Qn;var dw=ex.exports;/**
 * @remix-run/router v1.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wd(){return wd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},wd.apply(this,arguments)}var qi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(qi||(qi={}));const zg="popstate";function fw(n){n===void 0&&(n={});function e(a,l){let{pathname:d="/",search:p="",hash:v=""}=Wo(a.location.hash.substr(1));return Sd("",{pathname:d,search:p,hash:v},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let d=a.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let v=a.location.href,y=v.indexOf("#");p=y===-1?v:v.slice(0,y)}return p+"#"+(typeof l=="string"?l:Bf(l))}function s(a,l){pw(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return xw(e,t,s,n)}function Dn(n,e){if(n===!1||n===null||typeof n=="undefined")throw new Error(e)}function pw(n,e){if(!n){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function gw(){return Math.random().toString(36).substr(2,8)}function Ng(n){return{usr:n.state,key:n.key}}function Sd(n,e,t,s){return t===void 0&&(t=null),wd({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wo(e):e,{state:t,key:e&&e.key||s||gw()})}function Bf(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Wo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function mw(n){let e=typeof window!="undefined"&&typeof window.location!="undefined"&&window.location.origin!=="null"?window.location.origin:window.location.href,t=typeof n=="string"?n:Bf(n);return Dn(e,"No window.location.(origin|href) available to create URL for href: "+t),new URL(t,e)}function xw(n,e,t,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,d=a.history,p=qi.Pop,v=null;function y(){p=qi.Pop,v&&v({action:p,location:T.location})}function M(L,D){p=qi.Push;let N=Sd(T.location,L,D);t&&t(N,L);let z=Ng(N),C=T.createHref(N);try{d.pushState(z,"",C)}catch{a.location.assign(C)}l&&v&&v({action:p,location:T.location})}function E(L,D){p=qi.Replace;let N=Sd(T.location,L,D);t&&t(N,L);let z=Ng(N),C=T.createHref(N);d.replaceState(z,"",C),l&&v&&v({action:p,location:T.location})}let T={get action(){return p},get location(){return n(a,d)},listen(L){if(v)throw new Error("A history only accepts one active listener");return a.addEventListener(zg,y),v=L,()=>{a.removeEventListener(zg,y),v=null}},createHref(L){return e(a,L)},encodeLocation(L){let D=mw(typeof L=="string"?L:Bf(L));return{pathname:D.pathname,search:D.search,hash:D.hash}},push:M,replace:E,go(L){return d.go(L)}};return T}var Fg;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Fg||(Fg={}));function vw(n,e,t){t===void 0&&(t="/");let s=typeof e=="string"?Wo(e):e,a=Iv(s.pathname||"/",t);if(a==null)return null;let l=Pv(n);yw(l);let d=null;for(let p=0;d==null&&p<l.length;++p)d=Tw(l[p],Pw(a));return d}function Pv(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let a=(l,d,p)=>{let v={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};v.relativePath.startsWith("/")&&(Dn(v.relativePath.startsWith(s),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(s.length));let y=Bs([s,v.relativePath]),M=t.concat(v);l.children&&l.children.length>0&&(Dn(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Pv(l.children,e,M,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:Cw(y,l.index),routesMeta:M})};return n.forEach((l,d)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))a(l,d);else for(let v of Rv(l.path))a(l,d,v)}),e}function Rv(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let d=Rv(s.join("/")),p=[];return p.push(...d.map(v=>v===""?l:[l,v].join("/"))),a&&p.push(...d),p.map(v=>n.startsWith("/")&&v===""?"/":v)}function yw(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Ew(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const bw=/^:\w+$/,ww=3,Sw=2,_w=1,Mw=10,Aw=-2,Og=n=>n==="*";function Cw(n,e){let t=n.split("/"),s=t.length;return t.some(Og)&&(s+=Aw),e&&(s+=Sw),t.filter(a=>!Og(a)).reduce((a,l)=>a+(bw.test(l)?ww:l===""?_w:Mw),s)}function Ew(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function Tw(n,e){let{routesMeta:t}=n,s={},a="/",l=[];for(let d=0;d<t.length;++d){let p=t[d],v=d===t.length-1,y=a==="/"?e:e.slice(a.length)||"/",M=kw({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},y);if(!M)return null;Object.assign(s,M.params);let E=p.route;l.push({params:s,pathname:Bs([a,M.pathname]),pathnameBase:Iw(Bs([a,M.pathnameBase])),route:E}),M.pathnameBase!=="/"&&(a=Bs([a,M.pathnameBase]))}return l}function kw(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=Lw(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],d=l.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:s.reduce((y,M,E)=>{if(M==="*"){let T=p[E]||"";d=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}return y[M]=Rw(p[E]||"",M),y},{}),pathname:l,pathnameBase:d,pattern:n}}function Lw(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Hf(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(d,p)=>(s.push(p),"/([^\\/]+)"));return n.endsWith("*")?(s.push("*"),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Pw(n){try{return decodeURI(n)}catch(e){return Hf(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Rw(n,e){try{return decodeURIComponent(n)}catch(t){return Hf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function Iv(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function Hf(n,e){if(!n){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}const Bs=n=>n.join("/").replace(/\/\/+/g,"/"),Iw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");class Dw{constructor(e,t,s,a){a===void 0&&(a=!1),this.status=e,this.statusText=t||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function zw(n){return n instanceof Dw}const Nw=["post","put","patch","delete"];[...Nw];/**
 * React Router v6.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},_d.apply(this,arguments)}function Fw(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const Ow=typeof Object.is=="function"?Object.is:Fw,{useState:Bw,useEffect:Hw,useLayoutEffect:Ww,useDebugValue:Vw}=Du;function Uw(n,e,t){const s=e(),[{inst:a},l]=Bw({inst:{value:s,getSnapshot:e}});return Ww(()=>{a.value=s,a.getSnapshot=e,Uh(a)&&l({inst:a})},[n,s,e]),Hw(()=>(Uh(a)&&l({inst:a}),n(()=>{Uh(a)&&l({inst:a})})),[n]),Vw(s),s}function Uh(n){const e=n.getSnapshot,t=n.value;try{const s=e();return!Ow(t,s)}catch{return!0}}function Gw(n,e,t){return e()}const Xw=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Yw=!Xw,jw=Yw?Gw:Uw;"useSyncExternalStore"in Du&&(n=>n.useSyncExternalStore)(Du);const qw=et.exports.createContext(null),$w=et.exports.createContext(null),Dv=et.exports.createContext(null),zv=et.exports.createContext(null),qc=et.exports.createContext(null),$c=et.exports.createContext({outlet:null,matches:[]}),Nv=et.exports.createContext(null);function Wf(){return et.exports.useContext(qc)!=null}function Zw(){return Wf()||Dn(!1),et.exports.useContext(qc).location}function Jw(n,e){Wf()||Dn(!1);let{navigator:t}=et.exports.useContext(zv),s=et.exports.useContext(Dv),{matches:a}=et.exports.useContext($c),l=a[a.length-1],d=l?l.params:{};l&&l.pathname;let p=l?l.pathnameBase:"/";l&&l.route;let v=Zw(),y;if(e){var M;let N=typeof e=="string"?Wo(e):e;p==="/"||((M=N.pathname)==null?void 0:M.startsWith(p))||Dn(!1),y=N}else y=v;let E=y.pathname||"/",T=p==="/"?E:E.slice(p.length)||"/",L=vw(n,{pathname:T}),D=tS(L&&L.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Bs([p,t.encodeLocation?t.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Bs([p,t.encodeLocation?t.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,s||void 0);return e&&D?et.exports.createElement(qc.Provider,{value:{location:_d({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:qi.Pop}},D):D}function Qw(){let n=sS(),e=zw(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s};return et.exports.createElement(et.exports.Fragment,null,et.exports.createElement("h2",null,"Unhandled Thrown Error!"),et.exports.createElement("h3",{style:{fontStyle:"italic"}},e),t?et.exports.createElement("pre",{style:a},t):null,et.exports.createElement("p",null,"\u{1F4BF} Hey developer \u{1F44B}"),et.exports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xA0",et.exports.createElement("code",{style:l},"errorElement")," props on\xA0",et.exports.createElement("code",{style:l},"<Route>")))}class Kw extends et.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?et.exports.createElement($c.Provider,{value:this.props.routeContext},et.exports.createElement(Nv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eS(n){let{routeContext:e,match:t,children:s}=n,a=et.exports.useContext(qw);return a&&t.route.errorElement&&(a._deepestRenderedBoundaryId=t.route.id),et.exports.createElement($c.Provider,{value:e},s)}function tS(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let s=n,a=t==null?void 0:t.errors;if(a!=null){let l=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));l>=0||Dn(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,d,p)=>{let v=d.route.id?a==null?void 0:a[d.route.id]:null,y=t?d.route.errorElement||et.exports.createElement(Qw,null):null,M=e.concat(s.slice(0,p+1)),E=()=>et.exports.createElement(eS,{match:d,routeContext:{outlet:l,matches:M}},v?y:d.route.element!==void 0?d.route.element:l);return t&&(d.route.errorElement||p===0)?et.exports.createElement(Kw,{location:t.location,component:y,error:v,children:E(),routeContext:{outlet:null,matches:M}}):E()},null)}var Bg;(function(n){n.UseRevalidator="useRevalidator"})(Bg||(Bg={}));var Cc;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(Cc||(Cc={}));function nS(n){let e=et.exports.useContext(Dv);return e||Dn(!1),e}function iS(n){let e=et.exports.useContext($c);return e||Dn(!1),e}function rS(n){let e=iS(),t=e.matches[e.matches.length-1];return t.route.id||Dn(!1),t.route.id}function sS(){var n;let e=et.exports.useContext(Nv),t=nS(Cc.UseRouteError),s=rS(Cc.UseRouteError);return e||((n=t.errors)==null?void 0:n[s])}function Fv(n){Dn(!1)}function aS(n){let{basename:e="/",children:t=null,location:s,navigationType:a=qi.Pop,navigator:l,static:d=!1}=n;Wf()&&Dn(!1);let p=e.replace(/^\/*/,"/"),v=et.exports.useMemo(()=>({basename:p,navigator:l,static:d}),[p,l,d]);typeof s=="string"&&(s=Wo(s));let{pathname:y="/",search:M="",hash:E="",state:T=null,key:L="default"}=s,D=et.exports.useMemo(()=>{let N=Iv(y,p);return N==null?null:{pathname:N,search:M,hash:E,state:T,key:L}},[p,y,M,E,T,L]);return D==null?null:et.exports.createElement(zv.Provider,{value:v},et.exports.createElement(qc.Provider,{children:t,value:{location:D,navigationType:a}}))}function oS(n){let{children:e,location:t}=n,s=et.exports.useContext($w),a=s&&!e?s.router.routes:Md(e);return Jw(a,t)}var Hg;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(Hg||(Hg={}));new Promise(()=>{});function Md(n,e){e===void 0&&(e=[]);let t=[];return et.exports.Children.forEach(n,(s,a)=>{if(!et.exports.isValidElement(s))return;if(s.type===et.exports.Fragment){t.push.apply(t,Md(s.props.children,e));return}s.type!==Fv&&Dn(!1),!s.props.index||!s.props.children||Dn(!1);let l=[...e,a],d={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,hasErrorBoundary:s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle};s.props.children&&(d.children=Md(s.props.children,l)),t.push(d)}),t}/**
 * React Router DOM v6.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lS(n){let{basename:e,children:t,window:s}=n,a=et.exports.useRef();a.current==null&&(a.current=fw({window:s,v5Compat:!0}));let l=a.current,[d,p]=et.exports.useState({action:l.action,location:l.location});return et.exports.useLayoutEffect(()=>l.listen(p),[l]),et.exports.createElement(aS,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:l})}var Wg;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(Wg||(Wg={}));var Vg;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Vg||(Vg={}));var Rt={latitude:41.881832,longitude:-87.623177,units:"imperial",bookmark:[{title:"news",content:[{name:"hacker news",url:"https://news.ycombinator.com/"},{name:"medium",url:"https://medium.com"},{name:"12ft",url:"https://12ft.io"}]},{title:"work",content:[{name:"stackoverflow",url:"https://stackoverflow.com"},{name:"github",url:"https://github.com"}]},{title:"finance",content:[{name:"tdameritrade",url:"https://secure.tdameritrade.com/"},{name:"options",url:"https://secure.tdameritrade.com/trade/options"},{name:"stocks/etfs",url:"https://secure.tdameritrade.com/trade"},{name:"marketwatch",url:"https://www.marketwatch.com"},{name:"calendar",url:"https://tradingeconomics.com/calendar"},{name:"screener",url:"https://finviz.com"}]},{title:"social",content:[{name:"reddit",url:"https://www.reddit.com"},{name:"youtube",url:"https://www.youtube.com"},{name:"linkedin",url:"https://www.linkedin.com"},{name:"twitter",url:"https://twitter.com/home"},{name:"tweetdeck",url:"https://tweetdeck.twitter.com"}]},{title:"other",content:[{name:"homebridge",url:"http://10.0.0.182:8581/login"},{name:"pi-hole",url:"http://10.0.0.182/admin/index.php"},{name:"maps",url:"https://www.google.com/maps/"}]}],unsplash:{box1:["chicago","miami","new york","seattle","austin"],box2:["florida","alaska","california","washington","maine","montana"],box3:["sea","ocean","lake","glacier","ice field","mountains","volcanos"],box4:["aircraft","f35","skyscraper","bridge","architecture"],box5:["japan","chile","angola","namibia","mauritius","botswana","tanzania"],box6:["elephant","monkey","lion","bear","owl","giraffe"]},unsplashCredential:"",openWeatherCredential:"",style:{background:"bg-[#F2F2F2]",navBackground:"bg-[#F2F2F2]",underline:"decoration-blue-500"}},Zc={exports:{}},Vo={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS=et.exports,Ov=60103;Vo.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Ug=Symbol.for;Ov=Ug("react.element"),Vo.Fragment=Ug("react.fragment")}var hS=cS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uS=Object.prototype.hasOwnProperty,dS={key:!0,ref:!0,__self:!0,__source:!0};function Bv(n,e,t){var s,a={},l=null,d=null;t!==void 0&&(l=""+t),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(d=e.ref);for(s in e)uS.call(e,s)&&!dS.hasOwnProperty(s)&&(a[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)a[s]===void 0&&(a[s]=e[s]);return{$$typeof:Ov,type:n,key:l,ref:d,props:a,_owner:hS.current}}Vo.jsx=Bv;Vo.jsxs=Bv;Zc.exports=Vo;const Te=Zc.exports.jsx,Br=Zc.exports.jsxs,Hr=Zc.exports.Fragment;class fS extends en.Component{constructor(e){super(e),this.updateDate=this.updateDate.bind(this),this.days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.state={date:new Date().toLocaleTimeString(),day:this.days[new Date().getDay()],month:this.months[new Date().getMonth()]},this.interval=setInterval(this.updateDate,1e3)}componentWillUnmount(){clearInterval(this.interval)}updateDate(){this.setState({date:new Date().toLocaleTimeString(),day:this.days[new Date().getDay()],month:this.months[new Date().getMonth()]})}render(){return Br(Hr,{children:[Te("div",{class:"text-center pt-14 font-black text-off-white1",children:this.state.date}),Te("div",{class:"text-center font-black text-off-white1",children:this.state.day})]})}}var Vf={exports:{}},Hv=function(e,t){return function(){for(var a=new Array(arguments.length),l=0;l<a.length;l++)a[l]=arguments[l];return e.apply(t,a)}},pS=Hv,br=Object.prototype.toString;function Uf(n){return Array.isArray(n)}function Ad(n){return typeof n=="undefined"}function gS(n){return n!==null&&!Ad(n)&&n.constructor!==null&&!Ad(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function Wv(n){return br.call(n)==="[object ArrayBuffer]"}function mS(n){return br.call(n)==="[object FormData]"}function xS(n){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Wv(n.buffer),e}function vS(n){return typeof n=="string"}function yS(n){return typeof n=="number"}function Vv(n){return n!==null&&typeof n=="object"}function ec(n){if(br.call(n)!=="[object Object]")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}function bS(n){return br.call(n)==="[object Date]"}function wS(n){return br.call(n)==="[object File]"}function SS(n){return br.call(n)==="[object Blob]"}function Uv(n){return br.call(n)==="[object Function]"}function _S(n){return Vv(n)&&Uv(n.pipe)}function MS(n){return br.call(n)==="[object URLSearchParams]"}function AS(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function CS(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Gf(n,e){if(!(n===null||typeof n=="undefined"))if(typeof n!="object"&&(n=[n]),Uf(n))for(var t=0,s=n.length;t<s;t++)e.call(null,n[t],t,n);else for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.call(null,n[a],a,n)}function Cd(){var n={};function e(a,l){ec(n[l])&&ec(a)?n[l]=Cd(n[l],a):ec(a)?n[l]=Cd({},a):Uf(a)?n[l]=a.slice():n[l]=a}for(var t=0,s=arguments.length;t<s;t++)Gf(arguments[t],e);return n}function ES(n,e,t){return Gf(e,function(a,l){t&&typeof a=="function"?n[l]=pS(a,t):n[l]=a}),n}function TS(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}var zn={isArray:Uf,isArrayBuffer:Wv,isBuffer:gS,isFormData:mS,isArrayBufferView:xS,isString:vS,isNumber:yS,isObject:Vv,isPlainObject:ec,isUndefined:Ad,isDate:bS,isFile:wS,isBlob:SS,isFunction:Uv,isStream:_S,isURLSearchParams:MS,isStandardBrowserEnv:CS,forEach:Gf,merge:Cd,extend:ES,trim:AS,stripBOM:TS},Zr=zn;function Gg(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Gv=function(e,t,s){if(!t)return e;var a;if(s)a=s(t);else if(Zr.isURLSearchParams(t))a=t.toString();else{var l=[];Zr.forEach(t,function(v,y){v===null||typeof v=="undefined"||(Zr.isArray(v)?y=y+"[]":v=[v],Zr.forEach(v,function(E){Zr.isDate(E)?E=E.toISOString():Zr.isObject(E)&&(E=JSON.stringify(E)),l.push(Gg(y)+"="+Gg(E))}))}),a=l.join("&")}if(a){var d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e},kS=zn;function Jc(){this.handlers=[]}Jc.prototype.use=function(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};Jc.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Jc.prototype.forEach=function(e){kS.forEach(this.handlers,function(s){s!==null&&e(s)})};var LS=Jc,PS=zn,RS=function(e,t){PS.forEach(e,function(a,l){l!==t&&l.toUpperCase()===t.toUpperCase()&&(e[t]=a,delete e[l])})},Xv=function(e,t,s,a,l){return e.config=t,s&&(e.code=s),e.request=a,e.response=l,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},IS=Xv,Yv=function(e,t,s,a,l){var d=new Error(e);return IS(d,t,s,a,l)},DS=Yv,zS=function(e,t,s){var a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):t(DS("Request failed with status code "+s.status,s.config,null,s.request,s))},cl=zn,NS=cl.isStandardBrowserEnv()?function(){return{write:function(t,s,a,l,d,p){var v=[];v.push(t+"="+encodeURIComponent(s)),cl.isNumber(a)&&v.push("expires="+new Date(a).toGMTString()),cl.isString(l)&&v.push("path="+l),cl.isString(d)&&v.push("domain="+d),p===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(t){var s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),FS=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},OS=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},BS=FS,HS=OS,WS=function(e,t){return e&&!BS(t)?HS(e,t):t},Gh=zn,VS=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],US=function(e){var t={},s,a,l;return e&&Gh.forEach(e.split(`
`),function(p){if(l=p.indexOf(":"),s=Gh.trim(p.substr(0,l)).toLowerCase(),a=Gh.trim(p.substr(l+1)),s){if(t[s]&&VS.indexOf(s)>=0)return;s==="set-cookie"?t[s]=(t[s]?t[s]:[]).concat([a]):t[s]=t[s]?t[s]+", "+a:a}}),t},Xg=zn,GS=Xg.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),s;function a(l){var d=l;return e&&(t.setAttribute("href",d),d=t.href),t.setAttribute("href",d),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return s=a(window.location.href),function(d){var p=Xg.isString(d)?a(d):d;return p.protocol===s.protocol&&p.host===s.host}}():function(){return function(){return!0}}();function Xf(n){this.message=n}Xf.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Xf.prototype.__CANCEL__=!0;var Qc=Xf,hl=zn,XS=zS,YS=NS,jS=Gv,qS=WS,$S=US,ZS=GS,Xh=Yv,JS=eh,QS=Qc,Yg=function(e){return new Promise(function(s,a){var l=e.data,d=e.headers,p=e.responseType,v;function y(){e.cancelToken&&e.cancelToken.unsubscribe(v),e.signal&&e.signal.removeEventListener("abort",v)}hl.isFormData(l)&&delete d["Content-Type"];var M=new XMLHttpRequest;if(e.auth){var E=e.auth.username||"",T=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(E+":"+T)}var L=qS(e.baseURL,e.url);M.open(e.method.toUpperCase(),jS(L,e.params,e.paramsSerializer),!0),M.timeout=e.timeout;function D(){if(!!M){var z="getAllResponseHeaders"in M?$S(M.getAllResponseHeaders()):null,C=!p||p==="text"||p==="json"?M.responseText:M.response,S={data:C,status:M.status,statusText:M.statusText,headers:z,config:e,request:M};XS(function(W){s(W),y()},function(W){a(W),y()},S),M=null}}if("onloadend"in M?M.onloadend=D:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(D)},M.onabort=function(){!M||(a(Xh("Request aborted",e,"ECONNABORTED",M)),M=null)},M.onerror=function(){a(Xh("Network Error",e,null,M)),M=null},M.ontimeout=function(){var C=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",S=e.transitional||JS.transitional;e.timeoutErrorMessage&&(C=e.timeoutErrorMessage),a(Xh(C,e,S.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",M)),M=null},hl.isStandardBrowserEnv()){var N=(e.withCredentials||ZS(L))&&e.xsrfCookieName?YS.read(e.xsrfCookieName):void 0;N&&(d[e.xsrfHeaderName]=N)}"setRequestHeader"in M&&hl.forEach(d,function(C,S){typeof l=="undefined"&&S.toLowerCase()==="content-type"?delete d[S]:M.setRequestHeader(S,C)}),hl.isUndefined(e.withCredentials)||(M.withCredentials=!!e.withCredentials),p&&p!=="json"&&(M.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&M.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&M.upload&&M.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(v=function(z){!M||(a(!z||z&&z.type?new QS("canceled"):z),M.abort(),M=null)},e.cancelToken&&e.cancelToken.subscribe(v),e.signal&&(e.signal.aborted?v():e.signal.addEventListener("abort",v))),l||(l=null),M.send(l)})},sn=zn,jg=RS,KS=Xv,e2={"Content-Type":"application/x-www-form-urlencoded"};function qg(n,e){!sn.isUndefined(n)&&sn.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function t2(){var n;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(n=Yg),n}function n2(n,e,t){if(sn.isString(n))try{return(e||JSON.parse)(n),sn.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}var Kc={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:t2(),transformRequest:[function(e,t){return jg(t,"Accept"),jg(t,"Content-Type"),sn.isFormData(e)||sn.isArrayBuffer(e)||sn.isBuffer(e)||sn.isStream(e)||sn.isFile(e)||sn.isBlob(e)?e:sn.isArrayBufferView(e)?e.buffer:sn.isURLSearchParams(e)?(qg(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):sn.isObject(e)||t&&t["Content-Type"]==="application/json"?(qg(t,"application/json"),n2(e)):e}],transformResponse:[function(e){var t=this.transitional||Kc.transitional,s=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,l=!s&&this.responseType==="json";if(l||a&&sn.isString(e)&&e.length)try{return JSON.parse(e)}catch(d){if(l)throw d.name==="SyntaxError"?KS(d,this,"E_JSON_PARSE"):d}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};sn.forEach(["delete","get","head"],function(e){Kc.headers[e]={}});sn.forEach(["post","put","patch"],function(e){Kc.headers[e]=sn.merge(e2)});var eh=Kc,i2=zn,r2=eh,s2=function(e,t,s){var a=this||r2;return i2.forEach(s,function(d){e=d.call(a,e,t)}),e},jv=function(e){return!!(e&&e.__CANCEL__)},$g=zn,Yh=s2,a2=jv,o2=eh,l2=Qc;function jh(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new l2("canceled")}var c2=function(e){jh(e),e.headers=e.headers||{},e.data=Yh.call(e,e.data,e.headers,e.transformRequest),e.headers=$g.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),$g.forEach(["delete","get","head","post","put","patch","common"],function(a){delete e.headers[a]});var t=e.adapter||o2.adapter;return t(e).then(function(a){return jh(e),a.data=Yh.call(e,a.data,a.headers,e.transformResponse),a},function(a){return a2(a)||(jh(e),a&&a.response&&(a.response.data=Yh.call(e,a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)})},Fn=zn,qv=function(e,t){t=t||{};var s={};function a(M,E){return Fn.isPlainObject(M)&&Fn.isPlainObject(E)?Fn.merge(M,E):Fn.isPlainObject(E)?Fn.merge({},E):Fn.isArray(E)?E.slice():E}function l(M){if(Fn.isUndefined(t[M])){if(!Fn.isUndefined(e[M]))return a(void 0,e[M])}else return a(e[M],t[M])}function d(M){if(!Fn.isUndefined(t[M]))return a(void 0,t[M])}function p(M){if(Fn.isUndefined(t[M])){if(!Fn.isUndefined(e[M]))return a(void 0,e[M])}else return a(void 0,t[M])}function v(M){if(M in t)return a(e[M],t[M]);if(M in e)return a(void 0,e[M])}var y={url:d,method:d,data:d,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:v};return Fn.forEach(Object.keys(e).concat(Object.keys(t)),function(E){var T=y[E]||l,L=T(E);Fn.isUndefined(L)&&T!==v||(s[E]=L)}),s},$v={version:"0.25.0"},h2=$v.version,Yf={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){Yf[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});var Zg={};Yf.transitional=function(e,t,s){function a(l,d){return"[Axios v"+h2+"] Transitional option '"+l+"'"+d+(s?". "+s:"")}return function(l,d,p){if(e===!1)throw new Error(a(d," has been removed"+(t?" in "+t:"")));return t&&!Zg[d]&&(Zg[d]=!0,console.warn(a(d," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,d,p):!0}};function u2(n,e,t){if(typeof n!="object")throw new TypeError("options must be an object");for(var s=Object.keys(n),a=s.length;a-- >0;){var l=s[a],d=e[l];if(d){var p=n[l],v=p===void 0||d(p,l,n);if(v!==!0)throw new TypeError("option "+l+" must be "+v);continue}if(t!==!0)throw Error("Unknown option "+l)}}var d2={assertOptions:u2,validators:Yf},Zv=zn,f2=Gv,Jg=LS,Qg=c2,th=qv,Jv=d2,Jr=Jv.validators;function Uo(n){this.defaults=n,this.interceptors={request:new Jg,response:new Jg}}Uo.prototype.request=function(e,t){if(typeof e=="string"?(t=t||{},t.url=e):t=e||{},!t.url)throw new Error("Provided config url is not valid");t=th(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var s=t.transitional;s!==void 0&&Jv.assertOptions(s,{silentJSONParsing:Jr.transitional(Jr.boolean),forcedJSONParsing:Jr.transitional(Jr.boolean),clarifyTimeoutError:Jr.transitional(Jr.boolean)},!1);var a=[],l=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(t)===!1||(l=l&&L.synchronous,a.unshift(L.fulfilled,L.rejected))});var d=[];this.interceptors.response.forEach(function(L){d.push(L.fulfilled,L.rejected)});var p;if(!l){var v=[Qg,void 0];for(Array.prototype.unshift.apply(v,a),v=v.concat(d),p=Promise.resolve(t);v.length;)p=p.then(v.shift(),v.shift());return p}for(var y=t;a.length;){var M=a.shift(),E=a.shift();try{y=M(y)}catch(T){E(T);break}}try{p=Qg(y)}catch(T){return Promise.reject(T)}for(;d.length;)p=p.then(d.shift(),d.shift());return p};Uo.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=th(this.defaults,e),f2(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};Zv.forEach(["delete","get","head","options"],function(e){Uo.prototype[e]=function(t,s){return this.request(th(s||{},{method:e,url:t,data:(s||{}).data}))}});Zv.forEach(["post","put","patch"],function(e){Uo.prototype[e]=function(t,s,a){return this.request(th(a||{},{method:e,url:t,data:s}))}});var p2=Uo,g2=Qc;function qs(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(a){e=a});var t=this;this.promise.then(function(s){if(!!t._listeners){var a,l=t._listeners.length;for(a=0;a<l;a++)t._listeners[a](s);t._listeners=null}}),this.promise.then=function(s){var a,l=new Promise(function(d){t.subscribe(d),a=d}).then(s);return l.cancel=function(){t.unsubscribe(a)},l},n(function(a){t.reason||(t.reason=new g2(a),e(t.reason))})}qs.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};qs.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};qs.prototype.unsubscribe=function(e){if(!!this._listeners){var t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}};qs.source=function(){var e,t=new qs(function(a){e=a});return{token:t,cancel:e}};var m2=qs,x2=function(e){return function(s){return e.apply(null,s)}},v2=zn,y2=function(e){return v2.isObject(e)&&e.isAxiosError===!0},Kg=zn,b2=Hv,tc=p2,w2=qv,S2=eh;function Qv(n){var e=new tc(n),t=b2(tc.prototype.request,e);return Kg.extend(t,tc.prototype,e),Kg.extend(t,e),t.create=function(a){return Qv(w2(n,a))},t}var yi=Qv(S2);yi.Axios=tc;yi.Cancel=Qc;yi.CancelToken=m2;yi.isCancel=jv;yi.VERSION=$v.version;yi.all=function(e){return Promise.all(e)};yi.spread=x2;yi.isAxiosError=y2;Vf.exports=yi;Vf.exports.default=yi;var _2=Vf.exports;class Ta extends et.exports.Component{constructor(e){super(e),this.state={photos:[]}}componentDidMount(){const e=Rt.unsplashCredential;var t=this.props.search,s=Math.floor(Math.random()*t.length),a=t[s];_2.get("https://api.unsplash.com//search/photos?random",{params:{query:a,per_page:100},headers:{Authorization:"Client-ID "+e}}).then(l=>{var d=l.data.results.length,p=Math.floor(Math.random()*d),v=l.data.results[p].urls.raw;this.setState({photos:v})}).catch(l=>{console.log(l)})}render(){return Te("div",{class:"relative rounded-xl overflow-hidden h-full bg-center bg-no-repeat border-0 dark:border-4 dark:border-off-white2",children:Te("img",{class:"min-w-full min-h-full",src:this.state.photos})})}}class M2 extends en.Component{constructor(e){super(e),this.state={disabled:"1"}}buttonToggle(e){const t=e.target.id;this.setState({disabled:t}),this.refs.input.value=""}sendSearch(e){if(document.querySelector(".search-input"),e.key==="Enter"){for(var t=document.querySelectorAll("button"),s=0;s<t.length;s++)if(t[s].disabled===!0){const a=t[s].getAttribute("address"),l=encodeURIComponent(document.getElementById("search-input").value),d=`${a}${l}`;window.open(d),document.getElementById("search-input").value=""}}}render(){return Te("div",{class:"flex justify-center ",children:Br("div",{children:[Br("div",{class:"flex space-x-8 justify-center pt-8 pb-8",onClick:this.buttonToggle.bind(this),children:[Te("button",{class:"bg-google-icon bg-no-repeat w-8 h-8 outline-inherit cursor-pointer border-none disabled:opacity-100 opacity-50",id:"search-button",disabled:this.state.disabled==="1",engine:"google",address:"http://www.google.com/search?q="}),Te("button",{class:"bg-duck-icon bg-no-repeat w-8 h-8 outline-inherit cursor-pointer border-none disabled:opacity-100 opacity-50",id:"search-button",disabled:this.state.disabled==="2",engine:"duckduckgo",address:"https://www.duckduckgo.com/?q="}),Te("button",{class:"bg-wolfram-icon bg-no-repeat w-8 h-8 outline-inherit cursor-pointer border-none disabled:opacity-100 opacity-50",id:"search-button",disabled:this.state.disabled==="3",engine:"wolfram",address:"https://www.wolframalpha.com/input/?i="}),Te("button",{class:"bg-stack-icon bg-no-repeat w-8 h-8 outline-inherit cursor-pointer border-none disabled:opacity-100 opacity-50",id:"search-button",disabled:this.state.disabled==="4",engine:"stack",address:"https://stackoverflow.com/?q="})]}),Te("input",{class:"items-center w-60 h-5 boarder-none bg-off-white1 border-white border border-solid border-gray-300 rounded-xl focus:border-red2 focus:outline-none",autoFocus:!0,id:"search-input",type:"text",ref:"input",onKeyPress:this.sendSearch})]})})}}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const jf="137",A2=0,em=1,C2=2,Kv=1,E2=2,Ya=3,Co=0,Gt=1,$s=2,ey=1,ir=0,oo=1,Ec=2,tm=3,nm=4,T2=5,ys=100,k2=101,L2=102,im=103,rm=104,P2=200,R2=201,I2=202,D2=203,ty=204,ny=205,z2=206,N2=207,F2=208,O2=209,B2=210,H2=0,W2=1,V2=2,Ed=3,U2=4,G2=5,X2=6,Y2=7,nh=0,j2=1,q2=2,rr=0,$2=1,Z2=2,J2=3,Q2=4,K2=5,iy=300,Go=301,Xo=302,Td=303,kd=304,ih=306,qf=307,Ld=1e3,Wn=1001,Pd=1002,qt=1003,sm=1004,am=1005,xn=1006,e_=1007,rh=1008,sr=1009,t_=1010,n_=1011,Eo=1012,i_=1013,nc=1014,Ir=1015,Hs=1016,r_=1017,s_=1018,Ws=1020,a_=1021,o_=1022,Mn=1023,l_=1024,c_=1025,zr=1026,Zs=1027,h_=1028,u_=1029,d_=1030,f_=1031,p_=1033,qh=33776,$h=33777,Zh=33778,Jh=33779,om=35840,lm=35841,cm=35842,hm=35843,g_=36196,um=37492,dm=37496,fm=37808,pm=37809,gm=37810,mm=37811,xm=37812,vm=37813,ym=37814,bm=37815,wm=37816,Sm=37817,_m=37818,Mm=37819,Am=37820,Cm=37821,Em=36492,m_=2200,x_=2201,v_=2202,Tc=2300,kc=2301,Qh=2302,Cs=2400,Es=2401,Lc=2402,$f=2500,ry=2501,y_=0,gr=3e3,Ft=3001,b_=3200,w_=3201,aa=0,S_=1,Kh=7680,__=519,To=35044,Pc=35048,Tm="300 es",Rd=1035;class jr{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(t)===-1&&s[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const s=this._listeners;return s[e]!==void 0&&s[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const l=a.indexOf(t);l!==-1&&a.splice(l,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const s=this._listeners[e.type];if(s!==void 0){e.target=this;const a=s.slice(0);for(let l=0,d=a.length;l<d;l++)a[l].call(this,e);e.target=null}}}const rn=[];for(let n=0;n<256;n++)rn[n]=(n<16?"0":"")+n.toString(16);const eu=Math.PI/180,Id=180/Math.PI;function mi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(rn[n&255]+rn[n>>8&255]+rn[n>>16&255]+rn[n>>24&255]+"-"+rn[e&255]+rn[e>>8&255]+"-"+rn[e>>16&15|64]+rn[e>>24&255]+"-"+rn[t&63|128]+rn[t>>8&255]+"-"+rn[t>>16&255]+rn[t>>24&255]+rn[s&255]+rn[s>>8&255]+rn[s>>16&255]+rn[s>>24&255]).toUpperCase()}function Hn(n,e,t){return Math.max(e,Math.min(t,n))}function M_(n,e){return(n%e+e)%e}function tu(n,e,t){return(1-t)*n+t*e}function km(n){return(n&n-1)===0&&n!==0}function A_(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}class ke{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,s=this.y,a=e.elements;return this.x=a[0]*t+a[3]*s+a[6],this.y=a[1]*t+a[4]*s+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,s=this.y-e.y;return t*t+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,s){return this.x=e.x+(t.x-e.x)*s,this.y=e.y+(t.y-e.y)*s,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,s){return s!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const s=Math.cos(t),a=Math.sin(t),l=this.x-e.x,d=this.y-e.y;return this.x=l*s-d*a+e.x,this.y=l*a+d*s+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}ke.prototype.isVector2=!0;class ln{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,s,a,l,d,p,v,y){const M=this.elements;return M[0]=e,M[1]=a,M[2]=p,M[3]=t,M[4]=l,M[5]=v,M[6]=s,M[7]=d,M[8]=y,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,s=e.elements;return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],this}extractBasis(e,t,s){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const s=e.elements,a=t.elements,l=this.elements,d=s[0],p=s[3],v=s[6],y=s[1],M=s[4],E=s[7],T=s[2],L=s[5],D=s[8],N=a[0],z=a[3],C=a[6],S=a[1],G=a[4],W=a[7],H=a[2],$=a[5],K=a[8];return l[0]=d*N+p*S+v*H,l[3]=d*z+p*G+v*$,l[6]=d*C+p*W+v*K,l[1]=y*N+M*S+E*H,l[4]=y*z+M*G+E*$,l[7]=y*C+M*W+E*K,l[2]=T*N+L*S+D*H,l[5]=T*z+L*G+D*$,l[8]=T*C+L*W+D*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],s=e[1],a=e[2],l=e[3],d=e[4],p=e[5],v=e[6],y=e[7],M=e[8];return t*d*M-t*p*y-s*l*M+s*p*v+a*l*y-a*d*v}invert(){const e=this.elements,t=e[0],s=e[1],a=e[2],l=e[3],d=e[4],p=e[5],v=e[6],y=e[7],M=e[8],E=M*d-p*y,T=p*v-M*l,L=y*l-d*v,D=t*E+s*T+a*L;if(D===0)return this.set(0,0,0,0,0,0,0,0,0);const N=1/D;return e[0]=E*N,e[1]=(a*y-M*s)*N,e[2]=(p*s-a*d)*N,e[3]=T*N,e[4]=(M*t-a*v)*N,e[5]=(a*l-p*t)*N,e[6]=L*N,e[7]=(s*v-y*t)*N,e[8]=(d*t-s*l)*N,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,s,a,l,d,p){const v=Math.cos(l),y=Math.sin(l);return this.set(s*v,s*y,-s*(v*d+y*p)+d+e,-a*y,a*v,-a*(-y*d+v*p)+p+t,0,0,1),this}scale(e,t){const s=this.elements;return s[0]*=e,s[3]*=e,s[6]*=e,s[1]*=t,s[4]*=t,s[7]*=t,this}rotate(e){const t=Math.cos(e),s=Math.sin(e),a=this.elements,l=a[0],d=a[3],p=a[6],v=a[1],y=a[4],M=a[7];return a[0]=t*l+s*v,a[3]=t*d+s*y,a[6]=t*p+s*M,a[1]=-s*l+t*v,a[4]=-s*d+t*y,a[7]=-s*p+t*M,this}translate(e,t){const s=this.elements;return s[0]+=e*s[2],s[3]+=e*s[5],s[6]+=e*s[8],s[1]+=t*s[2],s[4]+=t*s[5],s[7]+=t*s[8],this}equals(e){const t=this.elements,s=e.elements;for(let a=0;a<9;a++)if(t[a]!==s[a])return!1;return!0}fromArray(e,t=0){for(let s=0;s<9;s++)this.elements[s]=e[s+t];return this}toArray(e=[],t=0){const s=this.elements;return e[t]=s[0],e[t+1]=s[1],e[t+2]=s[2],e[t+3]=s[3],e[t+4]=s[4],e[t+5]=s[5],e[t+6]=s[6],e[t+7]=s[7],e[t+8]=s[8],e}clone(){return new this.constructor().fromArray(this.elements)}}ln.prototype.isMatrix3=!0;function sy(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}function ko(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const ay={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ti={h:0,s:0,l:0},ul={h:0,s:0,l:0};function nu(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Vs(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function iu(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}class Ze{constructor(e,t,s){return t===void 0&&s===void 0?this.set(e):this.setRGB(e,t,s)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,s){return this.r=e,this.g=t,this.b=s,this}setHSL(e,t,s){if(e=M_(e,1),t=Hn(t,0,1),s=Hn(s,0,1),t===0)this.r=this.g=this.b=s;else{const a=s<=.5?s*(1+t):s+t-s*t,l=2*s-a;this.r=nu(l,a,e+1/3),this.g=nu(l,a,e),this.b=nu(l,a,e-1/3)}return this}setStyle(e){function t(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let a;const l=s[1],d=s[2];switch(l){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,t(a[4]),this;if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,t(a[4]),this;break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d)){const p=parseFloat(a[1])/360,v=parseInt(a[2],10)/100,y=parseInt(a[3],10)/100;return t(a[4]),this.setHSL(p,v,y)}break}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=s[1],l=a.length;if(l===3)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,this;if(l===6)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=ay[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Vs(e.r),this.g=Vs(e.g),this.b=Vs(e.b),this}copyLinearToSRGB(e){return this.r=iu(e.r),this.g=iu(e.g),this.b=iu(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,s=this.g,a=this.b,l=Math.max(t,s,a),d=Math.min(t,s,a);let p,v;const y=(d+l)/2;if(d===l)p=0,v=0;else{const M=l-d;switch(v=y<=.5?M/(l+d):M/(2-l-d),l){case t:p=(s-a)/M+(s<a?6:0);break;case s:p=(a-t)/M+2;break;case a:p=(t-s)/M+4;break}p/=6}return e.h=p,e.s=v,e.l=y,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,s){return this.getHSL(ti),ti.h+=e,ti.s+=t,ti.l+=s,this.setHSL(ti.h,ti.s,ti.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,s){return this.r=e.r+(t.r-e.r)*s,this.g=e.g+(t.g-e.g)*s,this.b=e.b+(t.b-e.b)*s,this}lerpHSL(e,t){this.getHSL(ti),e.getHSL(ul);const s=tu(ti.h,ul.h,t),a=tu(ti.s,ul.s,t),l=tu(ti.l,ul.l,t);return this.setHSL(s,a,l),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Ze.NAMES=ay;Ze.prototype.isColor=!0;Ze.prototype.r=1;Ze.prototype.g=1;Ze.prototype.b=1;let Qr;class qr{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Qr===void 0&&(Qr=ko("canvas")),Qr.width=e.width,Qr.height=e.height;const s=Qr.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),t=Qr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=ko("canvas");t.width=e.width,t.height=e.height;const s=t.getContext("2d");s.drawImage(e,0,0,e.width,e.height);const a=s.getImageData(0,0,e.width,e.height),l=a.data;for(let d=0;d<l.length;d++)l[d]=Vs(l[d]/255)*255;return s.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let s=0;s<t.length;s++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[s]=Math.floor(Vs(t[s]/255)*255):t[s]=Vs(t[s]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let C_=0;class nn extends jr{constructor(e=nn.DEFAULT_IMAGE,t=nn.DEFAULT_MAPPING,s=Wn,a=Wn,l=xn,d=rh,p=Mn,v=sr,y=1,M=gr){super(),Object.defineProperty(this,"id",{value:C_++}),this.uuid=mi(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=s,this.wrapT=a,this.magFilter=l,this.minFilter=d,this.anisotropy=y,this.format=p,this.internalFormat=null,this.type=v,this.offset=new ke(0,0),this.repeat=new ke(1,1),this.center=new ke(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ln,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=M,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const a=this.image;if(a.uuid===void 0&&(a.uuid=mi()),!t&&e.images[a.uuid]===void 0){let l;if(Array.isArray(a)){l=[];for(let d=0,p=a.length;d<p;d++)a[d].isDataTexture?l.push(ru(a[d].image)):l.push(ru(a[d]))}else l=ru(a);e.images[a.uuid]={uuid:a.uuid,url:l}}s.image=a.uuid}return JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData),t||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==iy)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ld:e.x=e.x-Math.floor(e.x);break;case Wn:e.x=e.x<0?0:1;break;case Pd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ld:e.y=e.y-Math.floor(e.y);break;case Wn:e.y=e.y<0?0:1;break;case Pd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}nn.DEFAULT_IMAGE=void 0;nn.DEFAULT_MAPPING=iy;nn.prototype.isTexture=!0;function ru(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?qr.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class Mt{constructor(e=0,t=0,s=0,a=1){this.x=e,this.y=t,this.z=s,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,s,a){return this.x=e,this.y=t,this.z=s,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,s=this.y,a=this.z,l=this.w,d=e.elements;return this.x=d[0]*t+d[4]*s+d[8]*a+d[12]*l,this.y=d[1]*t+d[5]*s+d[9]*a+d[13]*l,this.z=d[2]*t+d[6]*s+d[10]*a+d[14]*l,this.w=d[3]*t+d[7]*s+d[11]*a+d[15]*l,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,s,a,l;const v=e.elements,y=v[0],M=v[4],E=v[8],T=v[1],L=v[5],D=v[9],N=v[2],z=v[6],C=v[10];if(Math.abs(M-T)<.01&&Math.abs(E-N)<.01&&Math.abs(D-z)<.01){if(Math.abs(M+T)<.1&&Math.abs(E+N)<.1&&Math.abs(D+z)<.1&&Math.abs(y+L+C-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const G=(y+1)/2,W=(L+1)/2,H=(C+1)/2,$=(M+T)/4,K=(E+N)/4,le=(D+z)/4;return G>W&&G>H?G<.01?(s=0,a=.707106781,l=.707106781):(s=Math.sqrt(G),a=$/s,l=K/s):W>H?W<.01?(s=.707106781,a=0,l=.707106781):(a=Math.sqrt(W),s=$/a,l=le/a):H<.01?(s=.707106781,a=.707106781,l=0):(l=Math.sqrt(H),s=K/l,a=le/l),this.set(s,a,l,t),this}let S=Math.sqrt((z-D)*(z-D)+(E-N)*(E-N)+(T-M)*(T-M));return Math.abs(S)<.001&&(S=1),this.x=(z-D)/S,this.y=(E-N)/S,this.z=(T-M)/S,this.w=Math.acos((y+L+C-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,s){return this.x=e.x+(t.x-e.x)*s,this.y=e.y+(t.y-e.y)*s,this.z=e.z+(t.z-e.z)*s,this.w=e.w+(t.w-e.w)*s,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,s){return s!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Mt.prototype.isVector4=!0;class qn extends jr{constructor(e,t,s={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new Mt(0,0,e,t),this.scissorTest=!1,this.viewport=new Mt(0,0,e,t),this.texture=new nn(void 0,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=s.generateMipmaps!==void 0?s.generateMipmaps:!1,this.texture.internalFormat=s.internalFormat!==void 0?s.internalFormat:null,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:xn,this.depthBuffer=s.depthBuffer!==void 0?s.depthBuffer:!0,this.stencilBuffer=s.stencilBuffer!==void 0?s.stencilBuffer:!1,this.depthTexture=s.depthTexture!==void 0?s.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,s=1){(this.width!==e||this.height!==t||this.depth!==s)&&(this.width=e,this.height=t,this.depth=s,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=s,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}qn.prototype.isWebGLRenderTarget=!0;class E_ extends qn{constructor(e,t,s){super(e,t);const a=this.texture;this.texture=[];for(let l=0;l<s;l++)this.texture[l]=a.clone()}setSize(e,t,s=1){if(this.width!==e||this.height!==t||this.depth!==s){this.width=e,this.height=t,this.depth=s;for(let a=0,l=this.texture.length;a<l;a++)this.texture[a].image.width=e,this.texture[a].image.height=t,this.texture[a].image.depth=s;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,s=e.texture.length;t<s;t++)this.texture[t]=e.texture[t].clone();return this}}E_.prototype.isWebGLMultipleRenderTargets=!0;class Zf extends qn{constructor(e,t,s={}){super(e,t,s),this.samples=4,this.ignoreDepthForMultisampleCopy=s.ignoreDepth!==void 0?s.ignoreDepth:!0,this.useRenderToTexture=s.useRenderToTexture!==void 0?s.useRenderToTexture:!1,this.useRenderbuffer=this.useRenderToTexture===!1}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}}Zf.prototype.isWebGLMultisampleRenderTarget=!0;class In{constructor(e=0,t=0,s=0,a=1){this._x=e,this._y=t,this._z=s,this._w=a}static slerp(e,t,s,a){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),s.slerpQuaternions(e,t,a)}static slerpFlat(e,t,s,a,l,d,p){let v=s[a+0],y=s[a+1],M=s[a+2],E=s[a+3];const T=l[d+0],L=l[d+1],D=l[d+2],N=l[d+3];if(p===0){e[t+0]=v,e[t+1]=y,e[t+2]=M,e[t+3]=E;return}if(p===1){e[t+0]=T,e[t+1]=L,e[t+2]=D,e[t+3]=N;return}if(E!==N||v!==T||y!==L||M!==D){let z=1-p;const C=v*T+y*L+M*D+E*N,S=C>=0?1:-1,G=1-C*C;if(G>Number.EPSILON){const H=Math.sqrt(G),$=Math.atan2(H,C*S);z=Math.sin(z*$)/H,p=Math.sin(p*$)/H}const W=p*S;if(v=v*z+T*W,y=y*z+L*W,M=M*z+D*W,E=E*z+N*W,z===1-p){const H=1/Math.sqrt(v*v+y*y+M*M+E*E);v*=H,y*=H,M*=H,E*=H}}e[t]=v,e[t+1]=y,e[t+2]=M,e[t+3]=E}static multiplyQuaternionsFlat(e,t,s,a,l,d){const p=s[a],v=s[a+1],y=s[a+2],M=s[a+3],E=l[d],T=l[d+1],L=l[d+2],D=l[d+3];return e[t]=p*D+M*E+v*L-y*T,e[t+1]=v*D+M*T+y*E-p*L,e[t+2]=y*D+M*L+p*T-v*E,e[t+3]=M*D-p*E-v*T-y*L,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,s,a){return this._x=e,this._y=t,this._z=s,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const s=e._x,a=e._y,l=e._z,d=e._order,p=Math.cos,v=Math.sin,y=p(s/2),M=p(a/2),E=p(l/2),T=v(s/2),L=v(a/2),D=v(l/2);switch(d){case"XYZ":this._x=T*M*E+y*L*D,this._y=y*L*E-T*M*D,this._z=y*M*D+T*L*E,this._w=y*M*E-T*L*D;break;case"YXZ":this._x=T*M*E+y*L*D,this._y=y*L*E-T*M*D,this._z=y*M*D-T*L*E,this._w=y*M*E+T*L*D;break;case"ZXY":this._x=T*M*E-y*L*D,this._y=y*L*E+T*M*D,this._z=y*M*D+T*L*E,this._w=y*M*E-T*L*D;break;case"ZYX":this._x=T*M*E-y*L*D,this._y=y*L*E+T*M*D,this._z=y*M*D-T*L*E,this._w=y*M*E+T*L*D;break;case"YZX":this._x=T*M*E+y*L*D,this._y=y*L*E+T*M*D,this._z=y*M*D-T*L*E,this._w=y*M*E-T*L*D;break;case"XZY":this._x=T*M*E-y*L*D,this._y=y*L*E-T*M*D,this._z=y*M*D+T*L*E,this._w=y*M*E+T*L*D;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+d)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const s=t/2,a=Math.sin(s);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,s=t[0],a=t[4],l=t[8],d=t[1],p=t[5],v=t[9],y=t[2],M=t[6],E=t[10],T=s+p+E;if(T>0){const L=.5/Math.sqrt(T+1);this._w=.25/L,this._x=(M-v)*L,this._y=(l-y)*L,this._z=(d-a)*L}else if(s>p&&s>E){const L=2*Math.sqrt(1+s-p-E);this._w=(M-v)/L,this._x=.25*L,this._y=(a+d)/L,this._z=(l+y)/L}else if(p>E){const L=2*Math.sqrt(1+p-s-E);this._w=(l-y)/L,this._x=(a+d)/L,this._y=.25*L,this._z=(v+M)/L}else{const L=2*Math.sqrt(1+E-s-p);this._w=(d-a)/L,this._x=(l+y)/L,this._y=(v+M)/L,this._z=.25*L}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let s=e.dot(t)+1;return s<Number.EPSILON?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=s):(this._x=0,this._y=-e.z,this._z=e.y,this._w=s)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=s),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Hn(this.dot(e),-1,1)))}rotateTowards(e,t){const s=this.angleTo(e);if(s===0)return this;const a=Math.min(1,t/s);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const s=e._x,a=e._y,l=e._z,d=e._w,p=t._x,v=t._y,y=t._z,M=t._w;return this._x=s*M+d*p+a*y-l*v,this._y=a*M+d*v+l*p-s*y,this._z=l*M+d*y+s*v-a*p,this._w=d*M-s*p-a*v-l*y,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const s=this._x,a=this._y,l=this._z,d=this._w;let p=d*e._w+s*e._x+a*e._y+l*e._z;if(p<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,p=-p):this.copy(e),p>=1)return this._w=d,this._x=s,this._y=a,this._z=l,this;const v=1-p*p;if(v<=Number.EPSILON){const L=1-t;return this._w=L*d+t*this._w,this._x=L*s+t*this._x,this._y=L*a+t*this._y,this._z=L*l+t*this._z,this.normalize(),this._onChangeCallback(),this}const y=Math.sqrt(v),M=Math.atan2(y,p),E=Math.sin((1-t)*M)/y,T=Math.sin(t*M)/y;return this._w=d*E+this._w*T,this._x=s*E+this._x*T,this._y=a*E+this._y*T,this._z=l*E+this._z*T,this._onChangeCallback(),this}slerpQuaternions(e,t,s){return this.copy(e).slerp(t,s)}random(){const e=Math.random(),t=Math.sqrt(1-e),s=Math.sqrt(e),a=2*Math.PI*Math.random(),l=2*Math.PI*Math.random();return this.set(t*Math.cos(a),s*Math.sin(l),s*Math.cos(l),t*Math.sin(a))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}In.prototype.isQuaternion=!0;class Q{constructor(e=0,t=0,s=0){this.x=e,this.y=t,this.z=s}set(e,t,s){return s===void 0&&(s=this.z),this.x=e,this.y=t,this.z=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Lm.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Lm.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,s=this.y,a=this.z,l=e.elements;return this.x=l[0]*t+l[3]*s+l[6]*a,this.y=l[1]*t+l[4]*s+l[7]*a,this.z=l[2]*t+l[5]*s+l[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,s=this.y,a=this.z,l=e.elements,d=1/(l[3]*t+l[7]*s+l[11]*a+l[15]);return this.x=(l[0]*t+l[4]*s+l[8]*a+l[12])*d,this.y=(l[1]*t+l[5]*s+l[9]*a+l[13])*d,this.z=(l[2]*t+l[6]*s+l[10]*a+l[14])*d,this}applyQuaternion(e){const t=this.x,s=this.y,a=this.z,l=e.x,d=e.y,p=e.z,v=e.w,y=v*t+d*a-p*s,M=v*s+p*t-l*a,E=v*a+l*s-d*t,T=-l*t-d*s-p*a;return this.x=y*v+T*-l+M*-p-E*-d,this.y=M*v+T*-d+E*-l-y*-p,this.z=E*v+T*-p+y*-d-M*-l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,s=this.y,a=this.z,l=e.elements;return this.x=l[0]*t+l[4]*s+l[8]*a,this.y=l[1]*t+l[5]*s+l[9]*a,this.z=l[2]*t+l[6]*s+l[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,s){return this.x=e.x+(t.x-e.x)*s,this.y=e.y+(t.y-e.y)*s,this.z=e.z+(t.z-e.z)*s,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const s=e.x,a=e.y,l=e.z,d=t.x,p=t.y,v=t.z;return this.x=a*v-l*p,this.y=l*d-s*v,this.z=s*p-a*d,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const s=e.dot(this)/t;return this.copy(e).multiplyScalar(s)}projectOnPlane(e){return su.copy(this).projectOnVector(e),this.sub(su)}reflect(e){return this.sub(su.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const s=this.dot(e)/t;return Math.acos(Hn(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,s=this.y-e.y,a=this.z-e.z;return t*t+s*s+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,s){const a=Math.sin(t)*e;return this.x=a*Math.sin(s),this.y=Math.cos(t)*e,this.z=a*Math.cos(s),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,s){return this.x=e*Math.sin(t),this.y=s,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),s=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=s,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,s){return s!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,s=Math.sqrt(1-e**2);return this.x=s*Math.cos(t),this.y=s*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Q.prototype.isVector3=!0;const su=new Q,Lm=new In;class oi{constructor(e=new Q(1/0,1/0,1/0),t=new Q(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,s=1/0,a=1/0,l=-1/0,d=-1/0,p=-1/0;for(let v=0,y=e.length;v<y;v+=3){const M=e[v],E=e[v+1],T=e[v+2];M<t&&(t=M),E<s&&(s=E),T<a&&(a=T),M>l&&(l=M),E>d&&(d=E),T>p&&(p=T)}return this.min.set(t,s,a),this.max.set(l,d,p),this}setFromBufferAttribute(e){let t=1/0,s=1/0,a=1/0,l=-1/0,d=-1/0,p=-1/0;for(let v=0,y=e.count;v<y;v++){const M=e.getX(v),E=e.getY(v),T=e.getZ(v);M<t&&(t=M),E<s&&(s=E),T<a&&(a=T),M>l&&(l=M),E>d&&(d=E),T>p&&(p=T)}return this.min.set(t,s,a),this.max.set(l,d,p),this}setFromPoints(e){this.makeEmpty();for(let t=0,s=e.length;t<s;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const s=_r.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(s),this.max.copy(e).add(s),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const s=e.geometry;if(s!==void 0)if(t&&s.attributes!=null&&s.attributes.position!==void 0){const l=s.attributes.position;for(let d=0,p=l.count;d<p;d++)_r.fromBufferAttribute(l,d).applyMatrix4(e.matrixWorld),this.expandByPoint(_r)}else s.boundingBox===null&&s.computeBoundingBox(),au.copy(s.boundingBox),au.applyMatrix4(e.matrixWorld),this.union(au);const a=e.children;for(let l=0,d=a.length;l<d;l++)this.expandByObject(a[l],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,_r),_r.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,s;return e.normal.x>0?(t=e.normal.x*this.min.x,s=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,s=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,s+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,s+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,s+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,s+=e.normal.z*this.min.z),t<=-e.constant&&s>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ka),dl.subVectors(this.max,ka),Kr.subVectors(e.a,ka),es.subVectors(e.b,ka),ts.subVectors(e.c,ka),zi.subVectors(es,Kr),Ni.subVectors(ts,es),Mr.subVectors(Kr,ts);let t=[0,-zi.z,zi.y,0,-Ni.z,Ni.y,0,-Mr.z,Mr.y,zi.z,0,-zi.x,Ni.z,0,-Ni.x,Mr.z,0,-Mr.x,-zi.y,zi.x,0,-Ni.y,Ni.x,0,-Mr.y,Mr.x,0];return!ou(t,Kr,es,ts,dl)||(t=[1,0,0,0,1,0,0,0,1],!ou(t,Kr,es,ts,dl))?!1:(fl.crossVectors(zi,Ni),t=[fl.x,fl.y,fl.z],ou(t,Kr,es,ts,dl))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return _r.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(_r).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(wi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),wi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),wi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),wi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),wi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),wi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),wi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),wi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(wi),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}oi.prototype.isBox3=!0;const wi=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],_r=new Q,au=new oi,Kr=new Q,es=new Q,ts=new Q,zi=new Q,Ni=new Q,Mr=new Q,ka=new Q,dl=new Q,fl=new Q,Ar=new Q;function ou(n,e,t,s,a){for(let l=0,d=n.length-3;l<=d;l+=3){Ar.fromArray(n,l);const p=a.x*Math.abs(Ar.x)+a.y*Math.abs(Ar.y)+a.z*Math.abs(Ar.z),v=e.dot(Ar),y=t.dot(Ar),M=s.dot(Ar);if(Math.max(-Math.max(v,y,M),Math.min(v,y,M))>p)return!1}return!0}const T_=new oi,Pm=new Q,pl=new Q,lu=new Q;class oa{constructor(e=new Q,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const s=this.center;t!==void 0?s.copy(t):T_.setFromPoints(e).getCenter(s);let a=0;for(let l=0,d=e.length;l<d;l++)a=Math.max(a,s.distanceToSquared(e[l]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const s=this.center.distanceToSquared(e);return t.copy(e),s>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){lu.subVectors(e,this.center);const t=lu.lengthSq();if(t>this.radius*this.radius){const s=Math.sqrt(t),a=(s-this.radius)*.5;this.center.add(lu.multiplyScalar(a/s)),this.radius+=a}return this}union(e){return this.center.equals(e.center)===!0?pl.set(0,0,1).multiplyScalar(e.radius):pl.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Pm.copy(e.center).add(pl)),this.expandByPoint(Pm.copy(e.center).sub(pl)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Si=new Q,cu=new Q,gl=new Q,Fi=new Q,hu=new Q,ml=new Q,uu=new Q;class la{constructor(e=new Q,t=new Q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Si)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const s=t.dot(this.direction);return s<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(s).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Si.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Si.copy(this.direction).multiplyScalar(t).add(this.origin),Si.distanceToSquared(e))}distanceSqToSegment(e,t,s,a){cu.copy(e).add(t).multiplyScalar(.5),gl.copy(t).sub(e).normalize(),Fi.copy(this.origin).sub(cu);const l=e.distanceTo(t)*.5,d=-this.direction.dot(gl),p=Fi.dot(this.direction),v=-Fi.dot(gl),y=Fi.lengthSq(),M=Math.abs(1-d*d);let E,T,L,D;if(M>0)if(E=d*v-p,T=d*p-v,D=l*M,E>=0)if(T>=-D)if(T<=D){const N=1/M;E*=N,T*=N,L=E*(E+d*T+2*p)+T*(d*E+T+2*v)+y}else T=l,E=Math.max(0,-(d*T+p)),L=-E*E+T*(T+2*v)+y;else T=-l,E=Math.max(0,-(d*T+p)),L=-E*E+T*(T+2*v)+y;else T<=-D?(E=Math.max(0,-(-d*l+p)),T=E>0?-l:Math.min(Math.max(-l,-v),l),L=-E*E+T*(T+2*v)+y):T<=D?(E=0,T=Math.min(Math.max(-l,-v),l),L=T*(T+2*v)+y):(E=Math.max(0,-(d*l+p)),T=E>0?l:Math.min(Math.max(-l,-v),l),L=-E*E+T*(T+2*v)+y);else T=d>0?-l:l,E=Math.max(0,-(d*T+p)),L=-E*E+T*(T+2*v)+y;return s&&s.copy(this.direction).multiplyScalar(E).add(this.origin),a&&a.copy(gl).multiplyScalar(T).add(cu),L}intersectSphere(e,t){Si.subVectors(e.center,this.origin);const s=Si.dot(this.direction),a=Si.dot(Si)-s*s,l=e.radius*e.radius;if(a>l)return null;const d=Math.sqrt(l-a),p=s-d,v=s+d;return p<0&&v<0?null:p<0?this.at(v,t):this.at(p,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(e.normal)+e.constant)/t;return s>=0?s:null}intersectPlane(e,t){const s=this.distanceToPlane(e);return s===null?null:this.at(s,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let s,a,l,d,p,v;const y=1/this.direction.x,M=1/this.direction.y,E=1/this.direction.z,T=this.origin;return y>=0?(s=(e.min.x-T.x)*y,a=(e.max.x-T.x)*y):(s=(e.max.x-T.x)*y,a=(e.min.x-T.x)*y),M>=0?(l=(e.min.y-T.y)*M,d=(e.max.y-T.y)*M):(l=(e.max.y-T.y)*M,d=(e.min.y-T.y)*M),s>d||l>a||((l>s||s!==s)&&(s=l),(d<a||a!==a)&&(a=d),E>=0?(p=(e.min.z-T.z)*E,v=(e.max.z-T.z)*E):(p=(e.max.z-T.z)*E,v=(e.min.z-T.z)*E),s>v||p>a)||((p>s||s!==s)&&(s=p),(v<a||a!==a)&&(a=v),a<0)?null:this.at(s>=0?s:a,t)}intersectsBox(e){return this.intersectBox(e,Si)!==null}intersectTriangle(e,t,s,a,l){hu.subVectors(t,e),ml.subVectors(s,e),uu.crossVectors(hu,ml);let d=this.direction.dot(uu),p;if(d>0){if(a)return null;p=1}else if(d<0)p=-1,d=-d;else return null;Fi.subVectors(this.origin,e);const v=p*this.direction.dot(ml.crossVectors(Fi,ml));if(v<0)return null;const y=p*this.direction.dot(hu.cross(Fi));if(y<0||v+y>d)return null;const M=-p*Fi.dot(uu);return M<0?null:this.at(M/d,l)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class nt{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,s,a,l,d,p,v,y,M,E,T,L,D,N,z){const C=this.elements;return C[0]=e,C[4]=t,C[8]=s,C[12]=a,C[1]=l,C[5]=d,C[9]=p,C[13]=v,C[2]=y,C[6]=M,C[10]=E,C[14]=T,C[3]=L,C[7]=D,C[11]=N,C[15]=z,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new nt().fromArray(this.elements)}copy(e){const t=this.elements,s=e.elements;return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],this}copyPosition(e){const t=this.elements,s=e.elements;return t[12]=s[12],t[13]=s[13],t[14]=s[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,s){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(e,t,s){return this.set(e.x,t.x,s.x,0,e.y,t.y,s.y,0,e.z,t.z,s.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,s=e.elements,a=1/ns.setFromMatrixColumn(e,0).length(),l=1/ns.setFromMatrixColumn(e,1).length(),d=1/ns.setFromMatrixColumn(e,2).length();return t[0]=s[0]*a,t[1]=s[1]*a,t[2]=s[2]*a,t[3]=0,t[4]=s[4]*l,t[5]=s[5]*l,t[6]=s[6]*l,t[7]=0,t[8]=s[8]*d,t[9]=s[9]*d,t[10]=s[10]*d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,s=e.x,a=e.y,l=e.z,d=Math.cos(s),p=Math.sin(s),v=Math.cos(a),y=Math.sin(a),M=Math.cos(l),E=Math.sin(l);if(e.order==="XYZ"){const T=d*M,L=d*E,D=p*M,N=p*E;t[0]=v*M,t[4]=-v*E,t[8]=y,t[1]=L+D*y,t[5]=T-N*y,t[9]=-p*v,t[2]=N-T*y,t[6]=D+L*y,t[10]=d*v}else if(e.order==="YXZ"){const T=v*M,L=v*E,D=y*M,N=y*E;t[0]=T+N*p,t[4]=D*p-L,t[8]=d*y,t[1]=d*E,t[5]=d*M,t[9]=-p,t[2]=L*p-D,t[6]=N+T*p,t[10]=d*v}else if(e.order==="ZXY"){const T=v*M,L=v*E,D=y*M,N=y*E;t[0]=T-N*p,t[4]=-d*E,t[8]=D+L*p,t[1]=L+D*p,t[5]=d*M,t[9]=N-T*p,t[2]=-d*y,t[6]=p,t[10]=d*v}else if(e.order==="ZYX"){const T=d*M,L=d*E,D=p*M,N=p*E;t[0]=v*M,t[4]=D*y-L,t[8]=T*y+N,t[1]=v*E,t[5]=N*y+T,t[9]=L*y-D,t[2]=-y,t[6]=p*v,t[10]=d*v}else if(e.order==="YZX"){const T=d*v,L=d*y,D=p*v,N=p*y;t[0]=v*M,t[4]=N-T*E,t[8]=D*E+L,t[1]=E,t[5]=d*M,t[9]=-p*M,t[2]=-y*M,t[6]=L*E+D,t[10]=T-N*E}else if(e.order==="XZY"){const T=d*v,L=d*y,D=p*v,N=p*y;t[0]=v*M,t[4]=-E,t[8]=y*M,t[1]=T*E+N,t[5]=d*M,t[9]=L*E-D,t[2]=D*E-L,t[6]=p*M,t[10]=N*E+T}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(k_,e,L_)}lookAt(e,t,s){const a=this.elements;return On.subVectors(e,t),On.lengthSq()===0&&(On.z=1),On.normalize(),Oi.crossVectors(s,On),Oi.lengthSq()===0&&(Math.abs(s.z)===1?On.x+=1e-4:On.z+=1e-4,On.normalize(),Oi.crossVectors(s,On)),Oi.normalize(),xl.crossVectors(On,Oi),a[0]=Oi.x,a[4]=xl.x,a[8]=On.x,a[1]=Oi.y,a[5]=xl.y,a[9]=On.y,a[2]=Oi.z,a[6]=xl.z,a[10]=On.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const s=e.elements,a=t.elements,l=this.elements,d=s[0],p=s[4],v=s[8],y=s[12],M=s[1],E=s[5],T=s[9],L=s[13],D=s[2],N=s[6],z=s[10],C=s[14],S=s[3],G=s[7],W=s[11],H=s[15],$=a[0],K=a[4],le=a[8],ge=a[12],me=a[1],Y=a[5],re=a[9],se=a[13],ae=a[2],he=a[6],ue=a[10],pe=a[14],Ce=a[3],Ne=a[7],ve=a[11],ne=a[15];return l[0]=d*$+p*me+v*ae+y*Ce,l[4]=d*K+p*Y+v*he+y*Ne,l[8]=d*le+p*re+v*ue+y*ve,l[12]=d*ge+p*se+v*pe+y*ne,l[1]=M*$+E*me+T*ae+L*Ce,l[5]=M*K+E*Y+T*he+L*Ne,l[9]=M*le+E*re+T*ue+L*ve,l[13]=M*ge+E*se+T*pe+L*ne,l[2]=D*$+N*me+z*ae+C*Ce,l[6]=D*K+N*Y+z*he+C*Ne,l[10]=D*le+N*re+z*ue+C*ve,l[14]=D*ge+N*se+z*pe+C*ne,l[3]=S*$+G*me+W*ae+H*Ce,l[7]=S*K+G*Y+W*he+H*Ne,l[11]=S*le+G*re+W*ue+H*ve,l[15]=S*ge+G*se+W*pe+H*ne,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],s=e[4],a=e[8],l=e[12],d=e[1],p=e[5],v=e[9],y=e[13],M=e[2],E=e[6],T=e[10],L=e[14],D=e[3],N=e[7],z=e[11],C=e[15];return D*(+l*v*E-a*y*E-l*p*T+s*y*T+a*p*L-s*v*L)+N*(+t*v*L-t*y*T+l*d*T-a*d*L+a*y*M-l*v*M)+z*(+t*y*E-t*p*L-l*d*E+s*d*L+l*p*M-s*y*M)+C*(-a*p*M-t*v*E+t*p*T+a*d*E-s*d*T+s*v*M)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,s){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=s),this}invert(){const e=this.elements,t=e[0],s=e[1],a=e[2],l=e[3],d=e[4],p=e[5],v=e[6],y=e[7],M=e[8],E=e[9],T=e[10],L=e[11],D=e[12],N=e[13],z=e[14],C=e[15],S=E*z*y-N*T*y+N*v*L-p*z*L-E*v*C+p*T*C,G=D*T*y-M*z*y-D*v*L+d*z*L+M*v*C-d*T*C,W=M*N*y-D*E*y+D*p*L-d*N*L-M*p*C+d*E*C,H=D*E*v-M*N*v-D*p*T+d*N*T+M*p*z-d*E*z,$=t*S+s*G+a*W+l*H;if($===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const K=1/$;return e[0]=S*K,e[1]=(N*T*l-E*z*l-N*a*L+s*z*L+E*a*C-s*T*C)*K,e[2]=(p*z*l-N*v*l+N*a*y-s*z*y-p*a*C+s*v*C)*K,e[3]=(E*v*l-p*T*l-E*a*y+s*T*y+p*a*L-s*v*L)*K,e[4]=G*K,e[5]=(M*z*l-D*T*l+D*a*L-t*z*L-M*a*C+t*T*C)*K,e[6]=(D*v*l-d*z*l-D*a*y+t*z*y+d*a*C-t*v*C)*K,e[7]=(d*T*l-M*v*l+M*a*y-t*T*y-d*a*L+t*v*L)*K,e[8]=W*K,e[9]=(D*E*l-M*N*l-D*s*L+t*N*L+M*s*C-t*E*C)*K,e[10]=(d*N*l-D*p*l+D*s*y-t*N*y-d*s*C+t*p*C)*K,e[11]=(M*p*l-d*E*l-M*s*y+t*E*y+d*s*L-t*p*L)*K,e[12]=H*K,e[13]=(M*N*a-D*E*a+D*s*T-t*N*T-M*s*z+t*E*z)*K,e[14]=(D*p*a-d*N*a-D*s*v+t*N*v+d*s*z-t*p*z)*K,e[15]=(d*E*a-M*p*a+M*s*v-t*E*v-d*s*T+t*p*T)*K,this}scale(e){const t=this.elements,s=e.x,a=e.y,l=e.z;return t[0]*=s,t[4]*=a,t[8]*=l,t[1]*=s,t[5]*=a,t[9]*=l,t[2]*=s,t[6]*=a,t[10]*=l,t[3]*=s,t[7]*=a,t[11]*=l,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],s=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,s,a))}makeTranslation(e,t,s){return this.set(1,0,0,e,0,1,0,t,0,0,1,s,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),s=Math.sin(e);return this.set(1,0,0,0,0,t,-s,0,0,s,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),s=Math.sin(e);return this.set(t,0,s,0,0,1,0,0,-s,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),s=Math.sin(e);return this.set(t,-s,0,0,s,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const s=Math.cos(t),a=Math.sin(t),l=1-s,d=e.x,p=e.y,v=e.z,y=l*d,M=l*p;return this.set(y*d+s,y*p-a*v,y*v+a*p,0,y*p+a*v,M*p+s,M*v-a*d,0,y*v-a*p,M*v+a*d,l*v*v+s,0,0,0,0,1),this}makeScale(e,t,s){return this.set(e,0,0,0,0,t,0,0,0,0,s,0,0,0,0,1),this}makeShear(e,t,s,a,l,d){return this.set(1,s,l,0,e,1,d,0,t,a,1,0,0,0,0,1),this}compose(e,t,s){const a=this.elements,l=t._x,d=t._y,p=t._z,v=t._w,y=l+l,M=d+d,E=p+p,T=l*y,L=l*M,D=l*E,N=d*M,z=d*E,C=p*E,S=v*y,G=v*M,W=v*E,H=s.x,$=s.y,K=s.z;return a[0]=(1-(N+C))*H,a[1]=(L+W)*H,a[2]=(D-G)*H,a[3]=0,a[4]=(L-W)*$,a[5]=(1-(T+C))*$,a[6]=(z+S)*$,a[7]=0,a[8]=(D+G)*K,a[9]=(z-S)*K,a[10]=(1-(T+N))*K,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,s){const a=this.elements;let l=ns.set(a[0],a[1],a[2]).length();const d=ns.set(a[4],a[5],a[6]).length(),p=ns.set(a[8],a[9],a[10]).length();this.determinant()<0&&(l=-l),e.x=a[12],e.y=a[13],e.z=a[14],ni.copy(this);const y=1/l,M=1/d,E=1/p;return ni.elements[0]*=y,ni.elements[1]*=y,ni.elements[2]*=y,ni.elements[4]*=M,ni.elements[5]*=M,ni.elements[6]*=M,ni.elements[8]*=E,ni.elements[9]*=E,ni.elements[10]*=E,t.setFromRotationMatrix(ni),s.x=l,s.y=d,s.z=p,this}makePerspective(e,t,s,a,l,d){d===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const p=this.elements,v=2*l/(t-e),y=2*l/(s-a),M=(t+e)/(t-e),E=(s+a)/(s-a),T=-(d+l)/(d-l),L=-2*d*l/(d-l);return p[0]=v,p[4]=0,p[8]=M,p[12]=0,p[1]=0,p[5]=y,p[9]=E,p[13]=0,p[2]=0,p[6]=0,p[10]=T,p[14]=L,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,s,a,l,d){const p=this.elements,v=1/(t-e),y=1/(s-a),M=1/(d-l),E=(t+e)*v,T=(s+a)*y,L=(d+l)*M;return p[0]=2*v,p[4]=0,p[8]=0,p[12]=-E,p[1]=0,p[5]=2*y,p[9]=0,p[13]=-T,p[2]=0,p[6]=0,p[10]=-2*M,p[14]=-L,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,s=e.elements;for(let a=0;a<16;a++)if(t[a]!==s[a])return!1;return!0}fromArray(e,t=0){for(let s=0;s<16;s++)this.elements[s]=e[s+t];return this}toArray(e=[],t=0){const s=this.elements;return e[t]=s[0],e[t+1]=s[1],e[t+2]=s[2],e[t+3]=s[3],e[t+4]=s[4],e[t+5]=s[5],e[t+6]=s[6],e[t+7]=s[7],e[t+8]=s[8],e[t+9]=s[9],e[t+10]=s[10],e[t+11]=s[11],e[t+12]=s[12],e[t+13]=s[13],e[t+14]=s[14],e[t+15]=s[15],e}}nt.prototype.isMatrix4=!0;const ns=new Q,ni=new nt,k_=new Q(0,0,0),L_=new Q(1,1,1),Oi=new Q,xl=new Q,On=new Q,Rm=new nt,Im=new In;class ca{constructor(e=0,t=0,s=0,a=ca.DefaultOrder){this._x=e,this._y=t,this._z=s,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,s,a=this._order){return this._x=e,this._y=t,this._z=s,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,s=!0){const a=e.elements,l=a[0],d=a[4],p=a[8],v=a[1],y=a[5],M=a[9],E=a[2],T=a[6],L=a[10];switch(t){case"XYZ":this._y=Math.asin(Hn(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-M,L),this._z=Math.atan2(-d,l)):(this._x=Math.atan2(T,y),this._z=0);break;case"YXZ":this._x=Math.asin(-Hn(M,-1,1)),Math.abs(M)<.9999999?(this._y=Math.atan2(p,L),this._z=Math.atan2(v,y)):(this._y=Math.atan2(-E,l),this._z=0);break;case"ZXY":this._x=Math.asin(Hn(T,-1,1)),Math.abs(T)<.9999999?(this._y=Math.atan2(-E,L),this._z=Math.atan2(-d,y)):(this._y=0,this._z=Math.atan2(v,l));break;case"ZYX":this._y=Math.asin(-Hn(E,-1,1)),Math.abs(E)<.9999999?(this._x=Math.atan2(T,L),this._z=Math.atan2(v,l)):(this._x=0,this._z=Math.atan2(-d,y));break;case"YZX":this._z=Math.asin(Hn(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(-M,y),this._y=Math.atan2(-E,l)):(this._x=0,this._y=Math.atan2(p,L));break;case"XZY":this._z=Math.asin(-Hn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(T,y),this._y=Math.atan2(p,l)):(this._x=Math.atan2(-M,L),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,s===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,s){return Rm.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Rm,t,s)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Im.setFromEuler(this),this.setFromQuaternion(Im,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Q(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}ca.prototype.isEuler=!0;ca.DefaultOrder="XYZ";ca.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class oy{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let P_=0;const Dm=new Q,is=new In,_i=new nt,vl=new Q,La=new Q,R_=new Q,I_=new In,zm=new Q(1,0,0),Nm=new Q(0,1,0),Fm=new Q(0,0,1),D_={type:"added"},Om={type:"removed"};class Ct extends jr{constructor(){super(),Object.defineProperty(this,"id",{value:P_++}),this.uuid=mi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ct.DefaultUp.clone();const e=new Q,t=new ca,s=new In,a=new Q(1,1,1);function l(){s.setFromEuler(t,!1)}function d(){t.setFromQuaternion(s,void 0,!1)}t._onChange(l),s._onChange(d),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new nt},normalMatrix:{value:new ln}}),this.matrix=new nt,this.matrixWorld=new nt,this.matrixAutoUpdate=Ct.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new oy,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return is.setFromAxisAngle(e,t),this.quaternion.multiply(is),this}rotateOnWorldAxis(e,t){return is.setFromAxisAngle(e,t),this.quaternion.premultiply(is),this}rotateX(e){return this.rotateOnAxis(zm,e)}rotateY(e){return this.rotateOnAxis(Nm,e)}rotateZ(e){return this.rotateOnAxis(Fm,e)}translateOnAxis(e,t){return Dm.copy(e).applyQuaternion(this.quaternion),this.position.add(Dm.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(zm,e)}translateY(e){return this.translateOnAxis(Nm,e)}translateZ(e){return this.translateOnAxis(Fm,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(_i.copy(this.matrixWorld).invert())}lookAt(e,t,s){e.isVector3?vl.copy(e):vl.set(e,t,s);const a=this.parent;this.updateWorldMatrix(!0,!1),La.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_i.lookAt(La,vl,this.up):_i.lookAt(vl,La,this.up),this.quaternion.setFromRotationMatrix(_i),a&&(_i.extractRotation(a.matrixWorld),is.setFromRotationMatrix(_i),this.quaternion.premultiply(is.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(D_)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Om)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Om)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),_i.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_i.multiply(e.parent.matrixWorld)),e.applyMatrix4(_i),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let s=0,a=this.children.length;s<a;s++){const d=this.children[s].getObjectByProperty(e,t);if(d!==void 0)return d}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(La,e,R_),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(La,I_,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let s=0,a=t.length;s<a;s++)t[s].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let s=0,a=t.length;s<a;s++)t[s].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let s=0,a=t.length;s<a;s++)t[s].updateMatrixWorld(e)}updateWorldMatrix(e,t){const s=this.parent;if(e===!0&&s!==null&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const a=this.children;for(let l=0,d=a.length;l<d;l++)a[l].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",s={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},s.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON()));function l(p,v){return p[v.uuid]===void 0&&(p[v.uuid]=v.toJSON(e)),v.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=l(e.geometries,this.geometry);const p=this.geometry.parameters;if(p!==void 0&&p.shapes!==void 0){const v=p.shapes;if(Array.isArray(v))for(let y=0,M=v.length;y<M;y++){const E=v[y];l(e.shapes,E)}else l(e.shapes,v)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(l(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const p=[];for(let v=0,y=this.material.length;v<y;v++)p.push(l(e.materials,this.material[v]));a.material=p}else a.material=l(e.materials,this.material);if(this.children.length>0){a.children=[];for(let p=0;p<this.children.length;p++)a.children.push(this.children[p].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let p=0;p<this.animations.length;p++){const v=this.animations[p];a.animations.push(l(e.animations,v))}}if(t){const p=d(e.geometries),v=d(e.materials),y=d(e.textures),M=d(e.images),E=d(e.shapes),T=d(e.skeletons),L=d(e.animations);p.length>0&&(s.geometries=p),v.length>0&&(s.materials=v),y.length>0&&(s.textures=y),M.length>0&&(s.images=M),E.length>0&&(s.shapes=E),T.length>0&&(s.skeletons=T),L.length>0&&(s.animations=L)}return s.object=a,s;function d(p){const v=[];for(const y in p){const M=p[y];delete M.metadata,v.push(M)}return v}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let s=0;s<e.children.length;s++){const a=e.children[s];this.add(a.clone())}return this}}Ct.DefaultUp=new Q(0,1,0);Ct.DefaultMatrixAutoUpdate=!0;Ct.prototype.isObject3D=!0;const ii=new Q,Mi=new Q,du=new Q,Ai=new Q,rs=new Q,ss=new Q,Bm=new Q,fu=new Q,pu=new Q,gu=new Q;class jt{constructor(e=new Q,t=new Q,s=new Q){this.a=e,this.b=t,this.c=s}static getNormal(e,t,s,a){a.subVectors(s,t),ii.subVectors(e,t),a.cross(ii);const l=a.lengthSq();return l>0?a.multiplyScalar(1/Math.sqrt(l)):a.set(0,0,0)}static getBarycoord(e,t,s,a,l){ii.subVectors(a,t),Mi.subVectors(s,t),du.subVectors(e,t);const d=ii.dot(ii),p=ii.dot(Mi),v=ii.dot(du),y=Mi.dot(Mi),M=Mi.dot(du),E=d*y-p*p;if(E===0)return l.set(-2,-1,-1);const T=1/E,L=(y*v-p*M)*T,D=(d*M-p*v)*T;return l.set(1-L-D,D,L)}static containsPoint(e,t,s,a){return this.getBarycoord(e,t,s,a,Ai),Ai.x>=0&&Ai.y>=0&&Ai.x+Ai.y<=1}static getUV(e,t,s,a,l,d,p,v){return this.getBarycoord(e,t,s,a,Ai),v.set(0,0),v.addScaledVector(l,Ai.x),v.addScaledVector(d,Ai.y),v.addScaledVector(p,Ai.z),v}static isFrontFacing(e,t,s,a){return ii.subVectors(s,t),Mi.subVectors(e,t),ii.cross(Mi).dot(a)<0}set(e,t,s){return this.a.copy(e),this.b.copy(t),this.c.copy(s),this}setFromPointsAndIndices(e,t,s,a){return this.a.copy(e[t]),this.b.copy(e[s]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,s,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,s),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ii.subVectors(this.c,this.b),Mi.subVectors(this.a,this.b),ii.cross(Mi).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return jt.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return jt.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,s,a,l){return jt.getUV(e,this.a,this.b,this.c,t,s,a,l)}containsPoint(e){return jt.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return jt.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const s=this.a,a=this.b,l=this.c;let d,p;rs.subVectors(a,s),ss.subVectors(l,s),fu.subVectors(e,s);const v=rs.dot(fu),y=ss.dot(fu);if(v<=0&&y<=0)return t.copy(s);pu.subVectors(e,a);const M=rs.dot(pu),E=ss.dot(pu);if(M>=0&&E<=M)return t.copy(a);const T=v*E-M*y;if(T<=0&&v>=0&&M<=0)return d=v/(v-M),t.copy(s).addScaledVector(rs,d);gu.subVectors(e,l);const L=rs.dot(gu),D=ss.dot(gu);if(D>=0&&L<=D)return t.copy(l);const N=L*y-v*D;if(N<=0&&y>=0&&D<=0)return p=y/(y-D),t.copy(s).addScaledVector(ss,p);const z=M*D-L*E;if(z<=0&&E-M>=0&&L-D>=0)return Bm.subVectors(l,a),p=(E-M)/(E-M+(L-D)),t.copy(a).addScaledVector(Bm,p);const C=1/(z+N+T);return d=N*C,p=T*C,t.copy(s).addScaledVector(rs,d).addScaledVector(ss,p)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let z_=0;class Sn extends jr{constructor(){super(),Object.defineProperty(this,"id",{value:z_++}),this.uuid=mi(),this.name="",this.type="Material",this.fog=!0,this.blending=oo,this.side=Co,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=ty,this.blendDst=ny,this.blendEquation=ys,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ed,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=__,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Kh,this.stencilZFail=Kh,this.stencilZPass=Kh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const s=e[t];if(s===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=s===ey;continue}const a=this[t];if(a===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}a&&a.isColor?a.set(s):a&&a.isVector3&&s&&s.isVector3?a.copy(s):this[t]=s}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const s={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(e).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(e).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(e).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(e).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(e).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==oo&&(s.blending=this.blending),this.side!==Co&&(s.side=this.side),this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=this.transparent),s.depthFunc=this.depthFunc,s.depthTest=this.depthTest,s.depthWrite=this.depthWrite,s.colorWrite=this.colorWrite,s.stencilWrite=this.stencilWrite,s.stencilWriteMask=this.stencilWriteMask,s.stencilFunc=this.stencilFunc,s.stencilRef=this.stencilRef,s.stencilFuncMask=this.stencilFuncMask,s.stencilFail=this.stencilFail,s.stencilZFail=this.stencilZFail,s.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(s.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(s.wireframe=this.wireframe),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=this.flatShading),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData);function a(l){const d=[];for(const p in l){const v=l[p];delete v.metadata,d.push(v)}return d}if(t){const l=a(e.textures),d=a(e.images);l.length>0&&(s.textures=l),d.length>0&&(s.images=d)}return s}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let s=null;if(t!==null){const a=t.length;s=new Array(a);for(let l=0;l!==a;++l)s[l]=t[l].clone()}return this.clippingPlanes=s,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Sn.prototype.isMaterial=!0;class sh extends Sn{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=nh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}sh.prototype.isMeshBasicMaterial=!0;const Lt=new Q,yl=new ke;class Jt{constructor(e,t,s){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=s===!0,this.usage=To,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,s){e*=this.itemSize,s*=t.itemSize;for(let a=0,l=this.itemSize;a<l;a++)this.array[e+a]=t.array[s+a];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let s=0;for(let a=0,l=e.length;a<l;a++){let d=e[a];d===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",a),d=new Ze),t[s++]=d.r,t[s++]=d.g,t[s++]=d.b}return this}copyVector2sArray(e){const t=this.array;let s=0;for(let a=0,l=e.length;a<l;a++){let d=e[a];d===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",a),d=new ke),t[s++]=d.x,t[s++]=d.y}return this}copyVector3sArray(e){const t=this.array;let s=0;for(let a=0,l=e.length;a<l;a++){let d=e[a];d===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",a),d=new Q),t[s++]=d.x,t[s++]=d.y,t[s++]=d.z}return this}copyVector4sArray(e){const t=this.array;let s=0;for(let a=0,l=e.length;a<l;a++){let d=e[a];d===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",a),d=new Mt),t[s++]=d.x,t[s++]=d.y,t[s++]=d.z,t[s++]=d.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,s=this.count;t<s;t++)yl.fromBufferAttribute(this,t),yl.applyMatrix3(e),this.setXY(t,yl.x,yl.y);else if(this.itemSize===3)for(let t=0,s=this.count;t<s;t++)Lt.fromBufferAttribute(this,t),Lt.applyMatrix3(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this}applyMatrix4(e){for(let t=0,s=this.count;t<s;t++)Lt.x=this.getX(t),Lt.y=this.getY(t),Lt.z=this.getZ(t),Lt.applyMatrix4(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this}applyNormalMatrix(e){for(let t=0,s=this.count;t<s;t++)Lt.x=this.getX(t),Lt.y=this.getY(t),Lt.z=this.getZ(t),Lt.applyNormalMatrix(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this}transformDirection(e){for(let t=0,s=this.count;t<s;t++)Lt.x=this.getX(t),Lt.y=this.getY(t),Lt.z=this.getZ(t),Lt.transformDirection(e),this.setXYZ(t,Lt.x,Lt.y,Lt.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=s,this}setXYZ(e,t,s,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=s,this.array[e+2]=a,this}setXYZW(e,t,s,a,l){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=s,this.array[e+2]=a,this.array[e+3]=l,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==To&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}Jt.prototype.isBufferAttribute=!0;class ly extends Jt{constructor(e,t,s){super(new Uint16Array(e),t,s)}}class cy extends Jt{constructor(e,t,s){super(new Uint32Array(e),t,s)}}class N_ extends Jt{constructor(e,t,s){super(new Uint16Array(e),t,s)}}N_.prototype.isFloat16BufferAttribute=!0;class It extends Jt{constructor(e,t,s){super(new Float32Array(e),t,s)}}let F_=0;const Gn=new nt,mu=new Ct,as=new Q,Bn=new oi,Pa=new oi,Kt=new Q;class At extends jr{constructor(){super(),Object.defineProperty(this,"id",{value:F_++}),this.uuid=mi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(sy(e)?cy:ly)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,s=0){this.groups.push({start:e,count:t,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const l=new ln().getNormalMatrix(e);s.applyNormalMatrix(l),s.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Gn.makeRotationFromQuaternion(e),this.applyMatrix4(Gn),this}rotateX(e){return Gn.makeRotationX(e),this.applyMatrix4(Gn),this}rotateY(e){return Gn.makeRotationY(e),this.applyMatrix4(Gn),this}rotateZ(e){return Gn.makeRotationZ(e),this.applyMatrix4(Gn),this}translate(e,t,s){return Gn.makeTranslation(e,t,s),this.applyMatrix4(Gn),this}scale(e,t,s){return Gn.makeScale(e,t,s),this.applyMatrix4(Gn),this}lookAt(e){return mu.lookAt(e),mu.updateMatrix(),this.applyMatrix4(mu.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(as).negate(),this.translate(as.x,as.y,as.z),this}setFromPoints(e){const t=[];for(let s=0,a=e.length;s<a;s++){const l=e[s];t.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new It(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new oi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const l=t[s];Bn.setFromBufferAttribute(l),this.morphTargetsRelative?(Kt.addVectors(this.boundingBox.min,Bn.min),this.boundingBox.expandByPoint(Kt),Kt.addVectors(this.boundingBox.max,Bn.max),this.boundingBox.expandByPoint(Kt)):(this.boundingBox.expandByPoint(Bn.min),this.boundingBox.expandByPoint(Bn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Q,1/0);return}if(e){const s=this.boundingSphere.center;if(Bn.setFromBufferAttribute(e),t)for(let l=0,d=t.length;l<d;l++){const p=t[l];Pa.setFromBufferAttribute(p),this.morphTargetsRelative?(Kt.addVectors(Bn.min,Pa.min),Bn.expandByPoint(Kt),Kt.addVectors(Bn.max,Pa.max),Bn.expandByPoint(Kt)):(Bn.expandByPoint(Pa.min),Bn.expandByPoint(Pa.max))}Bn.getCenter(s);let a=0;for(let l=0,d=e.count;l<d;l++)Kt.fromBufferAttribute(e,l),a=Math.max(a,s.distanceToSquared(Kt));if(t)for(let l=0,d=t.length;l<d;l++){const p=t[l],v=this.morphTargetsRelative;for(let y=0,M=p.count;y<M;y++)Kt.fromBufferAttribute(p,y),v&&(as.fromBufferAttribute(e,y),Kt.add(as)),a=Math.max(a,s.distanceToSquared(Kt))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=e.array,a=t.position.array,l=t.normal.array,d=t.uv.array,p=a.length/3;t.tangent===void 0&&this.setAttribute("tangent",new Jt(new Float32Array(4*p),4));const v=t.tangent.array,y=[],M=[];for(let me=0;me<p;me++)y[me]=new Q,M[me]=new Q;const E=new Q,T=new Q,L=new Q,D=new ke,N=new ke,z=new ke,C=new Q,S=new Q;function G(me,Y,re){E.fromArray(a,me*3),T.fromArray(a,Y*3),L.fromArray(a,re*3),D.fromArray(d,me*2),N.fromArray(d,Y*2),z.fromArray(d,re*2),T.sub(E),L.sub(E),N.sub(D),z.sub(D);const se=1/(N.x*z.y-z.x*N.y);!isFinite(se)||(C.copy(T).multiplyScalar(z.y).addScaledVector(L,-N.y).multiplyScalar(se),S.copy(L).multiplyScalar(N.x).addScaledVector(T,-z.x).multiplyScalar(se),y[me].add(C),y[Y].add(C),y[re].add(C),M[me].add(S),M[Y].add(S),M[re].add(S))}let W=this.groups;W.length===0&&(W=[{start:0,count:s.length}]);for(let me=0,Y=W.length;me<Y;++me){const re=W[me],se=re.start,ae=re.count;for(let he=se,ue=se+ae;he<ue;he+=3)G(s[he+0],s[he+1],s[he+2])}const H=new Q,$=new Q,K=new Q,le=new Q;function ge(me){K.fromArray(l,me*3),le.copy(K);const Y=y[me];H.copy(Y),H.sub(K.multiplyScalar(K.dot(Y))).normalize(),$.crossVectors(le,Y);const se=$.dot(M[me])<0?-1:1;v[me*4]=H.x,v[me*4+1]=H.y,v[me*4+2]=H.z,v[me*4+3]=se}for(let me=0,Y=W.length;me<Y;++me){const re=W[me],se=re.start,ae=re.count;for(let he=se,ue=se+ae;he<ue;he+=3)ge(s[he+0]),ge(s[he+1]),ge(s[he+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new Jt(new Float32Array(t.count*3),3),this.setAttribute("normal",s);else for(let T=0,L=s.count;T<L;T++)s.setXYZ(T,0,0,0);const a=new Q,l=new Q,d=new Q,p=new Q,v=new Q,y=new Q,M=new Q,E=new Q;if(e)for(let T=0,L=e.count;T<L;T+=3){const D=e.getX(T+0),N=e.getX(T+1),z=e.getX(T+2);a.fromBufferAttribute(t,D),l.fromBufferAttribute(t,N),d.fromBufferAttribute(t,z),M.subVectors(d,l),E.subVectors(a,l),M.cross(E),p.fromBufferAttribute(s,D),v.fromBufferAttribute(s,N),y.fromBufferAttribute(s,z),p.add(M),v.add(M),y.add(M),s.setXYZ(D,p.x,p.y,p.z),s.setXYZ(N,v.x,v.y,v.z),s.setXYZ(z,y.x,y.y,y.z)}else for(let T=0,L=t.count;T<L;T+=3)a.fromBufferAttribute(t,T+0),l.fromBufferAttribute(t,T+1),d.fromBufferAttribute(t,T+2),M.subVectors(d,l),E.subVectors(a,l),M.cross(E),s.setXYZ(T+0,M.x,M.y,M.z),s.setXYZ(T+1,M.x,M.y,M.z),s.setXYZ(T+2,M.x,M.y,M.z);this.normalizeNormals(),s.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const s=this.attributes;for(const a in s){if(e.attributes[a]===void 0)continue;const d=s[a].array,p=e.attributes[a],v=p.array,y=p.itemSize*t,M=Math.min(v.length,d.length-y);for(let E=0,T=y;E<M;E++,T++)d[T]=v[E]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,s=e.count;t<s;t++)Kt.fromBufferAttribute(e,t),Kt.normalize(),e.setXYZ(t,Kt.x,Kt.y,Kt.z)}toNonIndexed(){function e(p,v){const y=p.array,M=p.itemSize,E=p.normalized,T=new y.constructor(v.length*M);let L=0,D=0;for(let N=0,z=v.length;N<z;N++){p.isInterleavedBufferAttribute?L=v[N]*p.data.stride+p.offset:L=v[N]*M;for(let C=0;C<M;C++)T[D++]=y[L++]}return new Jt(T,M,E)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new At,s=this.index.array,a=this.attributes;for(const p in a){const v=a[p],y=e(v,s);t.setAttribute(p,y)}const l=this.morphAttributes;for(const p in l){const v=[],y=l[p];for(let M=0,E=y.length;M<E;M++){const T=y[M],L=e(T,s);v.push(L)}t.morphAttributes[p]=v}t.morphTargetsRelative=this.morphTargetsRelative;const d=this.groups;for(let p=0,v=d.length;p<v;p++){const y=d[p];t.addGroup(y.start,y.count,y.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const v=this.parameters;for(const y in v)v[y]!==void 0&&(e[y]=v[y]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const s=this.attributes;for(const v in s){const y=s[v];e.data.attributes[v]=y.toJSON(e.data)}const a={};let l=!1;for(const v in this.morphAttributes){const y=this.morphAttributes[v],M=[];for(let E=0,T=y.length;E<T;E++){const L=y[E];M.push(L.toJSON(e.data))}M.length>0&&(a[v]=M,l=!0)}l&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const d=this.groups;d.length>0&&(e.data.groups=JSON.parse(JSON.stringify(d)));const p=this.boundingSphere;return p!==null&&(e.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const s=e.index;s!==null&&this.setIndex(s.clone(t));const a=e.attributes;for(const y in a){const M=a[y];this.setAttribute(y,M.clone(t))}const l=e.morphAttributes;for(const y in l){const M=[],E=l[y];for(let T=0,L=E.length;T<L;T++)M.push(E[T].clone(t));this.morphAttributes[y]=M}this.morphTargetsRelative=e.morphTargetsRelative;const d=e.groups;for(let y=0,M=d.length;y<M;y++){const E=d[y];this.addGroup(E.start,E.count,E.materialIndex)}const p=e.boundingBox;p!==null&&(this.boundingBox=p.clone());const v=e.boundingSphere;return v!==null&&(this.boundingSphere=v.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}At.prototype.isBufferGeometry=!0;const Hm=new nt,os=new la,xu=new oa,Bi=new Q,Hi=new Q,Wi=new Q,vu=new Q,yu=new Q,bu=new Q,bl=new Q,wl=new Q,Sl=new Q,_l=new ke,Ml=new ke,Al=new ke,wu=new Q,Cl=new Q;class $t extends Ct{constructor(e=new At,t=new sh){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,s=Object.keys(t);if(s.length>0){const a=t[s[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,d=a.length;l<d;l++){const p=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=l}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const s=this.geometry,a=this.material,l=this.matrixWorld;if(a===void 0||(s.boundingSphere===null&&s.computeBoundingSphere(),xu.copy(s.boundingSphere),xu.applyMatrix4(l),e.ray.intersectsSphere(xu)===!1)||(Hm.copy(l).invert(),os.copy(e.ray).applyMatrix4(Hm),s.boundingBox!==null&&os.intersectsBox(s.boundingBox)===!1))return;let d;if(s.isBufferGeometry){const p=s.index,v=s.attributes.position,y=s.morphAttributes.position,M=s.morphTargetsRelative,E=s.attributes.uv,T=s.attributes.uv2,L=s.groups,D=s.drawRange;if(p!==null)if(Array.isArray(a))for(let N=0,z=L.length;N<z;N++){const C=L[N],S=a[C.materialIndex],G=Math.max(C.start,D.start),W=Math.min(p.count,Math.min(C.start+C.count,D.start+D.count));for(let H=G,$=W;H<$;H+=3){const K=p.getX(H),le=p.getX(H+1),ge=p.getX(H+2);d=El(this,S,e,os,v,y,M,E,T,K,le,ge),d&&(d.faceIndex=Math.floor(H/3),d.face.materialIndex=C.materialIndex,t.push(d))}}else{const N=Math.max(0,D.start),z=Math.min(p.count,D.start+D.count);for(let C=N,S=z;C<S;C+=3){const G=p.getX(C),W=p.getX(C+1),H=p.getX(C+2);d=El(this,a,e,os,v,y,M,E,T,G,W,H),d&&(d.faceIndex=Math.floor(C/3),t.push(d))}}else if(v!==void 0)if(Array.isArray(a))for(let N=0,z=L.length;N<z;N++){const C=L[N],S=a[C.materialIndex],G=Math.max(C.start,D.start),W=Math.min(v.count,Math.min(C.start+C.count,D.start+D.count));for(let H=G,$=W;H<$;H+=3){const K=H,le=H+1,ge=H+2;d=El(this,S,e,os,v,y,M,E,T,K,le,ge),d&&(d.faceIndex=Math.floor(H/3),d.face.materialIndex=C.materialIndex,t.push(d))}}else{const N=Math.max(0,D.start),z=Math.min(v.count,D.start+D.count);for(let C=N,S=z;C<S;C+=3){const G=C,W=C+1,H=C+2;d=El(this,a,e,os,v,y,M,E,T,G,W,H),d&&(d.faceIndex=Math.floor(C/3),t.push(d))}}}else s.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}$t.prototype.isMesh=!0;function O_(n,e,t,s,a,l,d,p){let v;if(e.side===Gt?v=s.intersectTriangle(d,l,a,!0,p):v=s.intersectTriangle(a,l,d,e.side!==$s,p),v===null)return null;Cl.copy(p),Cl.applyMatrix4(n.matrixWorld);const y=t.ray.origin.distanceTo(Cl);return y<t.near||y>t.far?null:{distance:y,point:Cl.clone(),object:n}}function El(n,e,t,s,a,l,d,p,v,y,M,E){Bi.fromBufferAttribute(a,y),Hi.fromBufferAttribute(a,M),Wi.fromBufferAttribute(a,E);const T=n.morphTargetInfluences;if(l&&T){bl.set(0,0,0),wl.set(0,0,0),Sl.set(0,0,0);for(let D=0,N=l.length;D<N;D++){const z=T[D],C=l[D];z!==0&&(vu.fromBufferAttribute(C,y),yu.fromBufferAttribute(C,M),bu.fromBufferAttribute(C,E),d?(bl.addScaledVector(vu,z),wl.addScaledVector(yu,z),Sl.addScaledVector(bu,z)):(bl.addScaledVector(vu.sub(Bi),z),wl.addScaledVector(yu.sub(Hi),z),Sl.addScaledVector(bu.sub(Wi),z)))}Bi.add(bl),Hi.add(wl),Wi.add(Sl)}n.isSkinnedMesh&&(n.boneTransform(y,Bi),n.boneTransform(M,Hi),n.boneTransform(E,Wi));const L=O_(n,e,t,s,Bi,Hi,Wi,wu);if(L){p&&(_l.fromBufferAttribute(p,y),Ml.fromBufferAttribute(p,M),Al.fromBufferAttribute(p,E),L.uv=jt.getUV(wu,Bi,Hi,Wi,_l,Ml,Al,new ke)),v&&(_l.fromBufferAttribute(v,y),Ml.fromBufferAttribute(v,M),Al.fromBufferAttribute(v,E),L.uv2=jt.getUV(wu,Bi,Hi,Wi,_l,Ml,Al,new ke));const D={a:y,b:M,c:E,normal:new Q,materialIndex:0};jt.getNormal(Bi,Hi,Wi,D.normal),L.face=D}return L}class Wr extends At{constructor(e=1,t=1,s=1,a=1,l=1,d=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:s,widthSegments:a,heightSegments:l,depthSegments:d};const p=this;a=Math.floor(a),l=Math.floor(l),d=Math.floor(d);const v=[],y=[],M=[],E=[];let T=0,L=0;D("z","y","x",-1,-1,s,t,e,d,l,0),D("z","y","x",1,-1,s,t,-e,d,l,1),D("x","z","y",1,1,e,s,t,a,d,2),D("x","z","y",1,-1,e,s,-t,a,d,3),D("x","y","z",1,-1,e,t,s,a,l,4),D("x","y","z",-1,-1,e,t,-s,a,l,5),this.setIndex(v),this.setAttribute("position",new It(y,3)),this.setAttribute("normal",new It(M,3)),this.setAttribute("uv",new It(E,2));function D(N,z,C,S,G,W,H,$,K,le,ge){const me=W/K,Y=H/le,re=W/2,se=H/2,ae=$/2,he=K+1,ue=le+1;let pe=0,Ce=0;const Ne=new Q;for(let ve=0;ve<ue;ve++){const ne=ve*Y-se;for(let xe=0;xe<he;xe++){const Ee=xe*me-re;Ne[N]=Ee*S,Ne[z]=ne*G,Ne[C]=ae,y.push(Ne.x,Ne.y,Ne.z),Ne[N]=0,Ne[z]=0,Ne[C]=$>0?1:-1,M.push(Ne.x,Ne.y,Ne.z),E.push(xe/K),E.push(1-ve/le),pe+=1}}for(let ve=0;ve<le;ve++)for(let ne=0;ne<K;ne++){const xe=T+ne+he*ve,Ee=T+ne+he*(ve+1),Ie=T+(ne+1)+he*(ve+1),ce=T+(ne+1)+he*ve;v.push(xe,Ee,ce),v.push(Ee,Ie,ce),Ce+=6}p.addGroup(L,Ce,ge),L+=Ce,T+=pe}}static fromJSON(e){return new Wr(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Js(n){const e={};for(const t in n){e[t]={};for(const s in n[t]){const a=n[t][s];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?e[t][s]=a.clone():Array.isArray(a)?e[t][s]=a.slice():e[t][s]=a}}return e}function gn(n){const e={};for(let t=0;t<n.length;t++){const s=Js(n[t]);for(const a in s)e[a]=s[a]}return e}const B_={clone:Js,merge:gn};var H_=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,W_=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ai extends Sn{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=H_,this.fragmentShader=W_,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Js(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const d=this.uniforms[a].value;d&&d.isTexture?t.uniforms[a]={type:"t",value:d.toJSON(e).uuid}:d&&d.isColor?t.uniforms[a]={type:"c",value:d.getHex()}:d&&d.isVector2?t.uniforms[a]={type:"v2",value:d.toArray()}:d&&d.isVector3?t.uniforms[a]={type:"v3",value:d.toArray()}:d&&d.isVector4?t.uniforms[a]={type:"v4",value:d.toArray()}:d&&d.isMatrix3?t.uniforms[a]={type:"m3",value:d.toArray()}:d&&d.isMatrix4?t.uniforms[a]={type:"m4",value:d.toArray()}:t.uniforms[a]={value:d}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const s={};for(const a in this.extensions)this.extensions[a]===!0&&(s[a]=!0);return Object.keys(s).length>0&&(t.extensions=s),t}}ai.prototype.isShaderMaterial=!0;class Jf extends Ct{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new nt,this.projectionMatrix=new nt,this.projectionMatrixInverse=new nt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Jf.prototype.isCamera=!0;class _n extends Jf{constructor(e=50,t=1,s=.1,a=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=s,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Id*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(eu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Id*2*Math.atan(Math.tan(eu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,s,a,l,d){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=s,this.view.offsetY=a,this.view.width=l,this.view.height=d,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(eu*.5*this.fov)/this.zoom,s=2*t,a=this.aspect*s,l=-.5*a;const d=this.view;if(this.view!==null&&this.view.enabled){const v=d.fullWidth,y=d.fullHeight;l+=d.offsetX*a/v,t-=d.offsetY*s/y,a*=d.width/v,s*=d.height/y}const p=this.filmOffset;p!==0&&(l+=e*p/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+a,t,t-s,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}_n.prototype.isPerspectiveCamera=!0;const ls=90,cs=1;class Qf extends Ct{constructor(e,t,s){if(super(),this.type="CubeCamera",s.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=s;const a=new _n(ls,cs,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new Q(1,0,0)),this.add(a);const l=new _n(ls,cs,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Q(-1,0,0)),this.add(l);const d=new _n(ls,cs,e,t);d.layers=this.layers,d.up.set(0,0,1),d.lookAt(new Q(0,1,0)),this.add(d);const p=new _n(ls,cs,e,t);p.layers=this.layers,p.up.set(0,0,-1),p.lookAt(new Q(0,-1,0)),this.add(p);const v=new _n(ls,cs,e,t);v.layers=this.layers,v.up.set(0,-1,0),v.lookAt(new Q(0,0,1)),this.add(v);const y=new _n(ls,cs,e,t);y.layers=this.layers,y.up.set(0,-1,0),y.lookAt(new Q(0,0,-1)),this.add(y)}update(e,t){this.parent===null&&this.updateMatrixWorld();const s=this.renderTarget,[a,l,d,p,v,y]=this.children,M=e.xr.enabled,E=e.getRenderTarget();e.xr.enabled=!1;const T=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,e.setRenderTarget(s,0),e.render(t,a),e.setRenderTarget(s,1),e.render(t,l),e.setRenderTarget(s,2),e.render(t,d),e.setRenderTarget(s,3),e.render(t,p),e.setRenderTarget(s,4),e.render(t,v),s.texture.generateMipmaps=T,e.setRenderTarget(s,5),e.render(t,y),e.setRenderTarget(E),e.xr.enabled=M,s.texture.needsPMREMUpdate=!0}}class ah extends nn{constructor(e,t,s,a,l,d,p,v,y,M){e=e!==void 0?e:[],t=t!==void 0?t:Go,super(e,t,s,a,l,d,p,v,y,M),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}ah.prototype.isCubeTexture=!0;class hy extends qn{constructor(e,t,s){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=s),super(e,e,t),t=t||{},this.texture=new ah(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:xn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=Mn,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Wr(5,5,5),l=new ai({name:"CubemapFromEquirect",uniforms:Js(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:Gt,blending:ir});l.uniforms.tEquirect.value=t;const d=new $t(a,l),p=t.minFilter;return t.minFilter===rh&&(t.minFilter=xn),new Qf(1,10,this).update(e,d),t.minFilter=p,d.geometry.dispose(),d.material.dispose(),this}clear(e,t,s,a){const l=e.getRenderTarget();for(let d=0;d<6;d++)e.setRenderTarget(this,d),e.clear(t,s,a);e.setRenderTarget(l)}}hy.prototype.isWebGLCubeRenderTarget=!0;const Su=new Q,V_=new Q,U_=new ln;class Ti{constructor(e=new Q(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,s,a){return this.normal.set(e,t,s),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,s){const a=Su.subVectors(s,t).cross(V_.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const s=e.delta(Su),a=this.normal.dot(s);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const l=-(e.start.dot(this.normal)+this.constant)/a;return l<0||l>1?null:t.copy(s).multiplyScalar(l).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),s=this.distanceToPoint(e.end);return t<0&&s>0||s<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const s=t||U_.getNormalMatrix(e),a=this.coplanarPoint(Su).applyMatrix4(e),l=this.normal.applyMatrix3(s).normalize();return this.constant=-a.dot(l),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}Ti.prototype.isPlane=!0;const hs=new oa,Tl=new Q;class oh{constructor(e=new Ti,t=new Ti,s=new Ti,a=new Ti,l=new Ti,d=new Ti){this.planes=[e,t,s,a,l,d]}set(e,t,s,a,l,d){const p=this.planes;return p[0].copy(e),p[1].copy(t),p[2].copy(s),p[3].copy(a),p[4].copy(l),p[5].copy(d),this}copy(e){const t=this.planes;for(let s=0;s<6;s++)t[s].copy(e.planes[s]);return this}setFromProjectionMatrix(e){const t=this.planes,s=e.elements,a=s[0],l=s[1],d=s[2],p=s[3],v=s[4],y=s[5],M=s[6],E=s[7],T=s[8],L=s[9],D=s[10],N=s[11],z=s[12],C=s[13],S=s[14],G=s[15];return t[0].setComponents(p-a,E-v,N-T,G-z).normalize(),t[1].setComponents(p+a,E+v,N+T,G+z).normalize(),t[2].setComponents(p+l,E+y,N+L,G+C).normalize(),t[3].setComponents(p-l,E-y,N-L,G-C).normalize(),t[4].setComponents(p-d,E-M,N-D,G-S).normalize(),t[5].setComponents(p+d,E+M,N+D,G+S).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),hs.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(hs)}intersectsSprite(e){return hs.center.set(0,0,0),hs.radius=.7071067811865476,hs.applyMatrix4(e.matrixWorld),this.intersectsSphere(hs)}intersectsSphere(e){const t=this.planes,s=e.center,a=-e.radius;for(let l=0;l<6;l++)if(t[l].distanceToPoint(s)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let s=0;s<6;s++){const a=t[s];if(Tl.x=a.normal.x>0?e.max.x:e.min.x,Tl.y=a.normal.y>0?e.max.y:e.min.y,Tl.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(Tl)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let s=0;s<6;s++)if(t[s].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function uy(){let n=null,e=!1,t=null,s=null;function a(l,d){t(l,d),s=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(s=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(s),e=!1},setAnimationLoop:function(l){t=l},setContext:function(l){n=l}}}function G_(n,e){const t=e.isWebGL2,s=new WeakMap;function a(y,M){const E=y.array,T=y.usage,L=n.createBuffer();n.bindBuffer(M,L),n.bufferData(M,E,T),y.onUploadCallback();let D=5126;return E instanceof Float32Array?D=5126:E instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):E instanceof Uint16Array?y.isFloat16BufferAttribute?t?D=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):D=5123:E instanceof Int16Array?D=5122:E instanceof Uint32Array?D=5125:E instanceof Int32Array?D=5124:E instanceof Int8Array?D=5120:(E instanceof Uint8Array||E instanceof Uint8ClampedArray)&&(D=5121),{buffer:L,type:D,bytesPerElement:E.BYTES_PER_ELEMENT,version:y.version}}function l(y,M,E){const T=M.array,L=M.updateRange;n.bindBuffer(E,y),L.count===-1?n.bufferSubData(E,0,T):(t?n.bufferSubData(E,L.offset*T.BYTES_PER_ELEMENT,T,L.offset,L.count):n.bufferSubData(E,L.offset*T.BYTES_PER_ELEMENT,T.subarray(L.offset,L.offset+L.count)),L.count=-1)}function d(y){return y.isInterleavedBufferAttribute&&(y=y.data),s.get(y)}function p(y){y.isInterleavedBufferAttribute&&(y=y.data);const M=s.get(y);M&&(n.deleteBuffer(M.buffer),s.delete(y))}function v(y,M){if(y.isGLBufferAttribute){const T=s.get(y);(!T||T.version<y.version)&&s.set(y,{buffer:y.buffer,type:y.type,bytesPerElement:y.elementSize,version:y.version});return}y.isInterleavedBufferAttribute&&(y=y.data);const E=s.get(y);E===void 0?s.set(y,a(y,M)):E.version<y.version&&(l(E.buffer,y,M),E.version=y.version)}return{get:d,remove:p,update:v}}class Kf extends At{constructor(e=1,t=1,s=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:s,heightSegments:a};const l=e/2,d=t/2,p=Math.floor(s),v=Math.floor(a),y=p+1,M=v+1,E=e/p,T=t/v,L=[],D=[],N=[],z=[];for(let C=0;C<M;C++){const S=C*T-d;for(let G=0;G<y;G++){const W=G*E-l;D.push(W,-S,0),N.push(0,0,1),z.push(G/p),z.push(1-C/v)}}for(let C=0;C<v;C++)for(let S=0;S<p;S++){const G=S+y*C,W=S+y*(C+1),H=S+1+y*(C+1),$=S+1+y*C;L.push(G,W,$),L.push(W,H,$)}this.setIndex(L),this.setAttribute("position",new It(D,3)),this.setAttribute("normal",new It(N,3)),this.setAttribute("uv",new It(z,2))}static fromJSON(e){return new Kf(e.width,e.height,e.widthSegments,e.heightSegments)}}var X_=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Y_=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,j_=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,q_=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,$_=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Z_=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,J_="vec3 transformed = vec3( position );",Q_=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,K_=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,eM=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,tM=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,nM=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,iM=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,rM=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,sM=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,aM=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,oM=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,lM=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,cM=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,hM=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		return texture2D( envMap, uv ).rgb;
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,uM=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,dM=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,fM=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,pM=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,gM=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,mM="gl_FragColor = linearToOutputTexel( gl_FragColor );",xM=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,vM=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,yM=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,bM=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,wM=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,SM=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,_M=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,MM=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,AM=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,CM=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,EM=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,TM=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,kM=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,LM=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,PM=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,RM=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,IM=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,DM=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,zM=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,NM=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,FM=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,OM=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,BM=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,HM=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,WM=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,VM=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,UM=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,GM=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,XM=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,YM=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,jM=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,qM=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,$M=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ZM=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,JM=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,QM=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,KM=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,eA=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,tA=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,nA=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,iA=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rA=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sA=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,aA=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,oA=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,lA=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,cA=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,hA=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,uA=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,dA=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,fA=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,pA=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,gA=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,mA=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,xA=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,vA=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,yA=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,bA=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,wA=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,SA=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,_A=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,MA=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,AA=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,CA=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,EA=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,TA=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,kA=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,LA=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,PA=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,RA=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,IA=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,DA=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,zA=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,NA=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,FA=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,OA=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const BA=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,HA=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,WA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,VA=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,UA=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,GA=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,XA=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,YA=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,jA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,qA=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,$A=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ZA=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,JA=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,QA=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KA=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,eC=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tC=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,nC=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iC=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,rC=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,sC=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aC=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oC=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,lC=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cC=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hC=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uC=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,dC=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,fC=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pC=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,gC=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,mC=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,gt={alphamap_fragment:X_,alphamap_pars_fragment:Y_,alphatest_fragment:j_,alphatest_pars_fragment:q_,aomap_fragment:$_,aomap_pars_fragment:Z_,begin_vertex:J_,beginnormal_vertex:Q_,bsdfs:K_,bumpmap_pars_fragment:eM,clipping_planes_fragment:tM,clipping_planes_pars_fragment:nM,clipping_planes_pars_vertex:iM,clipping_planes_vertex:rM,color_fragment:sM,color_pars_fragment:aM,color_pars_vertex:oM,color_vertex:lM,common:cM,cube_uv_reflection_fragment:hM,defaultnormal_vertex:uM,displacementmap_pars_vertex:dM,displacementmap_vertex:fM,emissivemap_fragment:pM,emissivemap_pars_fragment:gM,encodings_fragment:mM,encodings_pars_fragment:xM,envmap_fragment:vM,envmap_common_pars_fragment:yM,envmap_pars_fragment:bM,envmap_pars_vertex:wM,envmap_physical_pars_fragment:RM,envmap_vertex:SM,fog_vertex:_M,fog_pars_vertex:MM,fog_fragment:AM,fog_pars_fragment:CM,gradientmap_pars_fragment:EM,lightmap_fragment:TM,lightmap_pars_fragment:kM,lights_lambert_vertex:LM,lights_pars_begin:PM,lights_toon_fragment:IM,lights_toon_pars_fragment:DM,lights_phong_fragment:zM,lights_phong_pars_fragment:NM,lights_physical_fragment:FM,lights_physical_pars_fragment:OM,lights_fragment_begin:BM,lights_fragment_maps:HM,lights_fragment_end:WM,logdepthbuf_fragment:VM,logdepthbuf_pars_fragment:UM,logdepthbuf_pars_vertex:GM,logdepthbuf_vertex:XM,map_fragment:YM,map_pars_fragment:jM,map_particle_fragment:qM,map_particle_pars_fragment:$M,metalnessmap_fragment:ZM,metalnessmap_pars_fragment:JM,morphnormal_vertex:QM,morphtarget_pars_vertex:KM,morphtarget_vertex:eA,normal_fragment_begin:tA,normal_fragment_maps:nA,normal_pars_fragment:iA,normal_pars_vertex:rA,normal_vertex:sA,normalmap_pars_fragment:aA,clearcoat_normal_fragment_begin:oA,clearcoat_normal_fragment_maps:lA,clearcoat_pars_fragment:cA,output_fragment:hA,packing:uA,premultiplied_alpha_fragment:dA,project_vertex:fA,dithering_fragment:pA,dithering_pars_fragment:gA,roughnessmap_fragment:mA,roughnessmap_pars_fragment:xA,shadowmap_pars_fragment:vA,shadowmap_pars_vertex:yA,shadowmap_vertex:bA,shadowmask_pars_fragment:wA,skinbase_vertex:SA,skinning_pars_vertex:_A,skinning_vertex:MA,skinnormal_vertex:AA,specularmap_fragment:CA,specularmap_pars_fragment:EA,tonemapping_fragment:TA,tonemapping_pars_fragment:kA,transmission_fragment:LA,transmission_pars_fragment:PA,uv_pars_fragment:RA,uv_pars_vertex:IA,uv_vertex:DA,uv2_pars_fragment:zA,uv2_pars_vertex:NA,uv2_vertex:FA,worldpos_vertex:OA,background_vert:BA,background_frag:HA,cube_vert:WA,cube_frag:VA,depth_vert:UA,depth_frag:GA,distanceRGBA_vert:XA,distanceRGBA_frag:YA,equirect_vert:jA,equirect_frag:qA,linedashed_vert:$A,linedashed_frag:ZA,meshbasic_vert:JA,meshbasic_frag:QA,meshlambert_vert:KA,meshlambert_frag:eC,meshmatcap_vert:tC,meshmatcap_frag:nC,meshnormal_vert:iC,meshnormal_frag:rC,meshphong_vert:sC,meshphong_frag:aC,meshphysical_vert:oC,meshphysical_frag:lC,meshtoon_vert:cC,meshtoon_frag:hC,points_vert:uC,points_frag:dC,shadow_vert:fC,shadow_frag:pC,sprite_vert:gC,sprite_frag:mC},Be={common:{diffuse:{value:new Ze(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ln},uv2Transform:{value:new ln},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ke(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ze(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ze(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ln}},sprite:{diffuse:{value:new Ze(16777215)},opacity:{value:1},center:{value:new ke(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ln}}},hi={basic:{uniforms:gn([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.fog]),vertexShader:gt.meshbasic_vert,fragmentShader:gt.meshbasic_frag},lambert:{uniforms:gn([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.fog,Be.lights,{emissive:{value:new Ze(0)}}]),vertexShader:gt.meshlambert_vert,fragmentShader:gt.meshlambert_frag},phong:{uniforms:gn([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new Ze(0)},specular:{value:new Ze(1118481)},shininess:{value:30}}]),vertexShader:gt.meshphong_vert,fragmentShader:gt.meshphong_frag},standard:{uniforms:gn([Be.common,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.roughnessmap,Be.metalnessmap,Be.fog,Be.lights,{emissive:{value:new Ze(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag},toon:{uniforms:gn([Be.common,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.gradientmap,Be.fog,Be.lights,{emissive:{value:new Ze(0)}}]),vertexShader:gt.meshtoon_vert,fragmentShader:gt.meshtoon_frag},matcap:{uniforms:gn([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,{matcap:{value:null}}]),vertexShader:gt.meshmatcap_vert,fragmentShader:gt.meshmatcap_frag},points:{uniforms:gn([Be.points,Be.fog]),vertexShader:gt.points_vert,fragmentShader:gt.points_frag},dashed:{uniforms:gn([Be.common,Be.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gt.linedashed_vert,fragmentShader:gt.linedashed_frag},depth:{uniforms:gn([Be.common,Be.displacementmap]),vertexShader:gt.depth_vert,fragmentShader:gt.depth_frag},normal:{uniforms:gn([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,{opacity:{value:1}}]),vertexShader:gt.meshnormal_vert,fragmentShader:gt.meshnormal_frag},sprite:{uniforms:gn([Be.sprite,Be.fog]),vertexShader:gt.sprite_vert,fragmentShader:gt.sprite_frag},background:{uniforms:{uvTransform:{value:new ln},t2D:{value:null}},vertexShader:gt.background_vert,fragmentShader:gt.background_frag},cube:{uniforms:gn([Be.envmap,{opacity:{value:1}}]),vertexShader:gt.cube_vert,fragmentShader:gt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gt.equirect_vert,fragmentShader:gt.equirect_frag},distanceRGBA:{uniforms:gn([Be.common,Be.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gt.distanceRGBA_vert,fragmentShader:gt.distanceRGBA_frag},shadow:{uniforms:gn([Be.lights,Be.fog,{color:{value:new Ze(0)},opacity:{value:1}}]),vertexShader:gt.shadow_vert,fragmentShader:gt.shadow_frag}};hi.physical={uniforms:gn([hi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ke(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Ze(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ke},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ze(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ze(1,1,1)},specularColorMap:{value:null}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag};function xC(n,e,t,s,a,l){const d=new Ze(0);let p=a===!0?0:1,v,y,M=null,E=0,T=null;function L(N,z){let C=!1,S=z.isScene===!0?z.background:null;S&&S.isTexture&&(S=e.get(S));const G=n.xr,W=G.getSession&&G.getSession();W&&W.environmentBlendMode==="additive"&&(S=null),S===null?D(d,p):S&&S.isColor&&(D(S,1),C=!0),(n.autoClear||C)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===ih)?(y===void 0&&(y=new $t(new Wr(1,1,1),new ai({name:"BackgroundCubeMaterial",uniforms:Js(hi.cube.uniforms),vertexShader:hi.cube.vertexShader,fragmentShader:hi.cube.fragmentShader,side:Gt,depthTest:!1,depthWrite:!1,fog:!1})),y.geometry.deleteAttribute("normal"),y.geometry.deleteAttribute("uv"),y.onBeforeRender=function(H,$,K){this.matrixWorld.copyPosition(K.matrixWorld)},Object.defineProperty(y.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(y)),y.material.uniforms.envMap.value=S,y.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,(M!==S||E!==S.version||T!==n.toneMapping)&&(y.material.needsUpdate=!0,M=S,E=S.version,T=n.toneMapping),N.unshift(y,y.geometry,y.material,0,0,null)):S&&S.isTexture&&(v===void 0&&(v=new $t(new Kf(2,2),new ai({name:"BackgroundMaterial",uniforms:Js(hi.background.uniforms),vertexShader:hi.background.vertexShader,fragmentShader:hi.background.fragmentShader,side:Co,depthTest:!1,depthWrite:!1,fog:!1})),v.geometry.deleteAttribute("normal"),Object.defineProperty(v.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(v)),v.material.uniforms.t2D.value=S,S.matrixAutoUpdate===!0&&S.updateMatrix(),v.material.uniforms.uvTransform.value.copy(S.matrix),(M!==S||E!==S.version||T!==n.toneMapping)&&(v.material.needsUpdate=!0,M=S,E=S.version,T=n.toneMapping),N.unshift(v,v.geometry,v.material,0,0,null))}function D(N,z){t.buffers.color.setClear(N.r,N.g,N.b,z,l)}return{getClearColor:function(){return d},setClearColor:function(N,z=1){d.set(N),p=z,D(d,p)},getClearAlpha:function(){return p},setClearAlpha:function(N){p=N,D(d,p)},render:L}}function vC(n,e,t,s){const a=n.getParameter(34921),l=s.isWebGL2?null:e.get("OES_vertex_array_object"),d=s.isWebGL2||l!==null,p={},v=N(null);let y=v;function M(se,ae,he,ue,pe){let Ce=!1;if(d){const Ne=D(ue,he,ae);y!==Ne&&(y=Ne,T(y.object)),Ce=z(ue,pe),Ce&&C(ue,pe)}else{const Ne=ae.wireframe===!0;(y.geometry!==ue.id||y.program!==he.id||y.wireframe!==Ne)&&(y.geometry=ue.id,y.program=he.id,y.wireframe=Ne,Ce=!0)}se.isInstancedMesh===!0&&(Ce=!0),pe!==null&&t.update(pe,34963),Ce&&(K(se,ae,he,ue),pe!==null&&n.bindBuffer(34963,t.get(pe).buffer))}function E(){return s.isWebGL2?n.createVertexArray():l.createVertexArrayOES()}function T(se){return s.isWebGL2?n.bindVertexArray(se):l.bindVertexArrayOES(se)}function L(se){return s.isWebGL2?n.deleteVertexArray(se):l.deleteVertexArrayOES(se)}function D(se,ae,he){const ue=he.wireframe===!0;let pe=p[se.id];pe===void 0&&(pe={},p[se.id]=pe);let Ce=pe[ae.id];Ce===void 0&&(Ce={},pe[ae.id]=Ce);let Ne=Ce[ue];return Ne===void 0&&(Ne=N(E()),Ce[ue]=Ne),Ne}function N(se){const ae=[],he=[],ue=[];for(let pe=0;pe<a;pe++)ae[pe]=0,he[pe]=0,ue[pe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ae,enabledAttributes:he,attributeDivisors:ue,object:se,attributes:{},index:null}}function z(se,ae){const he=y.attributes,ue=se.attributes;let pe=0;for(const Ce in ue){const Ne=he[Ce],ve=ue[Ce];if(Ne===void 0||Ne.attribute!==ve||Ne.data!==ve.data)return!0;pe++}return y.attributesNum!==pe||y.index!==ae}function C(se,ae){const he={},ue=se.attributes;let pe=0;for(const Ce in ue){const Ne=ue[Ce],ve={};ve.attribute=Ne,Ne.data&&(ve.data=Ne.data),he[Ce]=ve,pe++}y.attributes=he,y.attributesNum=pe,y.index=ae}function S(){const se=y.newAttributes;for(let ae=0,he=se.length;ae<he;ae++)se[ae]=0}function G(se){W(se,0)}function W(se,ae){const he=y.newAttributes,ue=y.enabledAttributes,pe=y.attributeDivisors;he[se]=1,ue[se]===0&&(n.enableVertexAttribArray(se),ue[se]=1),pe[se]!==ae&&((s.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[s.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](se,ae),pe[se]=ae)}function H(){const se=y.newAttributes,ae=y.enabledAttributes;for(let he=0,ue=ae.length;he<ue;he++)ae[he]!==se[he]&&(n.disableVertexAttribArray(he),ae[he]=0)}function $(se,ae,he,ue,pe,Ce){s.isWebGL2===!0&&(he===5124||he===5125)?n.vertexAttribIPointer(se,ae,he,pe,Ce):n.vertexAttribPointer(se,ae,he,ue,pe,Ce)}function K(se,ae,he,ue){if(s.isWebGL2===!1&&(se.isInstancedMesh||ue.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const pe=ue.attributes,Ce=he.getAttributes(),Ne=ae.defaultAttributeValues;for(const ve in Ce){const ne=Ce[ve];if(ne.location>=0){let xe=pe[ve];if(xe===void 0&&(ve==="instanceMatrix"&&se.instanceMatrix&&(xe=se.instanceMatrix),ve==="instanceColor"&&se.instanceColor&&(xe=se.instanceColor)),xe!==void 0){const Ee=xe.normalized,Ie=xe.itemSize,ce=t.get(xe);if(ce===void 0)continue;const dt=ce.buffer,Ue=ce.type,$e=ce.bytesPerElement;if(xe.isInterleavedBufferAttribute){const Fe=xe.data,ct=Fe.stride,it=xe.offset;if(Fe&&Fe.isInstancedInterleavedBuffer){for(let ye=0;ye<ne.locationSize;ye++)W(ne.location+ye,Fe.meshPerAttribute);se.isInstancedMesh!==!0&&ue._maxInstanceCount===void 0&&(ue._maxInstanceCount=Fe.meshPerAttribute*Fe.count)}else for(let ye=0;ye<ne.locationSize;ye++)G(ne.location+ye);n.bindBuffer(34962,dt);for(let ye=0;ye<ne.locationSize;ye++)$(ne.location+ye,Ie/ne.locationSize,Ue,Ee,ct*$e,(it+Ie/ne.locationSize*ye)*$e)}else{if(xe.isInstancedBufferAttribute){for(let Fe=0;Fe<ne.locationSize;Fe++)W(ne.location+Fe,xe.meshPerAttribute);se.isInstancedMesh!==!0&&ue._maxInstanceCount===void 0&&(ue._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Fe=0;Fe<ne.locationSize;Fe++)G(ne.location+Fe);n.bindBuffer(34962,dt);for(let Fe=0;Fe<ne.locationSize;Fe++)$(ne.location+Fe,Ie/ne.locationSize,Ue,Ee,Ie*$e,Ie/ne.locationSize*Fe*$e)}}else if(Ne!==void 0){const Ee=Ne[ve];if(Ee!==void 0)switch(Ee.length){case 2:n.vertexAttrib2fv(ne.location,Ee);break;case 3:n.vertexAttrib3fv(ne.location,Ee);break;case 4:n.vertexAttrib4fv(ne.location,Ee);break;default:n.vertexAttrib1fv(ne.location,Ee)}}}}H()}function le(){Y();for(const se in p){const ae=p[se];for(const he in ae){const ue=ae[he];for(const pe in ue)L(ue[pe].object),delete ue[pe];delete ae[he]}delete p[se]}}function ge(se){if(p[se.id]===void 0)return;const ae=p[se.id];for(const he in ae){const ue=ae[he];for(const pe in ue)L(ue[pe].object),delete ue[pe];delete ae[he]}delete p[se.id]}function me(se){for(const ae in p){const he=p[ae];if(he[se.id]===void 0)continue;const ue=he[se.id];for(const pe in ue)L(ue[pe].object),delete ue[pe];delete he[se.id]}}function Y(){re(),y!==v&&(y=v,T(y.object))}function re(){v.geometry=null,v.program=null,v.wireframe=!1}return{setup:M,reset:Y,resetDefaultState:re,dispose:le,releaseStatesOfGeometry:ge,releaseStatesOfProgram:me,initAttributes:S,enableAttribute:G,disableUnusedAttributes:H}}function yC(n,e,t,s){const a=s.isWebGL2;let l;function d(y){l=y}function p(y,M){n.drawArrays(l,y,M),t.update(M,l,1)}function v(y,M,E){if(E===0)return;let T,L;if(a)T=n,L="drawArraysInstanced";else if(T=e.get("ANGLE_instanced_arrays"),L="drawArraysInstancedANGLE",T===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}T[L](l,y,M,E),t.update(M,l,E)}this.setMode=d,this.render=p,this.renderInstances=v}function bC(n,e,t){let s;function a(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const K=e.get("EXT_texture_filter_anisotropic");s=n.getParameter(K.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function l(K){if(K==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";K="mediump"}return K==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const d=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext;let p=t.precision!==void 0?t.precision:"highp";const v=l(p);v!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",v,"instead."),p=v);const y=d||e.has("WEBGL_draw_buffers"),M=t.logarithmicDepthBuffer===!0,E=n.getParameter(34930),T=n.getParameter(35660),L=n.getParameter(3379),D=n.getParameter(34076),N=n.getParameter(34921),z=n.getParameter(36347),C=n.getParameter(36348),S=n.getParameter(36349),G=T>0,W=d||e.has("OES_texture_float"),H=G&&W,$=d?n.getParameter(36183):0;return{isWebGL2:d,drawBuffers:y,getMaxAnisotropy:a,getMaxPrecision:l,precision:p,logarithmicDepthBuffer:M,maxTextures:E,maxVertexTextures:T,maxTextureSize:L,maxCubemapSize:D,maxAttributes:N,maxVertexUniforms:z,maxVaryings:C,maxFragmentUniforms:S,vertexTextures:G,floatFragmentTextures:W,floatVertexTextures:H,maxSamples:$}}function wC(n){const e=this;let t=null,s=0,a=!1,l=!1;const d=new Ti,p=new ln,v={value:null,needsUpdate:!1};this.uniform=v,this.numPlanes=0,this.numIntersection=0,this.init=function(E,T,L){const D=E.length!==0||T||s!==0||a;return a=T,t=M(E,L,0),s=E.length,D},this.beginShadows=function(){l=!0,M(null)},this.endShadows=function(){l=!1,y()},this.setState=function(E,T,L){const D=E.clippingPlanes,N=E.clipIntersection,z=E.clipShadows,C=n.get(E);if(!a||D===null||D.length===0||l&&!z)l?M(null):y();else{const S=l?0:s,G=S*4;let W=C.clippingState||null;v.value=W,W=M(D,T,G,L);for(let H=0;H!==G;++H)W[H]=t[H];C.clippingState=W,this.numIntersection=N?this.numPlanes:0,this.numPlanes+=S}};function y(){v.value!==t&&(v.value=t,v.needsUpdate=s>0),e.numPlanes=s,e.numIntersection=0}function M(E,T,L,D){const N=E!==null?E.length:0;let z=null;if(N!==0){if(z=v.value,D!==!0||z===null){const C=L+N*4,S=T.matrixWorldInverse;p.getNormalMatrix(S),(z===null||z.length<C)&&(z=new Float32Array(C));for(let G=0,W=L;G!==N;++G,W+=4)d.copy(E[G]).applyMatrix4(S,p),d.normal.toArray(z,W),z[W+3]=d.constant}v.value=z,v.needsUpdate=!0}return e.numPlanes=N,e.numIntersection=0,z}}function SC(n){let e=new WeakMap;function t(d,p){return p===Td?d.mapping=Go:p===kd&&(d.mapping=Xo),d}function s(d){if(d&&d.isTexture&&d.isRenderTargetTexture===!1){const p=d.mapping;if(p===Td||p===kd)if(e.has(d)){const v=e.get(d).texture;return t(v,d.mapping)}else{const v=d.image;if(v&&v.height>0){const y=new hy(v.height/2);return y.fromEquirectangularTexture(n,d),e.set(d,y),d.addEventListener("dispose",a),t(y.texture,d.mapping)}else return null}}return d}function a(d){const p=d.target;p.removeEventListener("dispose",a);const v=e.get(p);v!==void 0&&(e.delete(p),v.dispose())}function l(){e=new WeakMap}return{get:s,dispose:l}}class ep extends Jf{constructor(e=-1,t=1,s=1,a=-1,l=.1,d=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=s,this.bottom=a,this.near=l,this.far=d,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,s,a,l,d){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=s,this.view.offsetY=a,this.view.width=l,this.view.height=d,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let l=s-e,d=s+e,p=a+t,v=a-t;if(this.view!==null&&this.view.enabled){const y=(this.right-this.left)/this.view.fullWidth/this.zoom,M=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=y*this.view.offsetX,d=l+y*this.view.width,p-=M*this.view.offsetY,v=p-M*this.view.height}this.projectionMatrix.makeOrthographic(l,d,p,v,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}ep.prototype.isOrthographicCamera=!0;class lh extends ai{constructor(e){super(e),this.type="RawShaderMaterial"}}lh.prototype.isRawShaderMaterial=!0;const Us=4,ar=8,ci=Math.pow(2,ar),dy=[.125,.215,.35,.446,.526,.582],fy=ar-Us+1+dy.length,us=20,_u=new ep,{_lodPlanes:Ra,_sizeLods:Wm,_sigmas:kl}=_C(),Vm=new Ze;let Mu=null;const Er=(1+Math.sqrt(5))/2,ds=1/Er,Um=[new Q(1,1,1),new Q(-1,1,1),new Q(1,1,-1),new Q(-1,1,-1),new Q(0,Er,ds),new Q(0,Er,-ds),new Q(ds,0,Er),new Q(-ds,0,Er),new Q(Er,ds,0),new Q(-Er,ds,0)];class Gm{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=MC(us),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,s=.1,a=100){Mu=this._renderer.getRenderTarget();const l=this._allocateTargets();return this._sceneToCubeUV(e,s,a,l),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=jm(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=Ym(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<Ra.length;e++)Ra[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Mu),e.scissorTest=!1,Ll(e,0,0,e.width,e.height)}_fromTexture(e,t){Mu=this._renderer.getRenderTarget();const s=t||this._allocateTargets(e);return this._textureToCubeUV(e,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(e){const t={magFilter:xn,minFilter:xn,generateMipmaps:!1,type:Hs,format:Mn,encoding:gr,depthBuffer:!1},s=Xm(t);return s.depthBuffer=!e,this._pingPongRenderTarget===null&&(this._pingPongRenderTarget=Xm(t)),s}_compileMaterial(e){const t=new $t(Ra[0],e);this._renderer.compile(t,_u)}_sceneToCubeUV(e,t,s,a){const p=new _n(90,1,t,s),v=[1,-1,1,1,1,1],y=[1,1,1,-1,-1,-1],M=this._renderer,E=M.autoClear,T=M.toneMapping;M.getClearColor(Vm),M.toneMapping=rr,M.autoClear=!1;const L=new sh({name:"PMREM.Background",side:Gt,depthWrite:!1,depthTest:!1}),D=new $t(new Wr,L);let N=!1;const z=e.background;z?z.isColor&&(L.color.copy(z),e.background=null,N=!0):(L.color.copy(Vm),N=!0);for(let C=0;C<6;C++){const S=C%3;S===0?(p.up.set(0,v[C],0),p.lookAt(y[C],0,0)):S===1?(p.up.set(0,0,v[C]),p.lookAt(0,y[C],0)):(p.up.set(0,v[C],0),p.lookAt(0,0,y[C])),Ll(a,S*ci,C>2?ci:0,ci,ci),M.setRenderTarget(a),N&&M.render(D,p),M.render(e,p)}D.geometry.dispose(),D.material.dispose(),M.toneMapping=T,M.autoClear=E,e.background=z}_textureToCubeUV(e,t){const s=this._renderer,a=e.mapping===Go||e.mapping===Xo;a?(this._cubemapShader===null&&(this._cubemapShader=jm()),this._cubemapShader.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectShader===null&&(this._equirectShader=Ym());const l=a?this._cubemapShader:this._equirectShader,d=new $t(Ra[0],l),p=l.uniforms;p.envMap.value=e,a||p.texelSize.value.set(1/e.image.width,1/e.image.height),Ll(t,0,0,3*ci,2*ci),s.setRenderTarget(t),s.render(d,_u)}_applyPMREM(e){const t=this._renderer,s=t.autoClear;t.autoClear=!1;for(let a=1;a<fy;a++){const l=Math.sqrt(kl[a]*kl[a]-kl[a-1]*kl[a-1]),d=Um[(a-1)%Um.length];this._blur(e,a-1,a,l,d)}t.autoClear=s}_blur(e,t,s,a,l){const d=this._pingPongRenderTarget;this._halfBlur(e,d,t,s,a,"latitudinal",l),this._halfBlur(d,e,s,s,a,"longitudinal",l)}_halfBlur(e,t,s,a,l,d,p){const v=this._renderer,y=this._blurMaterial;d!=="latitudinal"&&d!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const M=3,E=new $t(Ra[a],y),T=y.uniforms,L=Wm[s]-1,D=isFinite(l)?Math.PI/(2*L):2*Math.PI/(2*us-1),N=l/D,z=isFinite(l)?1+Math.floor(M*N):us;z>us&&console.warn(`sigmaRadians, ${l}, is too large and will clip, as it requested ${z} samples when the maximum is set to ${us}`);const C=[];let S=0;for(let $=0;$<us;++$){const K=$/N,le=Math.exp(-K*K/2);C.push(le),$===0?S+=le:$<z&&(S+=2*le)}for(let $=0;$<C.length;$++)C[$]=C[$]/S;T.envMap.value=e.texture,T.samples.value=z,T.weights.value=C,T.latitudinal.value=d==="latitudinal",p&&(T.poleAxis.value=p),T.dTheta.value=D,T.mipInt.value=ar-s;const G=Wm[a],W=3*Math.max(0,ci-2*G),H=(a===0?0:2*ci)+2*G*(a>ar-Us?a-ar+Us:0);Ll(t,W,H,3*G,2*G),v.setRenderTarget(t),v.render(E,_u)}}function _C(){const n=[],e=[],t=[];let s=ar;for(let a=0;a<fy;a++){const l=Math.pow(2,s);e.push(l);let d=1/l;a>ar-Us?d=dy[a-ar+Us-1]:a===0&&(d=0),t.push(d);const p=1/(l-1),v=-p/2,y=1+p/2,M=[v,v,y,v,y,y,v,v,y,y,v,y],E=6,T=6,L=3,D=2,N=1,z=new Float32Array(L*T*E),C=new Float32Array(D*T*E),S=new Float32Array(N*T*E);for(let W=0;W<E;W++){const H=W%3*2/3-1,$=W>2?0:-1,K=[H,$,0,H+2/3,$,0,H+2/3,$+1,0,H,$,0,H+2/3,$+1,0,H,$+1,0];z.set(K,L*T*W),C.set(M,D*T*W);const le=[W,W,W,W,W,W];S.set(le,N*T*W)}const G=new At;G.setAttribute("position",new Jt(z,L)),G.setAttribute("uv",new Jt(C,D)),G.setAttribute("faceIndex",new Jt(S,N)),n.push(G),s>Us&&s--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function Xm(n){const e=new qn(3*ci,3*ci,n);return e.texture.mapping=ih,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Ll(n,e,t,s,a){n.viewport.set(e,t,s,a),n.scissor.set(e,t,s,a)}function MC(n){const e=new Float32Array(n),t=new Q(0,1,0);return new lh({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t}},vertexShader:tp(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ir,depthTest:!1,depthWrite:!1})}function Ym(){const n=new ke(1,1);return new lh({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n}},vertexShader:tp(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = texture2D ( envMap, uv ).rgb;
				uv.x += texelSize.x;
				vec3 tr = texture2D ( envMap, uv ).rgb;
				uv.y += texelSize.y;
				vec3 br = texture2D ( envMap, uv ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = texture2D ( envMap, uv ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

			}
		`,blending:ir,depthTest:!1,depthWrite:!1})}function jm(){return new lh({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:tp(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ir,depthTest:!1,depthWrite:!1})}function tp(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function AC(n){let e=new WeakMap,t=null;function s(p){if(p&&p.isTexture){const v=p.mapping,y=v===Td||v===kd,M=v===Go||v===Xo;if(y||M)if(p.isRenderTargetTexture&&p.needsPMREMUpdate===!0){p.needsPMREMUpdate=!1;let E=e.get(p);return t===null&&(t=new Gm(n)),E=y?t.fromEquirectangular(p,E):t.fromCubemap(p,E),e.set(p,E),E.texture}else{if(e.has(p))return e.get(p).texture;{const E=p.image;if(y&&E&&E.height>0||M&&E&&a(E)){t===null&&(t=new Gm(n));const T=y?t.fromEquirectangular(p):t.fromCubemap(p);return e.set(p,T),p.addEventListener("dispose",l),T.texture}else return null}}}return p}function a(p){let v=0;const y=6;for(let M=0;M<y;M++)p[M]!==void 0&&v++;return v===y}function l(p){const v=p.target;v.removeEventListener("dispose",l);const y=e.get(v);y!==void 0&&(e.delete(v),y.dispose())}function d(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:s,dispose:d}}function CC(n){const e={};function t(s){if(e[s]!==void 0)return e[s];let a;switch(s){case"WEBGL_depth_texture":a=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=n.getExtension(s)}return e[s]=a,a}return{has:function(s){return t(s)!==null},init:function(s){s.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(s){const a=t(s);return a===null&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),a}}}function EC(n,e,t,s){const a={},l=new WeakMap;function d(E){const T=E.target;T.index!==null&&e.remove(T.index);for(const D in T.attributes)e.remove(T.attributes[D]);T.removeEventListener("dispose",d),delete a[T.id];const L=l.get(T);L&&(e.remove(L),l.delete(T)),s.releaseStatesOfGeometry(T),T.isInstancedBufferGeometry===!0&&delete T._maxInstanceCount,t.memory.geometries--}function p(E,T){return a[T.id]===!0||(T.addEventListener("dispose",d),a[T.id]=!0,t.memory.geometries++),T}function v(E){const T=E.attributes;for(const D in T)e.update(T[D],34962);const L=E.morphAttributes;for(const D in L){const N=L[D];for(let z=0,C=N.length;z<C;z++)e.update(N[z],34962)}}function y(E){const T=[],L=E.index,D=E.attributes.position;let N=0;if(L!==null){const S=L.array;N=L.version;for(let G=0,W=S.length;G<W;G+=3){const H=S[G+0],$=S[G+1],K=S[G+2];T.push(H,$,$,K,K,H)}}else{const S=D.array;N=D.version;for(let G=0,W=S.length/3-1;G<W;G+=3){const H=G+0,$=G+1,K=G+2;T.push(H,$,$,K,K,H)}}const z=new(sy(T)?cy:ly)(T,1);z.version=N;const C=l.get(E);C&&e.remove(C),l.set(E,z)}function M(E){const T=l.get(E);if(T){const L=E.index;L!==null&&T.version<L.version&&y(E)}else y(E);return l.get(E)}return{get:p,update:v,getWireframeAttribute:M}}function TC(n,e,t,s){const a=s.isWebGL2;let l;function d(T){l=T}let p,v;function y(T){p=T.type,v=T.bytesPerElement}function M(T,L){n.drawElements(l,L,p,T*v),t.update(L,l,1)}function E(T,L,D){if(D===0)return;let N,z;if(a)N=n,z="drawElementsInstanced";else if(N=e.get("ANGLE_instanced_arrays"),z="drawElementsInstancedANGLE",N===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}N[z](l,L,p,T*v,D),t.update(L,l,D)}this.setMode=d,this.setIndex=y,this.render=M,this.renderInstances=E}function kC(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function s(l,d,p){switch(t.calls++,d){case 4:t.triangles+=p*(l/3);break;case 1:t.lines+=p*(l/2);break;case 3:t.lines+=p*(l-1);break;case 2:t.lines+=p*l;break;case 0:t.points+=p*l;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",d);break}}function a(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:s}}class np extends nn{constructor(e=null,t=1,s=1,a=1){super(null),this.image={data:e,width:t,height:s,depth:a},this.magFilter=qt,this.minFilter=qt,this.wrapR=Wn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}np.prototype.isDataTexture2DArray=!0;function LC(n,e){return n[0]-e[0]}function PC(n,e){return Math.abs(e[1])-Math.abs(n[1])}function qm(n,e){let t=1;const s=e.isInterleavedBufferAttribute?e.data.array:e.array;s instanceof Int8Array?t=127:s instanceof Int16Array?t=32767:s instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",s),n.divideScalar(t)}function RC(n,e,t){const s={},a=new Float32Array(8),l=new WeakMap,d=new Q,p=[];for(let y=0;y<8;y++)p[y]=[y,0];function v(y,M,E,T){const L=y.morphTargetInfluences;if(e.isWebGL2===!0){const N=M.morphAttributes.position.length;let z=l.get(M);if(z===void 0||z.count!==N){let se=function(){Y.dispose(),l.delete(M),M.removeEventListener("dispose",se)};var D=se;z!==void 0&&z.texture.dispose();const G=M.morphAttributes.normal!==void 0,W=M.morphAttributes.position,H=M.morphAttributes.normal||[],$=M.attributes.position.count,K=G===!0?2:1;let le=$*K,ge=1;le>e.maxTextureSize&&(ge=Math.ceil(le/e.maxTextureSize),le=e.maxTextureSize);const me=new Float32Array(le*ge*4*N),Y=new np(me,le,ge,N);Y.format=Mn,Y.type=Ir,Y.needsUpdate=!0;const re=K*4;for(let ae=0;ae<N;ae++){const he=W[ae],ue=H[ae],pe=le*ge*4*ae;for(let Ce=0;Ce<he.count;Ce++){d.fromBufferAttribute(he,Ce),he.normalized===!0&&qm(d,he);const Ne=Ce*re;me[pe+Ne+0]=d.x,me[pe+Ne+1]=d.y,me[pe+Ne+2]=d.z,me[pe+Ne+3]=0,G===!0&&(d.fromBufferAttribute(ue,Ce),ue.normalized===!0&&qm(d,ue),me[pe+Ne+4]=d.x,me[pe+Ne+5]=d.y,me[pe+Ne+6]=d.z,me[pe+Ne+7]=0)}}z={count:N,texture:Y,size:new ke(le,ge)},l.set(M,z),M.addEventListener("dispose",se)}let C=0;for(let G=0;G<L.length;G++)C+=L[G];const S=M.morphTargetsRelative?1:1-C;T.getUniforms().setValue(n,"morphTargetBaseInfluence",S),T.getUniforms().setValue(n,"morphTargetInfluences",L),T.getUniforms().setValue(n,"morphTargetsTexture",z.texture,t),T.getUniforms().setValue(n,"morphTargetsTextureSize",z.size)}else{const N=L===void 0?0:L.length;let z=s[M.id];if(z===void 0||z.length!==N){z=[];for(let H=0;H<N;H++)z[H]=[H,0];s[M.id]=z}for(let H=0;H<N;H++){const $=z[H];$[0]=H,$[1]=L[H]}z.sort(PC);for(let H=0;H<8;H++)H<N&&z[H][1]?(p[H][0]=z[H][0],p[H][1]=z[H][1]):(p[H][0]=Number.MAX_SAFE_INTEGER,p[H][1]=0);p.sort(LC);const C=M.morphAttributes.position,S=M.morphAttributes.normal;let G=0;for(let H=0;H<8;H++){const $=p[H],K=$[0],le=$[1];K!==Number.MAX_SAFE_INTEGER&&le?(C&&M.getAttribute("morphTarget"+H)!==C[K]&&M.setAttribute("morphTarget"+H,C[K]),S&&M.getAttribute("morphNormal"+H)!==S[K]&&M.setAttribute("morphNormal"+H,S[K]),a[H]=le,G+=le):(C&&M.hasAttribute("morphTarget"+H)===!0&&M.deleteAttribute("morphTarget"+H),S&&M.hasAttribute("morphNormal"+H)===!0&&M.deleteAttribute("morphNormal"+H),a[H]=0)}const W=M.morphTargetsRelative?1:1-G;T.getUniforms().setValue(n,"morphTargetBaseInfluence",W),T.getUniforms().setValue(n,"morphTargetInfluences",a)}}return{update:v}}function IC(n,e,t,s){let a=new WeakMap;function l(v){const y=s.render.frame,M=v.geometry,E=e.get(v,M);return a.get(E)!==y&&(e.update(E),a.set(E,y)),v.isInstancedMesh&&(v.hasEventListener("dispose",p)===!1&&v.addEventListener("dispose",p),t.update(v.instanceMatrix,34962),v.instanceColor!==null&&t.update(v.instanceColor,34962)),E}function d(){a=new WeakMap}function p(v){const y=v.target;y.removeEventListener("dispose",p),t.remove(y.instanceMatrix),y.instanceColor!==null&&t.remove(y.instanceColor)}return{update:l,dispose:d}}class py extends nn{constructor(e=null,t=1,s=1,a=1){super(null),this.image={data:e,width:t,height:s,depth:a},this.magFilter=qt,this.minFilter=qt,this.wrapR=Wn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}py.prototype.isDataTexture3D=!0;const gy=new nn,my=new np,xy=new py,vy=new ah,$m=[],Zm=[],Jm=new Float32Array(16),Qm=new Float32Array(9),Km=new Float32Array(4);function ha(n,e,t){const s=n[0];if(s<=0||s>0)return n;const a=e*t;let l=$m[a];if(l===void 0&&(l=new Float32Array(a),$m[a]=l),e!==0){s.toArray(l,0);for(let d=1,p=0;d!==e;++d)p+=t,n[d].toArray(l,p)}return l}function Cn(n,e){if(n.length!==e.length)return!1;for(let t=0,s=n.length;t<s;t++)if(n[t]!==e[t])return!1;return!0}function wn(n,e){for(let t=0,s=e.length;t<s;t++)n[t]=e[t]}function ch(n,e){let t=Zm[e];t===void 0&&(t=new Int32Array(e),Zm[e]=t);for(let s=0;s!==e;++s)t[s]=n.allocateTextureUnit();return t}function DC(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function zC(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Cn(t,e))return;n.uniform2fv(this.addr,e),wn(t,e)}}function NC(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Cn(t,e))return;n.uniform3fv(this.addr,e),wn(t,e)}}function FC(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Cn(t,e))return;n.uniform4fv(this.addr,e),wn(t,e)}}function OC(n,e){const t=this.cache,s=e.elements;if(s===void 0){if(Cn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),wn(t,e)}else{if(Cn(t,s))return;Km.set(s),n.uniformMatrix2fv(this.addr,!1,Km),wn(t,s)}}function BC(n,e){const t=this.cache,s=e.elements;if(s===void 0){if(Cn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),wn(t,e)}else{if(Cn(t,s))return;Qm.set(s),n.uniformMatrix3fv(this.addr,!1,Qm),wn(t,s)}}function HC(n,e){const t=this.cache,s=e.elements;if(s===void 0){if(Cn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),wn(t,e)}else{if(Cn(t,s))return;Jm.set(s),n.uniformMatrix4fv(this.addr,!1,Jm),wn(t,s)}}function WC(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function VC(n,e){const t=this.cache;Cn(t,e)||(n.uniform2iv(this.addr,e),wn(t,e))}function UC(n,e){const t=this.cache;Cn(t,e)||(n.uniform3iv(this.addr,e),wn(t,e))}function GC(n,e){const t=this.cache;Cn(t,e)||(n.uniform4iv(this.addr,e),wn(t,e))}function XC(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function YC(n,e){const t=this.cache;Cn(t,e)||(n.uniform2uiv(this.addr,e),wn(t,e))}function jC(n,e){const t=this.cache;Cn(t,e)||(n.uniform3uiv(this.addr,e),wn(t,e))}function qC(n,e){const t=this.cache;Cn(t,e)||(n.uniform4uiv(this.addr,e),wn(t,e))}function $C(n,e,t){const s=this.cache,a=t.allocateTextureUnit();s[0]!==a&&(n.uniform1i(this.addr,a),s[0]=a),t.safeSetTexture2D(e||gy,a)}function ZC(n,e,t){const s=this.cache,a=t.allocateTextureUnit();s[0]!==a&&(n.uniform1i(this.addr,a),s[0]=a),t.setTexture3D(e||xy,a)}function JC(n,e,t){const s=this.cache,a=t.allocateTextureUnit();s[0]!==a&&(n.uniform1i(this.addr,a),s[0]=a),t.safeSetTextureCube(e||vy,a)}function QC(n,e,t){const s=this.cache,a=t.allocateTextureUnit();s[0]!==a&&(n.uniform1i(this.addr,a),s[0]=a),t.setTexture2DArray(e||my,a)}function KC(n){switch(n){case 5126:return DC;case 35664:return zC;case 35665:return NC;case 35666:return FC;case 35674:return OC;case 35675:return BC;case 35676:return HC;case 5124:case 35670:return WC;case 35667:case 35671:return VC;case 35668:case 35672:return UC;case 35669:case 35673:return GC;case 5125:return XC;case 36294:return YC;case 36295:return jC;case 36296:return qC;case 35678:case 36198:case 36298:case 36306:case 35682:return $C;case 35679:case 36299:case 36307:return ZC;case 35680:case 36300:case 36308:case 36293:return JC;case 36289:case 36303:case 36311:case 36292:return QC}}function e3(n,e){n.uniform1fv(this.addr,e)}function t3(n,e){const t=ha(e,this.size,2);n.uniform2fv(this.addr,t)}function n3(n,e){const t=ha(e,this.size,3);n.uniform3fv(this.addr,t)}function i3(n,e){const t=ha(e,this.size,4);n.uniform4fv(this.addr,t)}function r3(n,e){const t=ha(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function s3(n,e){const t=ha(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function a3(n,e){const t=ha(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function o3(n,e){n.uniform1iv(this.addr,e)}function l3(n,e){n.uniform2iv(this.addr,e)}function c3(n,e){n.uniform3iv(this.addr,e)}function h3(n,e){n.uniform4iv(this.addr,e)}function u3(n,e){n.uniform1uiv(this.addr,e)}function d3(n,e){n.uniform2uiv(this.addr,e)}function f3(n,e){n.uniform3uiv(this.addr,e)}function p3(n,e){n.uniform4uiv(this.addr,e)}function g3(n,e,t){const s=e.length,a=ch(t,s);n.uniform1iv(this.addr,a);for(let l=0;l!==s;++l)t.safeSetTexture2D(e[l]||gy,a[l])}function m3(n,e,t){const s=e.length,a=ch(t,s);n.uniform1iv(this.addr,a);for(let l=0;l!==s;++l)t.setTexture3D(e[l]||xy,a[l])}function x3(n,e,t){const s=e.length,a=ch(t,s);n.uniform1iv(this.addr,a);for(let l=0;l!==s;++l)t.safeSetTextureCube(e[l]||vy,a[l])}function v3(n,e,t){const s=e.length,a=ch(t,s);n.uniform1iv(this.addr,a);for(let l=0;l!==s;++l)t.setTexture2DArray(e[l]||my,a[l])}function y3(n){switch(n){case 5126:return e3;case 35664:return t3;case 35665:return n3;case 35666:return i3;case 35674:return r3;case 35675:return s3;case 35676:return a3;case 5124:case 35670:return o3;case 35667:case 35671:return l3;case 35668:case 35672:return c3;case 35669:case 35673:return h3;case 5125:return u3;case 36294:return d3;case 36295:return f3;case 36296:return p3;case 35678:case 36198:case 36298:case 36306:case 35682:return g3;case 35679:case 36299:case 36307:return m3;case 35680:case 36300:case 36308:case 36293:return x3;case 36289:case 36303:case 36311:case 36292:return v3}}function b3(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=KC(e.type)}function yy(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=y3(e.type)}yy.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),wn(e,n)};function by(n){this.id=n,this.seq=[],this.map={}}by.prototype.setValue=function(n,e,t){const s=this.seq;for(let a=0,l=s.length;a!==l;++a){const d=s[a];d.setValue(n,e[d.id],t)}};const Au=/(\w+)(\])?(\[|\.)?/g;function e0(n,e){n.seq.push(e),n.map[e.id]=e}function w3(n,e,t){const s=n.name,a=s.length;for(Au.lastIndex=0;;){const l=Au.exec(s),d=Au.lastIndex;let p=l[1];const v=l[2]==="]",y=l[3];if(v&&(p=p|0),y===void 0||y==="["&&d+2===a){e0(t,y===void 0?new b3(p,n,e):new yy(p,n,e));break}else{let E=t.map[p];E===void 0&&(E=new by(p),e0(t,E)),t=E}}}function or(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let s=0;s<t;++s){const a=n.getActiveUniform(e,s),l=n.getUniformLocation(e,a.name);w3(a,l,this)}}or.prototype.setValue=function(n,e,t,s){const a=this.map[e];a!==void 0&&a.setValue(n,t,s)};or.prototype.setOptional=function(n,e,t){const s=e[t];s!==void 0&&this.setValue(n,t,s)};or.upload=function(n,e,t,s){for(let a=0,l=e.length;a!==l;++a){const d=e[a],p=t[d.id];p.needsUpdate!==!1&&d.setValue(n,p.value,s)}};or.seqWithValue=function(n,e){const t=[];for(let s=0,a=n.length;s!==a;++s){const l=n[s];l.id in e&&t.push(l)}return t};function t0(n,e,t){const s=n.createShader(e);return n.shaderSource(s,t),n.compileShader(s),s}let S3=0;function _3(n){const e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function M3(n){switch(n){case gr:return["Linear","( value )"];case Ft:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function n0(n,e,t){const s=n.getShaderParameter(e,35713),a=n.getShaderInfoLog(e).trim();return s&&a===""?"":t.toUpperCase()+`

`+a+`

`+_3(n.getShaderSource(e))}function A3(n,e){const t=M3(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function C3(n,e){let t;switch(e){case $2:t="Linear";break;case Z2:t="Reinhard";break;case J2:t="OptimizedCineon";break;case Q2:t="ACESFilmic";break;case K2:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function E3(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ja).join(`
`)}function T3(n){const e=[];for(const t in n){const s=n[t];s!==!1&&e.push("#define "+t+" "+s)}return e.join(`
`)}function k3(n,e){const t={},s=n.getProgramParameter(e,35721);for(let a=0;a<s;a++){const l=n.getActiveAttrib(e,a),d=l.name;let p=1;l.type===35674&&(p=2),l.type===35675&&(p=3),l.type===35676&&(p=4),t[d]={type:l.type,location:n.getAttribLocation(e,d),locationSize:p}}return t}function ja(n){return n!==""}function i0(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function r0(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const L3=/^[ \t]*#include +<([\w\d./]+)>/gm;function Dd(n){return n.replace(L3,P3)}function P3(n,e){const t=gt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return Dd(t)}const R3=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,I3=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function s0(n){return n.replace(I3,wy).replace(R3,D3)}function D3(n,e,t,s){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),wy(n,e,t,s)}function wy(n,e,t,s){let a="";for(let l=parseInt(e);l<parseInt(t);l++)a+=s.replace(/\[\s*i\s*\]/g,"[ "+l+" ]").replace(/UNROLLED_LOOP_INDEX/g,l);return a}function a0(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function z3(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Kv?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===E2?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ya&&(e="SHADOWMAP_TYPE_VSM"),e}function N3(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Go:case Xo:e="ENVMAP_TYPE_CUBE";break;case ih:case qf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function F3(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Xo:case qf:e="ENVMAP_MODE_REFRACTION";break}return e}function O3(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case nh:e="ENVMAP_BLENDING_MULTIPLY";break;case j2:e="ENVMAP_BLENDING_MIX";break;case q2:e="ENVMAP_BLENDING_ADD";break}return e}function B3(n,e,t,s){const a=n.getContext(),l=t.defines;let d=t.vertexShader,p=t.fragmentShader;const v=z3(t),y=N3(t),M=F3(t),E=O3(t),T=t.isWebGL2?"":E3(t),L=T3(l),D=a.createProgram();let N,z,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(N=[L].filter(ja).join(`
`),N.length>0&&(N+=`
`),z=[T,L].filter(ja).join(`
`),z.length>0&&(z+=`
`)):(N=[a0(t),"#define SHADER_NAME "+t.shaderName,L,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+M:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+v:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ja).join(`
`),z=[T,a0(t),"#define SHADER_NAME "+t.shaderName,L,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+y:"",t.envMap?"#define "+M:"",t.envMap?"#define "+E:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+v:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==rr?"#define TONE_MAPPING":"",t.toneMapping!==rr?gt.tonemapping_pars_fragment:"",t.toneMapping!==rr?C3("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.transparent?"":"#define OPAQUE",gt.encodings_pars_fragment,A3("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ja).join(`
`)),d=Dd(d),d=i0(d,t),d=r0(d,t),p=Dd(p),p=i0(p,t),p=r0(p,t),d=s0(d),p=s0(p),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,N=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+N,z=["#define varying in",t.glslVersion===Tm?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Tm?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+z);const S=C+N+d,G=C+z+p,W=t0(a,35633,S),H=t0(a,35632,G);if(a.attachShader(D,W),a.attachShader(D,H),t.index0AttributeName!==void 0?a.bindAttribLocation(D,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(D,0,"position"),a.linkProgram(D),n.debug.checkShaderErrors){const le=a.getProgramInfoLog(D).trim(),ge=a.getShaderInfoLog(W).trim(),me=a.getShaderInfoLog(H).trim();let Y=!0,re=!0;if(a.getProgramParameter(D,35714)===!1){Y=!1;const se=n0(a,W,"vertex"),ae=n0(a,H,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(D,35715)+`

Program Info Log: `+le+`
`+se+`
`+ae)}else le!==""?console.warn("THREE.WebGLProgram: Program Info Log:",le):(ge===""||me==="")&&(re=!1);re&&(this.diagnostics={runnable:Y,programLog:le,vertexShader:{log:ge,prefix:N},fragmentShader:{log:me,prefix:z}})}a.deleteShader(W),a.deleteShader(H);let $;this.getUniforms=function(){return $===void 0&&($=new or(a,D)),$};let K;return this.getAttributes=function(){return K===void 0&&(K=k3(a,D)),K},this.destroy=function(){s.releaseStatesOfProgram(this),a.deleteProgram(D),this.program=void 0},this.name=t.shaderName,this.id=S3++,this.cacheKey=e,this.usedTimes=1,this.program=D,this.vertexShader=W,this.fragmentShader=H,this}let H3=0;class W3{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,s=e.fragmentShader,a=this._getShaderStage(t),l=this._getShaderStage(s),d=this._getShaderCacheForMaterial(e);return d.has(a)===!1&&(d.add(a),a.usedTimes++),d.has(l)===!1&&(d.add(l),l.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const s of t)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const s=new V3;t.set(e,s)}return t.get(e)}}class V3{constructor(){this.id=H3++,this.usedTimes=0}}function U3(n,e,t,s,a,l,d){const p=new oy,v=new W3,y=[],M=a.isWebGL2,E=a.logarithmicDepthBuffer,T=a.floatVertexTextures,L=a.maxVertexUniforms,D=a.vertexTextures;let N=a.precision;const z={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function C(Y){const se=Y.skeleton.bones;if(T)return 1024;{const he=Math.floor((L-20)/4),ue=Math.min(he,se.length);return ue<se.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+se.length+" bones. This GPU supports "+ue+"."),0):ue}}function S(Y,re,se,ae,he){const ue=ae.fog,pe=Y.isMeshStandardMaterial?ae.environment:null,Ce=(Y.isMeshStandardMaterial?t:e).get(Y.envMap||pe),Ne=z[Y.type],ve=he.isSkinnedMesh?C(he):0;Y.precision!==null&&(N=a.getMaxPrecision(Y.precision),N!==Y.precision&&console.warn("THREE.WebGLProgram.getParameters:",Y.precision,"not supported, using",N,"instead."));let ne,xe,Ee,Ie;if(Ne){const Fe=hi[Ne];ne=Fe.vertexShader,xe=Fe.fragmentShader}else ne=Y.vertexShader,xe=Y.fragmentShader,v.update(Y),Ee=v.getVertexShaderID(Y),Ie=v.getFragmentShaderID(Y);const ce=n.getRenderTarget(),dt=Y.alphaTest>0,Ue=Y.clearcoat>0;return{isWebGL2:M,shaderID:Ne,shaderName:Y.type,vertexShader:ne,fragmentShader:xe,defines:Y.defines,customVertexShaderID:Ee,customFragmentShaderID:Ie,isRawShaderMaterial:Y.isRawShaderMaterial===!0,glslVersion:Y.glslVersion,precision:N,instancing:he.isInstancedMesh===!0,instancingColor:he.isInstancedMesh===!0&&he.instanceColor!==null,supportsVertexTextures:D,outputEncoding:ce===null?n.outputEncoding:ce.isXRRenderTarget===!0?ce.texture.encoding:gr,map:!!Y.map,matcap:!!Y.matcap,envMap:!!Ce,envMapMode:Ce&&Ce.mapping,envMapCubeUV:!!Ce&&(Ce.mapping===ih||Ce.mapping===qf),lightMap:!!Y.lightMap,aoMap:!!Y.aoMap,emissiveMap:!!Y.emissiveMap,bumpMap:!!Y.bumpMap,normalMap:!!Y.normalMap,objectSpaceNormalMap:Y.normalMapType===S_,tangentSpaceNormalMap:Y.normalMapType===aa,decodeVideoTexture:!!Y.map&&Y.map.isVideoTexture===!0&&Y.map.encoding===Ft,clearcoat:Ue,clearcoatMap:Ue&&!!Y.clearcoatMap,clearcoatRoughnessMap:Ue&&!!Y.clearcoatRoughnessMap,clearcoatNormalMap:Ue&&!!Y.clearcoatNormalMap,displacementMap:!!Y.displacementMap,roughnessMap:!!Y.roughnessMap,metalnessMap:!!Y.metalnessMap,specularMap:!!Y.specularMap,specularIntensityMap:!!Y.specularIntensityMap,specularColorMap:!!Y.specularColorMap,transparent:Y.transparent,alphaMap:!!Y.alphaMap,alphaTest:dt,gradientMap:!!Y.gradientMap,sheen:Y.sheen>0,sheenColorMap:!!Y.sheenColorMap,sheenRoughnessMap:!!Y.sheenRoughnessMap,transmission:Y.transmission>0,transmissionMap:!!Y.transmissionMap,thicknessMap:!!Y.thicknessMap,combine:Y.combine,vertexTangents:!!Y.normalMap&&!!he.geometry&&!!he.geometry.attributes.tangent,vertexColors:Y.vertexColors,vertexAlphas:Y.vertexColors===!0&&!!he.geometry&&!!he.geometry.attributes.color&&he.geometry.attributes.color.itemSize===4,vertexUvs:!!Y.map||!!Y.bumpMap||!!Y.normalMap||!!Y.specularMap||!!Y.alphaMap||!!Y.emissiveMap||!!Y.roughnessMap||!!Y.metalnessMap||!!Y.clearcoatMap||!!Y.clearcoatRoughnessMap||!!Y.clearcoatNormalMap||!!Y.displacementMap||!!Y.transmissionMap||!!Y.thicknessMap||!!Y.specularIntensityMap||!!Y.specularColorMap||!!Y.sheenColorMap||!!Y.sheenRoughnessMap,uvsVertexOnly:!(!!Y.map||!!Y.bumpMap||!!Y.normalMap||!!Y.specularMap||!!Y.alphaMap||!!Y.emissiveMap||!!Y.roughnessMap||!!Y.metalnessMap||!!Y.clearcoatNormalMap||Y.transmission>0||!!Y.transmissionMap||!!Y.thicknessMap||!!Y.specularIntensityMap||!!Y.specularColorMap||Y.sheen>0||!!Y.sheenColorMap||!!Y.sheenRoughnessMap)&&!!Y.displacementMap,fog:!!ue,useFog:Y.fog,fogExp2:ue&&ue.isFogExp2,flatShading:!!Y.flatShading,sizeAttenuation:Y.sizeAttenuation,logarithmicDepthBuffer:E,skinning:he.isSkinnedMesh===!0&&ve>0,maxBones:ve,useVertexTexture:T,morphTargets:!!he.geometry&&!!he.geometry.morphAttributes.position,morphNormals:!!he.geometry&&!!he.geometry.morphAttributes.normal,morphTargetsCount:!!he.geometry&&!!he.geometry.morphAttributes.position?he.geometry.morphAttributes.position.length:0,numDirLights:re.directional.length,numPointLights:re.point.length,numSpotLights:re.spot.length,numRectAreaLights:re.rectArea.length,numHemiLights:re.hemi.length,numDirLightShadows:re.directionalShadowMap.length,numPointLightShadows:re.pointShadowMap.length,numSpotLightShadows:re.spotShadowMap.length,numClippingPlanes:d.numPlanes,numClipIntersection:d.numIntersection,dithering:Y.dithering,shadowMapEnabled:n.shadowMap.enabled&&se.length>0,shadowMapType:n.shadowMap.type,toneMapping:Y.toneMapped?n.toneMapping:rr,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:Y.premultipliedAlpha,doubleSided:Y.side===$s,flipSided:Y.side===Gt,depthPacking:Y.depthPacking!==void 0?Y.depthPacking:!1,index0AttributeName:Y.index0AttributeName,extensionDerivatives:Y.extensions&&Y.extensions.derivatives,extensionFragDepth:Y.extensions&&Y.extensions.fragDepth,extensionDrawBuffers:Y.extensions&&Y.extensions.drawBuffers,extensionShaderTextureLOD:Y.extensions&&Y.extensions.shaderTextureLOD,rendererExtensionFragDepth:M||s.has("EXT_frag_depth"),rendererExtensionDrawBuffers:M||s.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:M||s.has("EXT_shader_texture_lod"),customProgramCacheKey:Y.customProgramCacheKey()}}function G(Y){const re=[];if(Y.shaderID?re.push(Y.shaderID):(re.push(Y.customVertexShaderID),re.push(Y.customFragmentShaderID)),Y.defines!==void 0)for(const se in Y.defines)re.push(se),re.push(Y.defines[se]);return Y.isRawShaderMaterial===!1&&(W(re,Y),H(re,Y),re.push(n.outputEncoding)),re.push(Y.customProgramCacheKey),re.join()}function W(Y,re){Y.push(re.precision),Y.push(re.outputEncoding),Y.push(re.envMapMode),Y.push(re.combine),Y.push(re.vertexUvs),Y.push(re.fogExp2),Y.push(re.sizeAttenuation),Y.push(re.maxBones),Y.push(re.morphTargetsCount),Y.push(re.numDirLights),Y.push(re.numPointLights),Y.push(re.numSpotLights),Y.push(re.numHemiLights),Y.push(re.numRectAreaLights),Y.push(re.numDirLightShadows),Y.push(re.numPointLightShadows),Y.push(re.numSpotLightShadows),Y.push(re.shadowMapType),Y.push(re.toneMapping),Y.push(re.numClippingPlanes),Y.push(re.numClipIntersection)}function H(Y,re){p.disableAll(),re.isWebGL2&&p.enable(0),re.supportsVertexTextures&&p.enable(1),re.instancing&&p.enable(2),re.instancingColor&&p.enable(3),re.map&&p.enable(4),re.matcap&&p.enable(5),re.envMap&&p.enable(6),re.envMapCubeUV&&p.enable(7),re.lightMap&&p.enable(8),re.aoMap&&p.enable(9),re.emissiveMap&&p.enable(10),re.bumpMap&&p.enable(11),re.normalMap&&p.enable(12),re.objectSpaceNormalMap&&p.enable(13),re.tangentSpaceNormalMap&&p.enable(14),re.clearcoat&&p.enable(15),re.clearcoatMap&&p.enable(16),re.clearcoatRoughnessMap&&p.enable(17),re.clearcoatNormalMap&&p.enable(18),re.displacementMap&&p.enable(19),re.specularMap&&p.enable(20),re.roughnessMap&&p.enable(21),re.metalnessMap&&p.enable(22),re.gradientMap&&p.enable(23),re.alphaMap&&p.enable(24),re.alphaTest&&p.enable(25),re.vertexColors&&p.enable(26),re.vertexAlphas&&p.enable(27),re.vertexUvs&&p.enable(28),re.vertexTangents&&p.enable(29),re.uvsVertexOnly&&p.enable(30),re.fog&&p.enable(31),Y.push(p.mask),p.disableAll(),re.useFog&&p.enable(0),re.flatShading&&p.enable(1),re.logarithmicDepthBuffer&&p.enable(2),re.skinning&&p.enable(3),re.useVertexTexture&&p.enable(4),re.morphTargets&&p.enable(5),re.morphNormals&&p.enable(6),re.premultipliedAlpha&&p.enable(7),re.shadowMapEnabled&&p.enable(8),re.physicallyCorrectLights&&p.enable(9),re.doubleSided&&p.enable(10),re.flipSided&&p.enable(11),re.depthPacking&&p.enable(12),re.dithering&&p.enable(13),re.specularIntensityMap&&p.enable(14),re.specularColorMap&&p.enable(15),re.transmission&&p.enable(16),re.transmissionMap&&p.enable(17),re.thicknessMap&&p.enable(18),re.sheen&&p.enable(19),re.sheenColorMap&&p.enable(20),re.sheenRoughnessMap&&p.enable(21),re.decodeVideoTexture&&p.enable(22),re.transparent&&p.enable(23),Y.push(p.mask)}function $(Y){const re=z[Y.type];let se;if(re){const ae=hi[re];se=B_.clone(ae.uniforms)}else se=Y.uniforms;return se}function K(Y,re){let se;for(let ae=0,he=y.length;ae<he;ae++){const ue=y[ae];if(ue.cacheKey===re){se=ue,++se.usedTimes;break}}return se===void 0&&(se=new B3(n,re,Y,l),y.push(se)),se}function le(Y){if(--Y.usedTimes===0){const re=y.indexOf(Y);y[re]=y[y.length-1],y.pop(),Y.destroy()}}function ge(Y){v.remove(Y)}function me(){v.dispose()}return{getParameters:S,getProgramCacheKey:G,getUniforms:$,acquireProgram:K,releaseProgram:le,releaseShaderCache:ge,programs:y,dispose:me}}function G3(){let n=new WeakMap;function e(l){let d=n.get(l);return d===void 0&&(d={},n.set(l,d)),d}function t(l){n.delete(l)}function s(l,d,p){n.get(l)[d]=p}function a(){n=new WeakMap}return{get:e,remove:t,update:s,dispose:a}}function X3(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function o0(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function l0(){const n=[];let e=0;const t=[],s=[],a=[];function l(){e=0,t.length=0,s.length=0,a.length=0}function d(E,T,L,D,N,z){let C=n[e];return C===void 0?(C={id:E.id,object:E,geometry:T,material:L,groupOrder:D,renderOrder:E.renderOrder,z:N,group:z},n[e]=C):(C.id=E.id,C.object=E,C.geometry=T,C.material=L,C.groupOrder=D,C.renderOrder=E.renderOrder,C.z=N,C.group=z),e++,C}function p(E,T,L,D,N,z){const C=d(E,T,L,D,N,z);L.transmission>0?s.push(C):L.transparent===!0?a.push(C):t.push(C)}function v(E,T,L,D,N,z){const C=d(E,T,L,D,N,z);L.transmission>0?s.unshift(C):L.transparent===!0?a.unshift(C):t.unshift(C)}function y(E,T){t.length>1&&t.sort(E||X3),s.length>1&&s.sort(T||o0),a.length>1&&a.sort(T||o0)}function M(){for(let E=e,T=n.length;E<T;E++){const L=n[E];if(L.id===null)break;L.id=null,L.object=null,L.geometry=null,L.material=null,L.group=null}}return{opaque:t,transmissive:s,transparent:a,init:l,push:p,unshift:v,finish:M,sort:y}}function Y3(){let n=new WeakMap;function e(s,a){let l;return n.has(s)===!1?(l=new l0,n.set(s,[l])):a>=n.get(s).length?(l=new l0,n.get(s).push(l)):l=n.get(s)[a],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function j3(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Q,color:new Ze};break;case"SpotLight":t={position:new Q,direction:new Q,color:new Ze,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Q,color:new Ze,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Q,skyColor:new Ze,groundColor:new Ze};break;case"RectAreaLight":t={color:new Ze,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return n[e.id]=t,t}}}function q3(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let $3=0;function Z3(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function J3(n,e){const t=new j3,s=q3(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let M=0;M<9;M++)a.probe.push(new Q);const l=new Q,d=new nt,p=new nt;function v(M,E){let T=0,L=0,D=0;for(let ge=0;ge<9;ge++)a.probe[ge].set(0,0,0);let N=0,z=0,C=0,S=0,G=0,W=0,H=0,$=0;M.sort(Z3);const K=E!==!0?Math.PI:1;for(let ge=0,me=M.length;ge<me;ge++){const Y=M[ge],re=Y.color,se=Y.intensity,ae=Y.distance,he=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)T+=re.r*se*K,L+=re.g*se*K,D+=re.b*se*K;else if(Y.isLightProbe)for(let ue=0;ue<9;ue++)a.probe[ue].addScaledVector(Y.sh.coefficients[ue],se);else if(Y.isDirectionalLight){const ue=t.get(Y);if(ue.color.copy(Y.color).multiplyScalar(Y.intensity*K),Y.castShadow){const pe=Y.shadow,Ce=s.get(Y);Ce.shadowBias=pe.bias,Ce.shadowNormalBias=pe.normalBias,Ce.shadowRadius=pe.radius,Ce.shadowMapSize=pe.mapSize,a.directionalShadow[N]=Ce,a.directionalShadowMap[N]=he,a.directionalShadowMatrix[N]=Y.shadow.matrix,W++}a.directional[N]=ue,N++}else if(Y.isSpotLight){const ue=t.get(Y);if(ue.position.setFromMatrixPosition(Y.matrixWorld),ue.color.copy(re).multiplyScalar(se*K),ue.distance=ae,ue.coneCos=Math.cos(Y.angle),ue.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),ue.decay=Y.decay,Y.castShadow){const pe=Y.shadow,Ce=s.get(Y);Ce.shadowBias=pe.bias,Ce.shadowNormalBias=pe.normalBias,Ce.shadowRadius=pe.radius,Ce.shadowMapSize=pe.mapSize,a.spotShadow[C]=Ce,a.spotShadowMap[C]=he,a.spotShadowMatrix[C]=Y.shadow.matrix,$++}a.spot[C]=ue,C++}else if(Y.isRectAreaLight){const ue=t.get(Y);ue.color.copy(re).multiplyScalar(se),ue.halfWidth.set(Y.width*.5,0,0),ue.halfHeight.set(0,Y.height*.5,0),a.rectArea[S]=ue,S++}else if(Y.isPointLight){const ue=t.get(Y);if(ue.color.copy(Y.color).multiplyScalar(Y.intensity*K),ue.distance=Y.distance,ue.decay=Y.decay,Y.castShadow){const pe=Y.shadow,Ce=s.get(Y);Ce.shadowBias=pe.bias,Ce.shadowNormalBias=pe.normalBias,Ce.shadowRadius=pe.radius,Ce.shadowMapSize=pe.mapSize,Ce.shadowCameraNear=pe.camera.near,Ce.shadowCameraFar=pe.camera.far,a.pointShadow[z]=Ce,a.pointShadowMap[z]=he,a.pointShadowMatrix[z]=Y.shadow.matrix,H++}a.point[z]=ue,z++}else if(Y.isHemisphereLight){const ue=t.get(Y);ue.skyColor.copy(Y.color).multiplyScalar(se*K),ue.groundColor.copy(Y.groundColor).multiplyScalar(se*K),a.hemi[G]=ue,G++}}S>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(a.rectAreaLTC1=Be.LTC_FLOAT_1,a.rectAreaLTC2=Be.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(a.rectAreaLTC1=Be.LTC_HALF_1,a.rectAreaLTC2=Be.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=T,a.ambient[1]=L,a.ambient[2]=D;const le=a.hash;(le.directionalLength!==N||le.pointLength!==z||le.spotLength!==C||le.rectAreaLength!==S||le.hemiLength!==G||le.numDirectionalShadows!==W||le.numPointShadows!==H||le.numSpotShadows!==$)&&(a.directional.length=N,a.spot.length=C,a.rectArea.length=S,a.point.length=z,a.hemi.length=G,a.directionalShadow.length=W,a.directionalShadowMap.length=W,a.pointShadow.length=H,a.pointShadowMap.length=H,a.spotShadow.length=$,a.spotShadowMap.length=$,a.directionalShadowMatrix.length=W,a.pointShadowMatrix.length=H,a.spotShadowMatrix.length=$,le.directionalLength=N,le.pointLength=z,le.spotLength=C,le.rectAreaLength=S,le.hemiLength=G,le.numDirectionalShadows=W,le.numPointShadows=H,le.numSpotShadows=$,a.version=$3++)}function y(M,E){let T=0,L=0,D=0,N=0,z=0;const C=E.matrixWorldInverse;for(let S=0,G=M.length;S<G;S++){const W=M[S];if(W.isDirectionalLight){const H=a.directional[T];H.direction.setFromMatrixPosition(W.matrixWorld),l.setFromMatrixPosition(W.target.matrixWorld),H.direction.sub(l),H.direction.transformDirection(C),T++}else if(W.isSpotLight){const H=a.spot[D];H.position.setFromMatrixPosition(W.matrixWorld),H.position.applyMatrix4(C),H.direction.setFromMatrixPosition(W.matrixWorld),l.setFromMatrixPosition(W.target.matrixWorld),H.direction.sub(l),H.direction.transformDirection(C),D++}else if(W.isRectAreaLight){const H=a.rectArea[N];H.position.setFromMatrixPosition(W.matrixWorld),H.position.applyMatrix4(C),p.identity(),d.copy(W.matrixWorld),d.premultiply(C),p.extractRotation(d),H.halfWidth.set(W.width*.5,0,0),H.halfHeight.set(0,W.height*.5,0),H.halfWidth.applyMatrix4(p),H.halfHeight.applyMatrix4(p),N++}else if(W.isPointLight){const H=a.point[L];H.position.setFromMatrixPosition(W.matrixWorld),H.position.applyMatrix4(C),L++}else if(W.isHemisphereLight){const H=a.hemi[z];H.direction.setFromMatrixPosition(W.matrixWorld),H.direction.transformDirection(C),H.direction.normalize(),z++}}}return{setup:v,setupView:y,state:a}}function c0(n,e){const t=new J3(n,e),s=[],a=[];function l(){s.length=0,a.length=0}function d(E){s.push(E)}function p(E){a.push(E)}function v(E){t.setup(s,E)}function y(E){t.setupView(s,E)}return{init:l,state:{lightsArray:s,shadowsArray:a,lights:t},setupLights:v,setupLightsView:y,pushLight:d,pushShadow:p}}function Q3(n,e){let t=new WeakMap;function s(l,d=0){let p;return t.has(l)===!1?(p=new c0(n,e),t.set(l,[p])):d>=t.get(l).length?(p=new c0(n,e),t.get(l).push(p)):p=t.get(l)[d],p}function a(){t=new WeakMap}return{get:s,dispose:a}}class Sy extends Sn{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=b_,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Sy.prototype.isMeshDepthMaterial=!0;class _y extends Sn{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Q,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}_y.prototype.isMeshDistanceMaterial=!0;const K3=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,eE=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function My(n,e,t){let s=new oh;const a=new ke,l=new ke,d=new Mt,p=new Sy({depthPacking:w_}),v=new _y,y={},M=t.maxTextureSize,E={0:Gt,1:Co,2:$s},T=new ai({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ke},radius:{value:4}},vertexShader:K3,fragmentShader:eE}),L=T.clone();L.defines.HORIZONTAL_PASS=1;const D=new At;D.setAttribute("position",new Jt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const N=new $t(D,T),z=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Kv,this.render=function(W,H,$){if(z.enabled===!1||z.autoUpdate===!1&&z.needsUpdate===!1||W.length===0)return;const K=n.getRenderTarget(),le=n.getActiveCubeFace(),ge=n.getActiveMipmapLevel(),me=n.state;me.setBlending(ir),me.buffers.color.setClear(1,1,1,1),me.buffers.depth.setTest(!0),me.setScissorTest(!1);for(let Y=0,re=W.length;Y<re;Y++){const se=W[Y],ae=se.shadow;if(ae===void 0){console.warn("THREE.WebGLShadowMap:",se,"has no shadow.");continue}if(ae.autoUpdate===!1&&ae.needsUpdate===!1)continue;a.copy(ae.mapSize);const he=ae.getFrameExtents();if(a.multiply(he),l.copy(ae.mapSize),(a.x>M||a.y>M)&&(a.x>M&&(l.x=Math.floor(M/he.x),a.x=l.x*he.x,ae.mapSize.x=l.x),a.y>M&&(l.y=Math.floor(M/he.y),a.y=l.y*he.y,ae.mapSize.y=l.y)),ae.map===null&&!ae.isPointLightShadow&&this.type===Ya){const pe={minFilter:xn,magFilter:xn,format:Mn};ae.map=new qn(a.x,a.y,pe),ae.map.texture.name=se.name+".shadowMap",ae.mapPass=new qn(a.x,a.y,pe),ae.camera.updateProjectionMatrix()}if(ae.map===null){const pe={minFilter:qt,magFilter:qt,format:Mn};ae.map=new qn(a.x,a.y,pe),ae.map.texture.name=se.name+".shadowMap",ae.camera.updateProjectionMatrix()}n.setRenderTarget(ae.map),n.clear();const ue=ae.getViewportCount();for(let pe=0;pe<ue;pe++){const Ce=ae.getViewport(pe);d.set(l.x*Ce.x,l.y*Ce.y,l.x*Ce.z,l.y*Ce.w),me.viewport(d),ae.updateMatrices(se,pe),s=ae.getFrustum(),G(H,$,ae.camera,se,this.type)}!ae.isPointLightShadow&&this.type===Ya&&C(ae,$),ae.needsUpdate=!1}z.needsUpdate=!1,n.setRenderTarget(K,le,ge)};function C(W,H){const $=e.update(N);T.defines.VSM_SAMPLES!==W.blurSamples&&(T.defines.VSM_SAMPLES=W.blurSamples,L.defines.VSM_SAMPLES=W.blurSamples,T.needsUpdate=!0,L.needsUpdate=!0),T.uniforms.shadow_pass.value=W.map.texture,T.uniforms.resolution.value=W.mapSize,T.uniforms.radius.value=W.radius,n.setRenderTarget(W.mapPass),n.clear(),n.renderBufferDirect(H,null,$,T,N,null),L.uniforms.shadow_pass.value=W.mapPass.texture,L.uniforms.resolution.value=W.mapSize,L.uniforms.radius.value=W.radius,n.setRenderTarget(W.map),n.clear(),n.renderBufferDirect(H,null,$,L,N,null)}function S(W,H,$,K,le,ge,me){let Y=null;const re=K.isPointLight===!0?W.customDistanceMaterial:W.customDepthMaterial;if(re!==void 0?Y=re:Y=K.isPointLight===!0?v:p,n.localClippingEnabled&&$.clipShadows===!0&&$.clippingPlanes.length!==0||$.displacementMap&&$.displacementScale!==0||$.alphaMap&&$.alphaTest>0){const se=Y.uuid,ae=$.uuid;let he=y[se];he===void 0&&(he={},y[se]=he);let ue=he[ae];ue===void 0&&(ue=Y.clone(),he[ae]=ue),Y=ue}return Y.visible=$.visible,Y.wireframe=$.wireframe,me===Ya?Y.side=$.shadowSide!==null?$.shadowSide:$.side:Y.side=$.shadowSide!==null?$.shadowSide:E[$.side],Y.alphaMap=$.alphaMap,Y.alphaTest=$.alphaTest,Y.clipShadows=$.clipShadows,Y.clippingPlanes=$.clippingPlanes,Y.clipIntersection=$.clipIntersection,Y.displacementMap=$.displacementMap,Y.displacementScale=$.displacementScale,Y.displacementBias=$.displacementBias,Y.wireframeLinewidth=$.wireframeLinewidth,Y.linewidth=$.linewidth,K.isPointLight===!0&&Y.isMeshDistanceMaterial===!0&&(Y.referencePosition.setFromMatrixPosition(K.matrixWorld),Y.nearDistance=le,Y.farDistance=ge),Y}function G(W,H,$,K,le){if(W.visible===!1)return;if(W.layers.test(H.layers)&&(W.isMesh||W.isLine||W.isPoints)&&(W.castShadow||W.receiveShadow&&le===Ya)&&(!W.frustumCulled||s.intersectsObject(W))){W.modelViewMatrix.multiplyMatrices($.matrixWorldInverse,W.matrixWorld);const Y=e.update(W),re=W.material;if(Array.isArray(re)){const se=Y.groups;for(let ae=0,he=se.length;ae<he;ae++){const ue=se[ae],pe=re[ue.materialIndex];if(pe&&pe.visible){const Ce=S(W,Y,pe,K,$.near,$.far,le);n.renderBufferDirect($,null,Y,Ce,W,ue)}}}else if(re.visible){const se=S(W,Y,re,K,$.near,$.far,le);n.renderBufferDirect($,null,Y,se,W,null)}}const me=W.children;for(let Y=0,re=me.length;Y<re;Y++)G(me[Y],H,$,K,le)}}function tE(n,e,t){const s=t.isWebGL2;function a(){let ie=!1;const qe=new Mt;let Ge=null;const st=new Mt(0,0,0,0);return{setMask:function(Me){Ge!==Me&&!ie&&(n.colorMask(Me,Me,Me,Me),Ge=Me)},setLocked:function(Me){ie=Me},setClear:function(Me,Ke,pt,bt,un){un===!0&&(Me*=bt,Ke*=bt,pt*=bt),qe.set(Me,Ke,pt,bt),st.equals(qe)===!1&&(n.clearColor(Me,Ke,pt,bt),st.copy(qe))},reset:function(){ie=!1,Ge=null,st.set(-1,0,0,0)}}}function l(){let ie=!1,qe=null,Ge=null,st=null;return{setTest:function(Me){Me?ce(2929):dt(2929)},setMask:function(Me){qe!==Me&&!ie&&(n.depthMask(Me),qe=Me)},setFunc:function(Me){if(Ge!==Me){if(Me)switch(Me){case H2:n.depthFunc(512);break;case W2:n.depthFunc(519);break;case V2:n.depthFunc(513);break;case Ed:n.depthFunc(515);break;case U2:n.depthFunc(514);break;case G2:n.depthFunc(518);break;case X2:n.depthFunc(516);break;case Y2:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Ge=Me}},setLocked:function(Me){ie=Me},setClear:function(Me){st!==Me&&(n.clearDepth(Me),st=Me)},reset:function(){ie=!1,qe=null,Ge=null,st=null}}}function d(){let ie=!1,qe=null,Ge=null,st=null,Me=null,Ke=null,pt=null,bt=null,un=null;return{setTest:function(kt){ie||(kt?ce(2960):dt(2960))},setMask:function(kt){qe!==kt&&!ie&&(n.stencilMask(kt),qe=kt)},setFunc:function(kt,Nn,Kn){(Ge!==kt||st!==Nn||Me!==Kn)&&(n.stencilFunc(kt,Nn,Kn),Ge=kt,st=Nn,Me=Kn)},setOp:function(kt,Nn,Kn){(Ke!==kt||pt!==Nn||bt!==Kn)&&(n.stencilOp(kt,Nn,Kn),Ke=kt,pt=Nn,bt=Kn)},setLocked:function(kt){ie=kt},setClear:function(kt){un!==kt&&(n.clearStencil(kt),un=kt)},reset:function(){ie=!1,qe=null,Ge=null,st=null,Me=null,Ke=null,pt=null,bt=null,un=null}}}const p=new a,v=new l,y=new d;let M={},E={},T=new WeakMap,L=[],D=null,N=!1,z=null,C=null,S=null,G=null,W=null,H=null,$=null,K=!1,le=null,ge=null,me=null,Y=null,re=null;const se=n.getParameter(35661);let ae=!1,he=0;const ue=n.getParameter(7938);ue.indexOf("WebGL")!==-1?(he=parseFloat(/^WebGL (\d)/.exec(ue)[1]),ae=he>=1):ue.indexOf("OpenGL ES")!==-1&&(he=parseFloat(/^OpenGL ES (\d)/.exec(ue)[1]),ae=he>=2);let pe=null,Ce={};const Ne=n.getParameter(3088),ve=n.getParameter(2978),ne=new Mt().fromArray(Ne),xe=new Mt().fromArray(ve);function Ee(ie,qe,Ge){const st=new Uint8Array(4),Me=n.createTexture();n.bindTexture(ie,Me),n.texParameteri(ie,10241,9728),n.texParameteri(ie,10240,9728);for(let Ke=0;Ke<Ge;Ke++)n.texImage2D(qe+Ke,0,6408,1,1,0,6408,5121,st);return Me}const Ie={};Ie[3553]=Ee(3553,3553,1),Ie[34067]=Ee(34067,34069,6),p.setClear(0,0,0,1),v.setClear(1),y.setClear(0),ce(2929),v.setFunc(Ed),Re(!1),Xe(em),ce(2884),ye(ir);function ce(ie){M[ie]!==!0&&(n.enable(ie),M[ie]=!0)}function dt(ie){M[ie]!==!1&&(n.disable(ie),M[ie]=!1)}function Ue(ie,qe){return E[ie]!==qe?(n.bindFramebuffer(ie,qe),E[ie]=qe,s&&(ie===36009&&(E[36160]=qe),ie===36160&&(E[36009]=qe)),!0):!1}function $e(ie,qe){let Ge=L,st=!1;if(ie)if(Ge=T.get(qe),Ge===void 0&&(Ge=[],T.set(qe,Ge)),ie.isWebGLMultipleRenderTargets){const Me=ie.texture;if(Ge.length!==Me.length||Ge[0]!==36064){for(let Ke=0,pt=Me.length;Ke<pt;Ke++)Ge[Ke]=36064+Ke;Ge.length=Me.length,st=!0}}else Ge[0]!==36064&&(Ge[0]=36064,st=!0);else Ge[0]!==1029&&(Ge[0]=1029,st=!0);st&&(t.isWebGL2?n.drawBuffers(Ge):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ge))}function Fe(ie){return D!==ie?(n.useProgram(ie),D=ie,!0):!1}const ct={[ys]:32774,[k2]:32778,[L2]:32779};if(s)ct[im]=32775,ct[rm]=32776;else{const ie=e.get("EXT_blend_minmax");ie!==null&&(ct[im]=ie.MIN_EXT,ct[rm]=ie.MAX_EXT)}const it={[P2]:0,[R2]:1,[I2]:768,[ty]:770,[B2]:776,[F2]:774,[z2]:772,[D2]:769,[ny]:771,[O2]:775,[N2]:773};function ye(ie,qe,Ge,st,Me,Ke,pt,bt){if(ie===ir){N===!0&&(dt(3042),N=!1);return}if(N===!1&&(ce(3042),N=!0),ie!==T2){if(ie!==z||bt!==K){if((C!==ys||W!==ys)&&(n.blendEquation(32774),C=ys,W=ys),bt)switch(ie){case oo:n.blendFuncSeparate(1,771,1,771);break;case Ec:n.blendFunc(1,1);break;case tm:n.blendFuncSeparate(0,769,0,1);break;case nm:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}else switch(ie){case oo:n.blendFuncSeparate(770,771,1,771);break;case Ec:n.blendFunc(770,1);break;case tm:n.blendFuncSeparate(0,769,0,1);break;case nm:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}S=null,G=null,H=null,$=null,z=ie,K=bt}return}Me=Me||qe,Ke=Ke||Ge,pt=pt||st,(qe!==C||Me!==W)&&(n.blendEquationSeparate(ct[qe],ct[Me]),C=qe,W=Me),(Ge!==S||st!==G||Ke!==H||pt!==$)&&(n.blendFuncSeparate(it[Ge],it[st],it[Ke],it[pt]),S=Ge,G=st,H=Ke,$=pt),z=ie,K=null}function De(ie,qe){ie.side===$s?dt(2884):ce(2884);let Ge=ie.side===Gt;qe&&(Ge=!Ge),Re(Ge),ie.blending===oo&&ie.transparent===!1?ye(ir):ye(ie.blending,ie.blendEquation,ie.blendSrc,ie.blendDst,ie.blendEquationAlpha,ie.blendSrcAlpha,ie.blendDstAlpha,ie.premultipliedAlpha),v.setFunc(ie.depthFunc),v.setTest(ie.depthTest),v.setMask(ie.depthWrite),p.setMask(ie.colorWrite);const st=ie.stencilWrite;y.setTest(st),st&&(y.setMask(ie.stencilWriteMask),y.setFunc(ie.stencilFunc,ie.stencilRef,ie.stencilFuncMask),y.setOp(ie.stencilFail,ie.stencilZFail,ie.stencilZPass)),rt(ie.polygonOffset,ie.polygonOffsetFactor,ie.polygonOffsetUnits),ie.alphaToCoverage===!0?ce(32926):dt(32926)}function Re(ie){le!==ie&&(ie?n.frontFace(2304):n.frontFace(2305),le=ie)}function Xe(ie){ie!==A2?(ce(2884),ie!==ge&&(ie===em?n.cullFace(1029):ie===C2?n.cullFace(1028):n.cullFace(1032))):dt(2884),ge=ie}function Ve(ie){ie!==me&&(ae&&n.lineWidth(ie),me=ie)}function rt(ie,qe,Ge){ie?(ce(32823),(Y!==qe||re!==Ge)&&(n.polygonOffset(qe,Ge),Y=qe,re=Ge)):dt(32823)}function tt(ie){ie?ce(3089):dt(3089)}function mt(ie){ie===void 0&&(ie=33984+se-1),pe!==ie&&(n.activeTexture(ie),pe=ie)}function Tt(ie,qe){pe===null&&mt();let Ge=Ce[pe];Ge===void 0&&(Ge={type:void 0,texture:void 0},Ce[pe]=Ge),(Ge.type!==ie||Ge.texture!==qe)&&(n.bindTexture(ie,qe||Ie[ie]),Ge.type=ie,Ge.texture=qe)}function yt(){const ie=Ce[pe];ie!==void 0&&ie.type!==void 0&&(n.bindTexture(ie.type,null),ie.type=void 0,ie.texture=void 0)}function J(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function q(){try{n.texSubImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function we(){try{n.texSubImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ze(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function je(){try{n.texStorage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function be(){try{n.texStorage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Qe(){try{n.texImage2D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Je(){try{n.texImage3D.apply(n,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function We(ie){ne.equals(ie)===!1&&(n.scissor(ie.x,ie.y,ie.z,ie.w),ne.copy(ie))}function He(ie){xe.equals(ie)===!1&&(n.viewport(ie.x,ie.y,ie.z,ie.w),xe.copy(ie))}function ht(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),s===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),M={},pe=null,Ce={},E={},T=new WeakMap,L=[],D=null,N=!1,z=null,C=null,S=null,G=null,W=null,H=null,$=null,K=!1,le=null,ge=null,me=null,Y=null,re=null,ne.set(0,0,n.canvas.width,n.canvas.height),xe.set(0,0,n.canvas.width,n.canvas.height),p.reset(),v.reset(),y.reset()}return{buffers:{color:p,depth:v,stencil:y},enable:ce,disable:dt,bindFramebuffer:Ue,drawBuffers:$e,useProgram:Fe,setBlending:ye,setMaterial:De,setFlipSided:Re,setCullFace:Xe,setLineWidth:Ve,setPolygonOffset:rt,setScissorTest:tt,activeTexture:mt,bindTexture:Tt,unbindTexture:yt,compressedTexImage2D:J,texImage2D:Qe,texImage3D:Je,texStorage2D:je,texStorage3D:be,texSubImage2D:q,texSubImage3D:we,compressedTexSubImage2D:ze,scissor:We,viewport:He,reset:ht}}function nE(n,e,t,s,a,l,d){const p=a.isWebGL2,v=a.maxTextures,y=a.maxCubemapSize,M=a.maxTextureSize,E=a.maxSamples,L=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):void 0,D=new WeakMap;let N,z=!1;try{z=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function C(J,q){return z?new OffscreenCanvas(J,q):ko("canvas")}function S(J,q,we,ze){let je=1;if((J.width>ze||J.height>ze)&&(je=ze/Math.max(J.width,J.height)),je<1||q===!0)if(typeof HTMLImageElement!="undefined"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&J instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&J instanceof ImageBitmap){const be=q?A_:Math.floor,Qe=be(je*J.width),Je=be(je*J.height);N===void 0&&(N=C(Qe,Je));const We=we?C(Qe,Je):N;return We.width=Qe,We.height=Je,We.getContext("2d").drawImage(J,0,0,Qe,Je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+J.width+"x"+J.height+") to ("+Qe+"x"+Je+")."),We}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+J.width+"x"+J.height+")."),J;return J}function G(J){return km(J.width)&&km(J.height)}function W(J){return p?!1:J.wrapS!==Wn||J.wrapT!==Wn||J.minFilter!==qt&&J.minFilter!==xn}function H(J,q){return J.generateMipmaps&&q&&J.minFilter!==qt&&J.minFilter!==xn}function $(J){n.generateMipmap(J)}function K(J,q,we,ze,je=!1){if(p===!1)return q;if(J!==null){if(n[J]!==void 0)return n[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let be=q;return q===6403&&(we===5126&&(be=33326),we===5131&&(be=33325),we===5121&&(be=33321)),q===33319&&(we===5126&&(be=33328),we===5131&&(be=33327),we===5121&&(be=33323)),q===6408&&(we===5126&&(be=34836),we===5131&&(be=34842),we===5121&&(be=ze===Ft&&je===!1?35907:32856),we===32819&&(be=32854),we===32820&&(be=32855)),(be===33325||be===33326||be===33327||be===33328||be===34842||be===34836)&&e.get("EXT_color_buffer_float"),be}function le(J,q,we){return H(J,we)===!0||J.isFramebufferTexture&&J.minFilter!==qt&&J.minFilter!==xn?Math.log2(Math.max(q.width,q.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?q.mipmaps.length:1}function ge(J){return J===qt||J===sm||J===am?9728:9729}function me(J){const q=J.target;q.removeEventListener("dispose",me),re(q),q.isVideoTexture&&D.delete(q),d.memory.textures--}function Y(J){const q=J.target;q.removeEventListener("dispose",Y),se(q)}function re(J){const q=s.get(J);q.__webglInit!==void 0&&(n.deleteTexture(q.__webglTexture),s.remove(J))}function se(J){const q=J.texture,we=s.get(J),ze=s.get(q);if(!!J){if(ze.__webglTexture!==void 0&&(n.deleteTexture(ze.__webglTexture),d.memory.textures--),J.depthTexture&&J.depthTexture.dispose(),J.isWebGLCubeRenderTarget)for(let je=0;je<6;je++)n.deleteFramebuffer(we.__webglFramebuffer[je]),we.__webglDepthbuffer&&n.deleteRenderbuffer(we.__webglDepthbuffer[je]);else n.deleteFramebuffer(we.__webglFramebuffer),we.__webglDepthbuffer&&n.deleteRenderbuffer(we.__webglDepthbuffer),we.__webglMultisampledFramebuffer&&n.deleteFramebuffer(we.__webglMultisampledFramebuffer),we.__webglColorRenderbuffer&&n.deleteRenderbuffer(we.__webglColorRenderbuffer),we.__webglDepthRenderbuffer&&n.deleteRenderbuffer(we.__webglDepthRenderbuffer);if(J.isWebGLMultipleRenderTargets)for(let je=0,be=q.length;je<be;je++){const Qe=s.get(q[je]);Qe.__webglTexture&&(n.deleteTexture(Qe.__webglTexture),d.memory.textures--),s.remove(q[je])}s.remove(q),s.remove(J)}}let ae=0;function he(){ae=0}function ue(){const J=ae;return J>=v&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+v),ae+=1,J}function pe(J,q){const we=s.get(J);if(J.isVideoTexture&&Ve(J),J.version>0&&we.__version!==J.version){const ze=J.image;if(ze===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(ze.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ce(we,J,q);return}}t.activeTexture(33984+q),t.bindTexture(3553,we.__webglTexture)}function Ce(J,q){const we=s.get(J);if(J.version>0&&we.__version!==J.version){ce(we,J,q);return}t.activeTexture(33984+q),t.bindTexture(35866,we.__webglTexture)}function Ne(J,q){const we=s.get(J);if(J.version>0&&we.__version!==J.version){ce(we,J,q);return}t.activeTexture(33984+q),t.bindTexture(32879,we.__webglTexture)}function ve(J,q){const we=s.get(J);if(J.version>0&&we.__version!==J.version){dt(we,J,q);return}t.activeTexture(33984+q),t.bindTexture(34067,we.__webglTexture)}const ne={[Ld]:10497,[Wn]:33071,[Pd]:33648},xe={[qt]:9728,[sm]:9984,[am]:9986,[xn]:9729,[e_]:9985,[rh]:9987};function Ee(J,q,we){if(we?(n.texParameteri(J,10242,ne[q.wrapS]),n.texParameteri(J,10243,ne[q.wrapT]),(J===32879||J===35866)&&n.texParameteri(J,32882,ne[q.wrapR]),n.texParameteri(J,10240,xe[q.magFilter]),n.texParameteri(J,10241,xe[q.minFilter])):(n.texParameteri(J,10242,33071),n.texParameteri(J,10243,33071),(J===32879||J===35866)&&n.texParameteri(J,32882,33071),(q.wrapS!==Wn||q.wrapT!==Wn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(J,10240,ge(q.magFilter)),n.texParameteri(J,10241,ge(q.minFilter)),q.minFilter!==qt&&q.minFilter!==xn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ze=e.get("EXT_texture_filter_anisotropic");if(q.type===Ir&&e.has("OES_texture_float_linear")===!1||p===!1&&q.type===Hs&&e.has("OES_texture_half_float_linear")===!1)return;(q.anisotropy>1||s.get(q).__currentAnisotropy)&&(n.texParameterf(J,ze.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,a.getMaxAnisotropy())),s.get(q).__currentAnisotropy=q.anisotropy)}}function Ie(J,q){J.__webglInit===void 0&&(J.__webglInit=!0,q.addEventListener("dispose",me),J.__webglTexture=n.createTexture(),d.memory.textures++)}function ce(J,q,we){let ze=3553;q.isDataTexture2DArray&&(ze=35866),q.isDataTexture3D&&(ze=32879),Ie(J,q),t.activeTexture(33984+we),t.bindTexture(ze,J.__webglTexture),n.pixelStorei(37440,q.flipY),n.pixelStorei(37441,q.premultiplyAlpha),n.pixelStorei(3317,q.unpackAlignment),n.pixelStorei(37443,0);const je=W(q)&&G(q.image)===!1;let be=S(q.image,je,!1,M);be=rt(q,be);const Qe=G(be)||p,Je=l.convert(q.format,q.encoding);let We=l.convert(q.type),He=K(q.internalFormat,Je,We,q.encoding,q.isVideoTexture);Ee(ze,q,Qe);let ht;const ie=q.mipmaps,qe=p&&q.isVideoTexture!==!0,Ge=J.__version===void 0,st=le(q,be,Qe);if(q.isDepthTexture)He=6402,p?q.type===Ir?He=36012:q.type===nc?He=33190:q.type===Ws?He=35056:He=33189:q.type===Ir&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),q.format===zr&&He===6402&&q.type!==Eo&&q.type!==nc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),q.type=Eo,We=l.convert(q.type)),q.format===Zs&&He===6402&&(He=34041,q.type!==Ws&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),q.type=Ws,We=l.convert(q.type))),qe&&Ge?t.texStorage2D(3553,1,He,be.width,be.height):t.texImage2D(3553,0,He,be.width,be.height,0,Je,We,null);else if(q.isDataTexture)if(ie.length>0&&Qe){qe&&Ge&&t.texStorage2D(3553,st,He,ie[0].width,ie[0].height);for(let Me=0,Ke=ie.length;Me<Ke;Me++)ht=ie[Me],qe?t.texSubImage2D(3553,0,0,0,ht.width,ht.height,Je,We,ht.data):t.texImage2D(3553,Me,He,ht.width,ht.height,0,Je,We,ht.data);q.generateMipmaps=!1}else qe?(Ge&&t.texStorage2D(3553,st,He,be.width,be.height),t.texSubImage2D(3553,0,0,0,be.width,be.height,Je,We,be.data)):t.texImage2D(3553,0,He,be.width,be.height,0,Je,We,be.data);else if(q.isCompressedTexture){qe&&Ge&&t.texStorage2D(3553,st,He,ie[0].width,ie[0].height);for(let Me=0,Ke=ie.length;Me<Ke;Me++)ht=ie[Me],q.format!==Mn?Je!==null?qe?t.compressedTexSubImage2D(3553,Me,0,0,ht.width,ht.height,Je,ht.data):t.compressedTexImage2D(3553,Me,He,ht.width,ht.height,0,ht.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qe?t.texSubImage2D(3553,Me,0,0,ht.width,ht.height,Je,We,ht.data):t.texImage2D(3553,Me,He,ht.width,ht.height,0,Je,We,ht.data)}else if(q.isDataTexture2DArray)qe?(Ge&&t.texStorage3D(35866,st,He,be.width,be.height,be.depth),t.texSubImage3D(35866,0,0,0,0,be.width,be.height,be.depth,Je,We,be.data)):t.texImage3D(35866,0,He,be.width,be.height,be.depth,0,Je,We,be.data);else if(q.isDataTexture3D)qe?(Ge&&t.texStorage3D(32879,st,He,be.width,be.height,be.depth),t.texSubImage3D(32879,0,0,0,0,be.width,be.height,be.depth,Je,We,be.data)):t.texImage3D(32879,0,He,be.width,be.height,be.depth,0,Je,We,be.data);else if(q.isFramebufferTexture)qe&&Ge?t.texStorage2D(3553,st,He,be.width,be.height):t.texImage2D(3553,0,He,be.width,be.height,0,Je,We,null);else if(ie.length>0&&Qe){qe&&Ge&&t.texStorage2D(3553,st,He,ie[0].width,ie[0].height);for(let Me=0,Ke=ie.length;Me<Ke;Me++)ht=ie[Me],qe?t.texSubImage2D(3553,Me,0,0,Je,We,ht):t.texImage2D(3553,Me,He,Je,We,ht);q.generateMipmaps=!1}else qe?(Ge&&t.texStorage2D(3553,st,He,be.width,be.height),t.texSubImage2D(3553,0,0,0,Je,We,be)):t.texImage2D(3553,0,He,Je,We,be);H(q,Qe)&&$(ze),J.__version=q.version,q.onUpdate&&q.onUpdate(q)}function dt(J,q,we){if(q.image.length!==6)return;Ie(J,q),t.activeTexture(33984+we),t.bindTexture(34067,J.__webglTexture),n.pixelStorei(37440,q.flipY),n.pixelStorei(37441,q.premultiplyAlpha),n.pixelStorei(3317,q.unpackAlignment),n.pixelStorei(37443,0);const ze=q&&(q.isCompressedTexture||q.image[0].isCompressedTexture),je=q.image[0]&&q.image[0].isDataTexture,be=[];for(let Me=0;Me<6;Me++)!ze&&!je?be[Me]=S(q.image[Me],!1,!0,y):be[Me]=je?q.image[Me].image:q.image[Me],be[Me]=rt(q,be[Me]);const Qe=be[0],Je=G(Qe)||p,We=l.convert(q.format,q.encoding),He=l.convert(q.type),ht=K(q.internalFormat,We,He,q.encoding),ie=p&&q.isVideoTexture!==!0,qe=J.__version===void 0;let Ge=le(q,Qe,Je);Ee(34067,q,Je);let st;if(ze){ie&&qe&&t.texStorage2D(34067,Ge,ht,Qe.width,Qe.height);for(let Me=0;Me<6;Me++){st=be[Me].mipmaps;for(let Ke=0;Ke<st.length;Ke++){const pt=st[Ke];q.format!==Mn?We!==null?ie?t.compressedTexSubImage2D(34069+Me,Ke,0,0,pt.width,pt.height,We,pt.data):t.compressedTexImage2D(34069+Me,Ke,ht,pt.width,pt.height,0,pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ie?t.texSubImage2D(34069+Me,Ke,0,0,pt.width,pt.height,We,He,pt.data):t.texImage2D(34069+Me,Ke,ht,pt.width,pt.height,0,We,He,pt.data)}}}else{st=q.mipmaps,ie&&qe&&(st.length>0&&Ge++,t.texStorage2D(34067,Ge,ht,be[0].width,be[0].height));for(let Me=0;Me<6;Me++)if(je){ie?t.texSubImage2D(34069+Me,0,0,0,be[Me].width,be[Me].height,We,He,be[Me].data):t.texImage2D(34069+Me,0,ht,be[Me].width,be[Me].height,0,We,He,be[Me].data);for(let Ke=0;Ke<st.length;Ke++){const bt=st[Ke].image[Me].image;ie?t.texSubImage2D(34069+Me,Ke+1,0,0,bt.width,bt.height,We,He,bt.data):t.texImage2D(34069+Me,Ke+1,ht,bt.width,bt.height,0,We,He,bt.data)}}else{ie?t.texSubImage2D(34069+Me,0,0,0,We,He,be[Me]):t.texImage2D(34069+Me,0,ht,We,He,be[Me]);for(let Ke=0;Ke<st.length;Ke++){const pt=st[Ke];ie?t.texSubImage2D(34069+Me,Ke+1,0,0,We,He,pt.image[Me]):t.texImage2D(34069+Me,Ke+1,ht,We,He,pt.image[Me])}}}H(q,Je)&&$(34067),J.__version=q.version,q.onUpdate&&q.onUpdate(q)}function Ue(J,q,we,ze,je){const be=l.convert(we.format,we.encoding),Qe=l.convert(we.type),Je=K(we.internalFormat,be,Qe,we.encoding);s.get(q).__hasExternalTextures||(je===32879||je===35866?t.texImage3D(je,0,Je,q.width,q.height,q.depth,0,be,Qe,null):t.texImage2D(je,0,Je,q.width,q.height,0,be,Qe,null)),t.bindFramebuffer(36160,J),q.useRenderToTexture?L.framebufferTexture2DMultisampleEXT(36160,ze,je,s.get(we).__webglTexture,0,Xe(q)):n.framebufferTexture2D(36160,ze,je,s.get(we).__webglTexture,0),t.bindFramebuffer(36160,null)}function $e(J,q,we){if(n.bindRenderbuffer(36161,J),q.depthBuffer&&!q.stencilBuffer){let ze=33189;if(we||q.useRenderToTexture){const je=q.depthTexture;je&&je.isDepthTexture&&(je.type===Ir?ze=36012:je.type===nc&&(ze=33190));const be=Xe(q);q.useRenderToTexture?L.renderbufferStorageMultisampleEXT(36161,be,ze,q.width,q.height):n.renderbufferStorageMultisample(36161,be,ze,q.width,q.height)}else n.renderbufferStorage(36161,ze,q.width,q.height);n.framebufferRenderbuffer(36160,36096,36161,J)}else if(q.depthBuffer&&q.stencilBuffer){const ze=Xe(q);we&&q.useRenderbuffer?n.renderbufferStorageMultisample(36161,ze,35056,q.width,q.height):q.useRenderToTexture?L.renderbufferStorageMultisampleEXT(36161,ze,35056,q.width,q.height):n.renderbufferStorage(36161,34041,q.width,q.height),n.framebufferRenderbuffer(36160,33306,36161,J)}else{const ze=q.isWebGLMultipleRenderTargets===!0?q.texture[0]:q.texture,je=l.convert(ze.format,ze.encoding),be=l.convert(ze.type),Qe=K(ze.internalFormat,je,be,ze.encoding),Je=Xe(q);we&&q.useRenderbuffer?n.renderbufferStorageMultisample(36161,Je,Qe,q.width,q.height):q.useRenderToTexture?L.renderbufferStorageMultisampleEXT(36161,Je,Qe,q.width,q.height):n.renderbufferStorage(36161,Qe,q.width,q.height)}n.bindRenderbuffer(36161,null)}function Fe(J,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,J),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(q.depthTexture).__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),pe(q.depthTexture,0);const ze=s.get(q.depthTexture).__webglTexture,je=Xe(q);if(q.depthTexture.format===zr)q.useRenderToTexture?L.framebufferTexture2DMultisampleEXT(36160,36096,3553,ze,0,je):n.framebufferTexture2D(36160,36096,3553,ze,0);else if(q.depthTexture.format===Zs)q.useRenderToTexture?L.framebufferTexture2DMultisampleEXT(36160,33306,3553,ze,0,je):n.framebufferTexture2D(36160,33306,3553,ze,0);else throw new Error("Unknown depthTexture format")}function ct(J){const q=s.get(J),we=J.isWebGLCubeRenderTarget===!0;if(J.depthTexture&&!q.__autoAllocateDepthBuffer){if(we)throw new Error("target.depthTexture not supported in Cube render targets");Fe(q.__webglFramebuffer,J)}else if(we){q.__webglDepthbuffer=[];for(let ze=0;ze<6;ze++)t.bindFramebuffer(36160,q.__webglFramebuffer[ze]),q.__webglDepthbuffer[ze]=n.createRenderbuffer(),$e(q.__webglDepthbuffer[ze],J,!1)}else t.bindFramebuffer(36160,q.__webglFramebuffer),q.__webglDepthbuffer=n.createRenderbuffer(),$e(q.__webglDepthbuffer,J,!1);t.bindFramebuffer(36160,null)}function it(J,q,we){const ze=s.get(J);q!==void 0&&Ue(ze.__webglFramebuffer,J,J.texture,36064,3553),we!==void 0&&ct(J)}function ye(J){const q=J.texture,we=s.get(J),ze=s.get(q);J.addEventListener("dispose",Y),J.isWebGLMultipleRenderTargets!==!0&&(ze.__webglTexture===void 0&&(ze.__webglTexture=n.createTexture()),ze.__version=q.version,d.memory.textures++);const je=J.isWebGLCubeRenderTarget===!0,be=J.isWebGLMultipleRenderTargets===!0,Qe=q.isDataTexture3D||q.isDataTexture2DArray,Je=G(J)||p;if(je){we.__webglFramebuffer=[];for(let We=0;We<6;We++)we.__webglFramebuffer[We]=n.createFramebuffer()}else if(we.__webglFramebuffer=n.createFramebuffer(),be)if(a.drawBuffers){const We=J.texture;for(let He=0,ht=We.length;He<ht;He++){const ie=s.get(We[He]);ie.__webglTexture===void 0&&(ie.__webglTexture=n.createTexture(),d.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(J.useRenderbuffer)if(p){we.__webglMultisampledFramebuffer=n.createFramebuffer(),we.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,we.__webglColorRenderbuffer);const We=l.convert(q.format,q.encoding),He=l.convert(q.type),ht=K(q.internalFormat,We,He,q.encoding),ie=Xe(J);n.renderbufferStorageMultisample(36161,ie,ht,J.width,J.height),t.bindFramebuffer(36160,we.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,we.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),J.depthBuffer&&(we.__webglDepthRenderbuffer=n.createRenderbuffer(),$e(we.__webglDepthRenderbuffer,J,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(je){t.bindTexture(34067,ze.__webglTexture),Ee(34067,q,Je);for(let We=0;We<6;We++)Ue(we.__webglFramebuffer[We],J,q,36064,34069+We);H(q,Je)&&$(34067),t.unbindTexture()}else if(be){const We=J.texture;for(let He=0,ht=We.length;He<ht;He++){const ie=We[He],qe=s.get(ie);t.bindTexture(3553,qe.__webglTexture),Ee(3553,ie,Je),Ue(we.__webglFramebuffer,J,ie,36064+He,3553),H(ie,Je)&&$(3553)}t.unbindTexture()}else{let We=3553;Qe&&(p?We=q.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(We,ze.__webglTexture),Ee(We,q,Je),Ue(we.__webglFramebuffer,J,q,36064,We),H(q,Je)&&$(We),t.unbindTexture()}J.depthBuffer&&ct(J)}function De(J){const q=G(J)||p,we=J.isWebGLMultipleRenderTargets===!0?J.texture:[J.texture];for(let ze=0,je=we.length;ze<je;ze++){const be=we[ze];if(H(be,q)){const Qe=J.isWebGLCubeRenderTarget?34067:3553,Je=s.get(be).__webglTexture;t.bindTexture(Qe,Je),$(Qe),t.unbindTexture()}}}function Re(J){if(J.useRenderbuffer)if(p){const q=J.width,we=J.height;let ze=16384;const je=[36064],be=J.stencilBuffer?33306:36096;J.depthBuffer&&je.push(be),J.ignoreDepthForMultisampleCopy||(J.depthBuffer&&(ze|=256),J.stencilBuffer&&(ze|=1024));const Qe=s.get(J);t.bindFramebuffer(36008,Qe.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Qe.__webglFramebuffer),J.ignoreDepthForMultisampleCopy&&(n.invalidateFramebuffer(36008,[be]),n.invalidateFramebuffer(36009,[be])),n.blitFramebuffer(0,0,q,we,0,0,q,we,ze,9728),n.invalidateFramebuffer(36008,je),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,Qe.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Xe(J){return p&&(J.useRenderbuffer||J.useRenderToTexture)?Math.min(E,J.samples):0}function Ve(J){const q=d.render.frame;D.get(J)!==q&&(D.set(J,q),J.update())}function rt(J,q){const we=J.encoding,ze=J.format,je=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||J.format===Rd||we!==gr&&(we===Ft?p===!1?e.has("EXT_sRGB")===!0&&ze===Mn?(J.format=Rd,J.minFilter=xn,J.generateMipmaps=!1):q=qr.sRGBToLinear(q):(ze!==Mn||je!==sr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",we)),q}let tt=!1,mt=!1;function Tt(J,q){J&&J.isWebGLRenderTarget&&(tt===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),tt=!0),J=J.texture),pe(J,q)}function yt(J,q){J&&J.isWebGLCubeRenderTarget&&(mt===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),mt=!0),J=J.texture),ve(J,q)}this.allocateTextureUnit=ue,this.resetTextureUnits=he,this.setTexture2D=pe,this.setTexture2DArray=Ce,this.setTexture3D=Ne,this.setTextureCube=ve,this.rebindTextures=it,this.setupRenderTarget=ye,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=Re,this.setupDepthRenderbuffer=ct,this.setupFrameBufferTexture=Ue,this.safeSetTexture2D=Tt,this.safeSetTextureCube=yt}function iE(n,e,t){const s=t.isWebGL2;function a(l,d=null){let p;if(l===sr)return 5121;if(l===r_)return 32819;if(l===s_)return 32820;if(l===t_)return 5120;if(l===n_)return 5122;if(l===Eo)return 5123;if(l===i_)return 5124;if(l===nc)return 5125;if(l===Ir)return 5126;if(l===Hs)return s?5131:(p=e.get("OES_texture_half_float"),p!==null?p.HALF_FLOAT_OES:null);if(l===a_)return 6406;if(l===Mn)return 6408;if(l===l_)return 6409;if(l===c_)return 6410;if(l===zr)return 6402;if(l===Zs)return 34041;if(l===h_)return 6403;if(l===o_)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(l===Rd)return p=e.get("EXT_sRGB"),p!==null?p.SRGB_ALPHA_EXT:null;if(l===u_)return 36244;if(l===d_)return 33319;if(l===f_)return 33320;if(l===p_)return 36249;if(l===qh||l===$h||l===Zh||l===Jh)if(d===Ft)if(p=e.get("WEBGL_compressed_texture_s3tc_srgb"),p!==null){if(l===qh)return p.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(l===$h)return p.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(l===Zh)return p.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(l===Jh)return p.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(p=e.get("WEBGL_compressed_texture_s3tc"),p!==null){if(l===qh)return p.COMPRESSED_RGB_S3TC_DXT1_EXT;if(l===$h)return p.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(l===Zh)return p.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(l===Jh)return p.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(l===om||l===lm||l===cm||l===hm)if(p=e.get("WEBGL_compressed_texture_pvrtc"),p!==null){if(l===om)return p.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(l===lm)return p.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(l===cm)return p.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(l===hm)return p.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(l===g_)return p=e.get("WEBGL_compressed_texture_etc1"),p!==null?p.COMPRESSED_RGB_ETC1_WEBGL:null;if(l===um||l===dm)if(p=e.get("WEBGL_compressed_texture_etc"),p!==null){if(l===um)return d===Ft?p.COMPRESSED_SRGB8_ETC2:p.COMPRESSED_RGB8_ETC2;if(l===dm)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:p.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(l===fm||l===pm||l===gm||l===mm||l===xm||l===vm||l===ym||l===bm||l===wm||l===Sm||l===_m||l===Mm||l===Am||l===Cm)if(p=e.get("WEBGL_compressed_texture_astc"),p!==null){if(l===fm)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:p.COMPRESSED_RGBA_ASTC_4x4_KHR;if(l===pm)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:p.COMPRESSED_RGBA_ASTC_5x4_KHR;if(l===gm)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:p.COMPRESSED_RGBA_ASTC_5x5_KHR;if(l===mm)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:p.COMPRESSED_RGBA_ASTC_6x5_KHR;if(l===xm)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:p.COMPRESSED_RGBA_ASTC_6x6_KHR;if(l===vm)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:p.COMPRESSED_RGBA_ASTC_8x5_KHR;if(l===ym)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:p.COMPRESSED_RGBA_ASTC_8x6_KHR;if(l===bm)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:p.COMPRESSED_RGBA_ASTC_8x8_KHR;if(l===wm)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:p.COMPRESSED_RGBA_ASTC_10x5_KHR;if(l===Sm)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:p.COMPRESSED_RGBA_ASTC_10x6_KHR;if(l===_m)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:p.COMPRESSED_RGBA_ASTC_10x8_KHR;if(l===Mm)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:p.COMPRESSED_RGBA_ASTC_10x10_KHR;if(l===Am)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:p.COMPRESSED_RGBA_ASTC_12x10_KHR;if(l===Cm)return d===Ft?p.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:p.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(l===Em)if(p=e.get("EXT_texture_compression_bptc"),p!==null){if(l===Em)return d===Ft?p.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:p.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(l===Ws)return s?34042:(p=e.get("WEBGL_depth_texture"),p!==null?p.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:a}}class Ay extends _n{constructor(e=[]){super(),this.cameras=e}}Ay.prototype.isArrayCamera=!0;class qa extends Ct{constructor(){super(),this.type="Group"}}qa.prototype.isGroup=!0;const rE={type:"move"};class Cu{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new qa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new qa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new qa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,s){let a=null,l=null,d=null;const p=this._targetRay,v=this._grip,y=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(p!==null&&(a=t.getPose(e.targetRaySpace,s),a!==null&&(p.matrix.fromArray(a.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),a.linearVelocity?(p.hasLinearVelocity=!0,p.linearVelocity.copy(a.linearVelocity)):p.hasLinearVelocity=!1,a.angularVelocity?(p.hasAngularVelocity=!0,p.angularVelocity.copy(a.angularVelocity)):p.hasAngularVelocity=!1,this.dispatchEvent(rE))),y&&e.hand){d=!0;for(const N of e.hand.values()){const z=t.getJointPose(N,s);if(y.joints[N.jointName]===void 0){const S=new qa;S.matrixAutoUpdate=!1,S.visible=!1,y.joints[N.jointName]=S,y.add(S)}const C=y.joints[N.jointName];z!==null&&(C.matrix.fromArray(z.transform.matrix),C.matrix.decompose(C.position,C.rotation,C.scale),C.jointRadius=z.radius),C.visible=z!==null}const M=y.joints["index-finger-tip"],E=y.joints["thumb-tip"],T=M.position.distanceTo(E.position),L=.02,D=.005;y.inputState.pinching&&T>L+D?(y.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!y.inputState.pinching&&T<=L-D&&(y.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else v!==null&&e.gripSpace&&(l=t.getPose(e.gripSpace,s),l!==null&&(v.matrix.fromArray(l.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),l.linearVelocity?(v.hasLinearVelocity=!0,v.linearVelocity.copy(l.linearVelocity)):v.hasLinearVelocity=!1,l.angularVelocity?(v.hasAngularVelocity=!0,v.angularVelocity.copy(l.angularVelocity)):v.hasAngularVelocity=!1));return p!==null&&(p.visible=a!==null),v!==null&&(v.visible=l!==null),y!==null&&(y.visible=d!==null),this}}class zd extends nn{constructor(e,t,s,a,l,d,p,v,y,M){if(M=M!==void 0?M:zr,M!==zr&&M!==Zs)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&M===zr&&(s=Eo),s===void 0&&M===Zs&&(s=Ws),super(null,a,l,d,p,v,M,s,y),this.image={width:e,height:t},this.magFilter=p!==void 0?p:qt,this.minFilter=v!==void 0?v:qt,this.flipY=!1,this.generateMipmaps=!1}}zd.prototype.isDepthTexture=!0;class sE extends jr{constructor(e,t){super();const s=this;let a=null,l=1,d=null,p="local-floor";const v=e.extensions.has("WEBGL_multisampled_render_to_texture");let y=null,M=null,E=null,T=null,L=!1,D=null;const N=t.getContextAttributes();let z=null,C=null;const S=[],G=new Map,W=new _n;W.layers.enable(1),W.viewport=new Mt;const H=new _n;H.layers.enable(2),H.viewport=new Mt;const $=[W,H],K=new Ay;K.layers.enable(1),K.layers.enable(2);let le=null,ge=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ve){let ne=S[ve];return ne===void 0&&(ne=new Cu,S[ve]=ne),ne.getTargetRaySpace()},this.getControllerGrip=function(ve){let ne=S[ve];return ne===void 0&&(ne=new Cu,S[ve]=ne),ne.getGripSpace()},this.getHand=function(ve){let ne=S[ve];return ne===void 0&&(ne=new Cu,S[ve]=ne),ne.getHandSpace()};function me(ve){const ne=G.get(ve.inputSource);ne&&ne.dispatchEvent({type:ve.type,data:ve.inputSource})}function Y(){G.forEach(function(ve,ne){ve.disconnect(ne)}),G.clear(),le=null,ge=null,e.setRenderTarget(z),T=null,E=null,M=null,a=null,C=null,Ne.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ve){l=ve,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ve){p=ve,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d},this.getBaseLayer=function(){return E!==null?E:T},this.getBinding=function(){return M},this.getFrame=function(){return D},this.getSession=function(){return a},this.setSession=async function(ve){if(a=ve,a!==null){if(z=e.getRenderTarget(),a.addEventListener("select",me),a.addEventListener("selectstart",me),a.addEventListener("selectend",me),a.addEventListener("squeeze",me),a.addEventListener("squeezestart",me),a.addEventListener("squeezeend",me),a.addEventListener("end",Y),a.addEventListener("inputsourceschange",re),N.xrCompatible!==!0&&await t.makeXRCompatible(),a.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ne={antialias:a.renderState.layers===void 0?N.antialias:!0,alpha:N.alpha,depth:N.depth,stencil:N.stencil,framebufferScaleFactor:l};T=new XRWebGLLayer(a,t,ne),a.updateRenderState({baseLayer:T}),C=new qn(T.framebufferWidth,T.framebufferHeight,{format:Mn,type:sr,encoding:e.outputEncoding})}else{L=N.antialias;let ne=null,xe=null,Ee=null;N.depth&&(Ee=N.stencil?35056:33190,ne=N.stencil?Zs:zr,xe=N.stencil?Ws:Eo);const Ie={colorFormat:e.outputEncoding===Ft?35907:32856,depthFormat:Ee,scaleFactor:l};M=new XRWebGLBinding(a,t),E=M.createProjectionLayer(Ie),a.updateRenderState({layers:[E]}),L?C=new Zf(E.textureWidth,E.textureHeight,{format:Mn,type:sr,depthTexture:new zd(E.textureWidth,E.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,ne),stencilBuffer:N.stencil,ignoreDepth:E.ignoreDepthValues,useRenderToTexture:v,encoding:e.outputEncoding}):C=new qn(E.textureWidth,E.textureHeight,{format:Mn,type:sr,depthTexture:new zd(E.textureWidth,E.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,ne),stencilBuffer:N.stencil,ignoreDepth:E.ignoreDepthValues,encoding:e.outputEncoding})}C.isXRRenderTarget=!0,this.setFoveation(1),d=await a.requestReferenceSpace(p),Ne.setContext(a),Ne.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}};function re(ve){const ne=a.inputSources;for(let xe=0;xe<S.length;xe++)G.set(ne[xe],S[xe]);for(let xe=0;xe<ve.removed.length;xe++){const Ee=ve.removed[xe],Ie=G.get(Ee);Ie&&(Ie.dispatchEvent({type:"disconnected",data:Ee}),G.delete(Ee))}for(let xe=0;xe<ve.added.length;xe++){const Ee=ve.added[xe],Ie=G.get(Ee);Ie&&Ie.dispatchEvent({type:"connected",data:Ee})}}const se=new Q,ae=new Q;function he(ve,ne,xe){se.setFromMatrixPosition(ne.matrixWorld),ae.setFromMatrixPosition(xe.matrixWorld);const Ee=se.distanceTo(ae),Ie=ne.projectionMatrix.elements,ce=xe.projectionMatrix.elements,dt=Ie[14]/(Ie[10]-1),Ue=Ie[14]/(Ie[10]+1),$e=(Ie[9]+1)/Ie[5],Fe=(Ie[9]-1)/Ie[5],ct=(Ie[8]-1)/Ie[0],it=(ce[8]+1)/ce[0],ye=dt*ct,De=dt*it,Re=Ee/(-ct+it),Xe=Re*-ct;ne.matrixWorld.decompose(ve.position,ve.quaternion,ve.scale),ve.translateX(Xe),ve.translateZ(Re),ve.matrixWorld.compose(ve.position,ve.quaternion,ve.scale),ve.matrixWorldInverse.copy(ve.matrixWorld).invert();const Ve=dt+Re,rt=Ue+Re,tt=ye-Xe,mt=De+(Ee-Xe),Tt=$e*Ue/rt*Ve,yt=Fe*Ue/rt*Ve;ve.projectionMatrix.makePerspective(tt,mt,Tt,yt,Ve,rt)}function ue(ve,ne){ne===null?ve.matrixWorld.copy(ve.matrix):ve.matrixWorld.multiplyMatrices(ne.matrixWorld,ve.matrix),ve.matrixWorldInverse.copy(ve.matrixWorld).invert()}this.updateCamera=function(ve){if(a===null)return;K.near=H.near=W.near=ve.near,K.far=H.far=W.far=ve.far,(le!==K.near||ge!==K.far)&&(a.updateRenderState({depthNear:K.near,depthFar:K.far}),le=K.near,ge=K.far);const ne=ve.parent,xe=K.cameras;ue(K,ne);for(let Ie=0;Ie<xe.length;Ie++)ue(xe[Ie],ne);K.matrixWorld.decompose(K.position,K.quaternion,K.scale),ve.position.copy(K.position),ve.quaternion.copy(K.quaternion),ve.scale.copy(K.scale),ve.matrix.copy(K.matrix),ve.matrixWorld.copy(K.matrixWorld);const Ee=ve.children;for(let Ie=0,ce=Ee.length;Ie<ce;Ie++)Ee[Ie].updateMatrixWorld(!0);xe.length===2?he(K,W,H):K.projectionMatrix.copy(W.projectionMatrix)},this.getCamera=function(){return K},this.getFoveation=function(){if(E!==null)return E.fixedFoveation;if(T!==null)return T.fixedFoveation},this.setFoveation=function(ve){E!==null&&(E.fixedFoveation=ve),T!==null&&T.fixedFoveation!==void 0&&(T.fixedFoveation=ve)};let pe=null;function Ce(ve,ne){if(y=ne.getViewerPose(d),D=ne,y!==null){const Ee=y.views;T!==null&&(e.setRenderTargetFramebuffer(C,T.framebuffer),e.setRenderTarget(C));let Ie=!1;Ee.length!==K.cameras.length&&(K.cameras.length=0,Ie=!0);for(let ce=0;ce<Ee.length;ce++){const dt=Ee[ce];let Ue=null;if(T!==null)Ue=T.getViewport(dt);else{const Fe=M.getViewSubImage(E,dt);Ue=Fe.viewport,ce===0&&(e.setRenderTargetTextures(C,Fe.colorTexture,E.ignoreDepthValues?void 0:Fe.depthStencilTexture),e.setRenderTarget(C))}const $e=$[ce];$e.matrix.fromArray(dt.transform.matrix),$e.projectionMatrix.fromArray(dt.projectionMatrix),$e.viewport.set(Ue.x,Ue.y,Ue.width,Ue.height),ce===0&&K.matrix.copy($e.matrix),Ie===!0&&K.cameras.push($e)}}const xe=a.inputSources;for(let Ee=0;Ee<S.length;Ee++){const Ie=S[Ee],ce=xe[Ee];Ie.update(ce,ne,d)}pe&&pe(ve,ne),D=null}const Ne=new uy;Ne.setAnimationLoop(Ce),this.setAnimationLoop=function(ve){pe=ve},this.dispose=function(){}}}function aE(n){function e(C,S){C.fogColor.value.copy(S.color),S.isFog?(C.fogNear.value=S.near,C.fogFar.value=S.far):S.isFogExp2&&(C.fogDensity.value=S.density)}function t(C,S,G,W,H){S.isMeshBasicMaterial?s(C,S):S.isMeshLambertMaterial?(s(C,S),v(C,S)):S.isMeshToonMaterial?(s(C,S),M(C,S)):S.isMeshPhongMaterial?(s(C,S),y(C,S)):S.isMeshStandardMaterial?(s(C,S),S.isMeshPhysicalMaterial?T(C,S,H):E(C,S)):S.isMeshMatcapMaterial?(s(C,S),L(C,S)):S.isMeshDepthMaterial?(s(C,S),D(C,S)):S.isMeshDistanceMaterial?(s(C,S),N(C,S)):S.isMeshNormalMaterial?(s(C,S),z(C,S)):S.isLineBasicMaterial?(a(C,S),S.isLineDashedMaterial&&l(C,S)):S.isPointsMaterial?d(C,S,G,W):S.isSpriteMaterial?p(C,S):S.isShadowMaterial?(C.color.value.copy(S.color),C.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function s(C,S){C.opacity.value=S.opacity,S.color&&C.diffuse.value.copy(S.color),S.emissive&&C.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(C.map.value=S.map),S.alphaMap&&(C.alphaMap.value=S.alphaMap),S.specularMap&&(C.specularMap.value=S.specularMap),S.alphaTest>0&&(C.alphaTest.value=S.alphaTest);const G=n.get(S).envMap;G&&(C.envMap.value=G,C.flipEnvMap.value=G.isCubeTexture&&G.isRenderTargetTexture===!1?-1:1,C.reflectivity.value=S.reflectivity,C.ior.value=S.ior,C.refractionRatio.value=S.refractionRatio),S.lightMap&&(C.lightMap.value=S.lightMap,C.lightMapIntensity.value=S.lightMapIntensity),S.aoMap&&(C.aoMap.value=S.aoMap,C.aoMapIntensity.value=S.aoMapIntensity);let W;S.map?W=S.map:S.specularMap?W=S.specularMap:S.displacementMap?W=S.displacementMap:S.normalMap?W=S.normalMap:S.bumpMap?W=S.bumpMap:S.roughnessMap?W=S.roughnessMap:S.metalnessMap?W=S.metalnessMap:S.alphaMap?W=S.alphaMap:S.emissiveMap?W=S.emissiveMap:S.clearcoatMap?W=S.clearcoatMap:S.clearcoatNormalMap?W=S.clearcoatNormalMap:S.clearcoatRoughnessMap?W=S.clearcoatRoughnessMap:S.specularIntensityMap?W=S.specularIntensityMap:S.specularColorMap?W=S.specularColorMap:S.transmissionMap?W=S.transmissionMap:S.thicknessMap?W=S.thicknessMap:S.sheenColorMap?W=S.sheenColorMap:S.sheenRoughnessMap&&(W=S.sheenRoughnessMap),W!==void 0&&(W.isWebGLRenderTarget&&(W=W.texture),W.matrixAutoUpdate===!0&&W.updateMatrix(),C.uvTransform.value.copy(W.matrix));let H;S.aoMap?H=S.aoMap:S.lightMap&&(H=S.lightMap),H!==void 0&&(H.isWebGLRenderTarget&&(H=H.texture),H.matrixAutoUpdate===!0&&H.updateMatrix(),C.uv2Transform.value.copy(H.matrix))}function a(C,S){C.diffuse.value.copy(S.color),C.opacity.value=S.opacity}function l(C,S){C.dashSize.value=S.dashSize,C.totalSize.value=S.dashSize+S.gapSize,C.scale.value=S.scale}function d(C,S,G,W){C.diffuse.value.copy(S.color),C.opacity.value=S.opacity,C.size.value=S.size*G,C.scale.value=W*.5,S.map&&(C.map.value=S.map),S.alphaMap&&(C.alphaMap.value=S.alphaMap),S.alphaTest>0&&(C.alphaTest.value=S.alphaTest);let H;S.map?H=S.map:S.alphaMap&&(H=S.alphaMap),H!==void 0&&(H.matrixAutoUpdate===!0&&H.updateMatrix(),C.uvTransform.value.copy(H.matrix))}function p(C,S){C.diffuse.value.copy(S.color),C.opacity.value=S.opacity,C.rotation.value=S.rotation,S.map&&(C.map.value=S.map),S.alphaMap&&(C.alphaMap.value=S.alphaMap),S.alphaTest>0&&(C.alphaTest.value=S.alphaTest);let G;S.map?G=S.map:S.alphaMap&&(G=S.alphaMap),G!==void 0&&(G.matrixAutoUpdate===!0&&G.updateMatrix(),C.uvTransform.value.copy(G.matrix))}function v(C,S){S.emissiveMap&&(C.emissiveMap.value=S.emissiveMap)}function y(C,S){C.specular.value.copy(S.specular),C.shininess.value=Math.max(S.shininess,1e-4),S.emissiveMap&&(C.emissiveMap.value=S.emissiveMap),S.bumpMap&&(C.bumpMap.value=S.bumpMap,C.bumpScale.value=S.bumpScale,S.side===Gt&&(C.bumpScale.value*=-1)),S.normalMap&&(C.normalMap.value=S.normalMap,C.normalScale.value.copy(S.normalScale),S.side===Gt&&C.normalScale.value.negate()),S.displacementMap&&(C.displacementMap.value=S.displacementMap,C.displacementScale.value=S.displacementScale,C.displacementBias.value=S.displacementBias)}function M(C,S){S.gradientMap&&(C.gradientMap.value=S.gradientMap),S.emissiveMap&&(C.emissiveMap.value=S.emissiveMap),S.bumpMap&&(C.bumpMap.value=S.bumpMap,C.bumpScale.value=S.bumpScale,S.side===Gt&&(C.bumpScale.value*=-1)),S.normalMap&&(C.normalMap.value=S.normalMap,C.normalScale.value.copy(S.normalScale),S.side===Gt&&C.normalScale.value.negate()),S.displacementMap&&(C.displacementMap.value=S.displacementMap,C.displacementScale.value=S.displacementScale,C.displacementBias.value=S.displacementBias)}function E(C,S){C.roughness.value=S.roughness,C.metalness.value=S.metalness,S.roughnessMap&&(C.roughnessMap.value=S.roughnessMap),S.metalnessMap&&(C.metalnessMap.value=S.metalnessMap),S.emissiveMap&&(C.emissiveMap.value=S.emissiveMap),S.bumpMap&&(C.bumpMap.value=S.bumpMap,C.bumpScale.value=S.bumpScale,S.side===Gt&&(C.bumpScale.value*=-1)),S.normalMap&&(C.normalMap.value=S.normalMap,C.normalScale.value.copy(S.normalScale),S.side===Gt&&C.normalScale.value.negate()),S.displacementMap&&(C.displacementMap.value=S.displacementMap,C.displacementScale.value=S.displacementScale,C.displacementBias.value=S.displacementBias),n.get(S).envMap&&(C.envMapIntensity.value=S.envMapIntensity)}function T(C,S,G){E(C,S),C.ior.value=S.ior,S.sheen>0&&(C.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),C.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(C.sheenColorMap.value=S.sheenColorMap),S.sheenRoughnessMap&&(C.sheenRoughnessMap.value=S.sheenRoughnessMap)),S.clearcoat>0&&(C.clearcoat.value=S.clearcoat,C.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(C.clearcoatMap.value=S.clearcoatMap),S.clearcoatRoughnessMap&&(C.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap),S.clearcoatNormalMap&&(C.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),C.clearcoatNormalMap.value=S.clearcoatNormalMap,S.side===Gt&&C.clearcoatNormalScale.value.negate())),S.transmission>0&&(C.transmission.value=S.transmission,C.transmissionSamplerMap.value=G.texture,C.transmissionSamplerSize.value.set(G.width,G.height),S.transmissionMap&&(C.transmissionMap.value=S.transmissionMap),C.thickness.value=S.thickness,S.thicknessMap&&(C.thicknessMap.value=S.thicknessMap),C.attenuationDistance.value=S.attenuationDistance,C.attenuationColor.value.copy(S.attenuationColor)),C.specularIntensity.value=S.specularIntensity,C.specularColor.value.copy(S.specularColor),S.specularIntensityMap&&(C.specularIntensityMap.value=S.specularIntensityMap),S.specularColorMap&&(C.specularColorMap.value=S.specularColorMap)}function L(C,S){S.matcap&&(C.matcap.value=S.matcap),S.bumpMap&&(C.bumpMap.value=S.bumpMap,C.bumpScale.value=S.bumpScale,S.side===Gt&&(C.bumpScale.value*=-1)),S.normalMap&&(C.normalMap.value=S.normalMap,C.normalScale.value.copy(S.normalScale),S.side===Gt&&C.normalScale.value.negate()),S.displacementMap&&(C.displacementMap.value=S.displacementMap,C.displacementScale.value=S.displacementScale,C.displacementBias.value=S.displacementBias)}function D(C,S){S.displacementMap&&(C.displacementMap.value=S.displacementMap,C.displacementScale.value=S.displacementScale,C.displacementBias.value=S.displacementBias)}function N(C,S){S.displacementMap&&(C.displacementMap.value=S.displacementMap,C.displacementScale.value=S.displacementScale,C.displacementBias.value=S.displacementBias),C.referencePosition.value.copy(S.referencePosition),C.nearDistance.value=S.nearDistance,C.farDistance.value=S.farDistance}function z(C,S){S.bumpMap&&(C.bumpMap.value=S.bumpMap,C.bumpScale.value=S.bumpScale,S.side===Gt&&(C.bumpScale.value*=-1)),S.normalMap&&(C.normalMap.value=S.normalMap,C.normalScale.value.copy(S.normalScale),S.side===Gt&&C.normalScale.value.negate()),S.displacementMap&&(C.displacementMap.value=S.displacementMap,C.displacementScale.value=S.displacementScale,C.displacementBias.value=S.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function oE(){const n=ko("canvas");return n.style.display="block",n}function Et(n={}){const e=n.canvas!==void 0?n.canvas:oE(),t=n.context!==void 0?n.context:null,s=n.alpha!==void 0?n.alpha:!1,a=n.depth!==void 0?n.depth:!0,l=n.stencil!==void 0?n.stencil:!0,d=n.antialias!==void 0?n.antialias:!1,p=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,v=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,y=n.powerPreference!==void 0?n.powerPreference:"default",M=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let E=null,T=null;const L=[],D=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=gr,this.physicallyCorrectLights=!1,this.toneMapping=rr,this.toneMappingExposure=1;const N=this;let z=!1,C=0,S=0,G=null,W=-1,H=null;const $=new Mt,K=new Mt;let le=null,ge=e.width,me=e.height,Y=1,re=null,se=null;const ae=new Mt(0,0,ge,me),he=new Mt(0,0,ge,me);let ue=!1;const pe=new oh;let Ce=!1,Ne=!1,ve=null;const ne=new nt,xe=new Q,Ee={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ie(){return G===null?Y:1}let ce=t;function dt(Z,oe){for(let fe=0;fe<Z.length;fe++){const de=Z[fe],Ae=e.getContext(de,oe);if(Ae!==null)return Ae}return null}try{const Z={alpha:!0,depth:a,stencil:l,antialias:d,premultipliedAlpha:p,preserveDrawingBuffer:v,powerPreference:y,failIfMajorPerformanceCaveat:M};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${jf}`),e.addEventListener("webglcontextlost",ht,!1),e.addEventListener("webglcontextrestored",ie,!1),ce===null){const oe=["webgl2","webgl","experimental-webgl"];if(N.isWebGL1Renderer===!0&&oe.shift(),ce=dt(oe,Z),ce===null)throw dt(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ce.getShaderPrecisionFormat===void 0&&(ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let Ue,$e,Fe,ct,it,ye,De,Re,Xe,Ve,rt,tt,mt,Tt,yt,J,q,we,ze,je,be,Qe,Je;function We(){Ue=new CC(ce),$e=new bC(ce,Ue,n),Ue.init($e),Qe=new iE(ce,Ue,$e),Fe=new tE(ce,Ue,$e),ct=new kC,it=new G3,ye=new nE(ce,Ue,Fe,it,$e,Qe,ct),De=new SC(N),Re=new AC(N),Xe=new G_(ce,$e),Je=new vC(ce,Ue,Xe,$e),Ve=new EC(ce,Xe,ct,Je),rt=new IC(ce,Ve,Xe,ct),ze=new RC(ce,$e,ye),J=new wC(it),tt=new U3(N,De,Re,Ue,$e,Je,J),mt=new aE(it),Tt=new Y3,yt=new Q3(Ue,$e),we=new xC(N,De,Fe,rt,s,p),q=new My(N,rt,$e),je=new yC(ce,Ue,ct,$e),be=new TC(ce,Ue,ct,$e),ct.programs=tt.programs,N.capabilities=$e,N.extensions=Ue,N.properties=it,N.renderLists=Tt,N.shadowMap=q,N.state=Fe,N.info=ct}We();const He=new sE(N,ce);this.xr=He,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const Z=Ue.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=Ue.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(Z){Z!==void 0&&(Y=Z,this.setSize(ge,me,!1))},this.getSize=function(Z){return Z.set(ge,me)},this.setSize=function(Z,oe,fe){if(He.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ge=Z,me=oe,e.width=Math.floor(Z*Y),e.height=Math.floor(oe*Y),fe!==!1&&(e.style.width=Z+"px",e.style.height=oe+"px"),this.setViewport(0,0,Z,oe)},this.getDrawingBufferSize=function(Z){return Z.set(ge*Y,me*Y).floor()},this.setDrawingBufferSize=function(Z,oe,fe){ge=Z,me=oe,Y=fe,e.width=Math.floor(Z*fe),e.height=Math.floor(oe*fe),this.setViewport(0,0,Z,oe)},this.getCurrentViewport=function(Z){return Z.copy($)},this.getViewport=function(Z){return Z.copy(ae)},this.setViewport=function(Z,oe,fe,de){Z.isVector4?ae.set(Z.x,Z.y,Z.z,Z.w):ae.set(Z,oe,fe,de),Fe.viewport($.copy(ae).multiplyScalar(Y).floor())},this.getScissor=function(Z){return Z.copy(he)},this.setScissor=function(Z,oe,fe,de){Z.isVector4?he.set(Z.x,Z.y,Z.z,Z.w):he.set(Z,oe,fe,de),Fe.scissor(K.copy(he).multiplyScalar(Y).floor())},this.getScissorTest=function(){return ue},this.setScissorTest=function(Z){Fe.setScissorTest(ue=Z)},this.setOpaqueSort=function(Z){re=Z},this.setTransparentSort=function(Z){se=Z},this.getClearColor=function(Z){return Z.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor.apply(we,arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha.apply(we,arguments)},this.clear=function(Z,oe,fe){let de=0;(Z===void 0||Z)&&(de|=16384),(oe===void 0||oe)&&(de|=256),(fe===void 0||fe)&&(de|=1024),ce.clear(de)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ht,!1),e.removeEventListener("webglcontextrestored",ie,!1),Tt.dispose(),yt.dispose(),it.dispose(),De.dispose(),Re.dispose(),rt.dispose(),Je.dispose(),tt.dispose(),He.dispose(),He.removeEventListener("sessionstart",pt),He.removeEventListener("sessionend",bt),ve&&(ve.dispose(),ve=null),un.stop()};function ht(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),z=!0}function ie(){console.log("THREE.WebGLRenderer: Context Restored."),z=!1;const Z=ct.autoReset,oe=q.enabled,fe=q.autoUpdate,de=q.needsUpdate,Ae=q.type;We(),ct.autoReset=Z,q.enabled=oe,q.autoUpdate=fe,q.needsUpdate=de,q.type=Ae}function qe(Z){const oe=Z.target;oe.removeEventListener("dispose",qe),Ge(oe)}function Ge(Z){st(Z),it.remove(Z)}function st(Z){const oe=it.get(Z).programs;oe!==void 0&&(oe.forEach(function(fe){tt.releaseProgram(fe)}),Z.isShaderMaterial&&tt.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,oe,fe,de,Ae,at){oe===null&&(oe=Ee);const ot=Ae.isMesh&&Ae.matrixWorld.determinant()<0,ft=fh(Z,oe,fe,de,Ae);Fe.setMaterial(de,ot);let ut=fe.index;const vt=fe.attributes.position;if(ut===null){if(vt===void 0||vt.count===0)return}else if(ut.count===0)return;let F=1;de.wireframe===!0&&(ut=Ve.getWireframeAttribute(fe),F=2),Je.setup(Ae,de,ft,fe,ut);let i,r=je;ut!==null&&(i=Xe.get(ut),r=be,r.setIndex(i));const o=ut!==null?ut.count:vt.count,c=fe.drawRange.start*F,h=fe.drawRange.count*F,f=at!==null?at.start*F:0,u=at!==null?at.count*F:1/0,g=Math.max(c,f),x=Math.min(o,c+h,f+u)-1,b=Math.max(0,x-g+1);if(b!==0){if(Ae.isMesh)de.wireframe===!0?(Fe.setLineWidth(de.wireframeLinewidth*Ie()),r.setMode(1)):r.setMode(4);else if(Ae.isLine){let w=de.linewidth;w===void 0&&(w=1),Fe.setLineWidth(w*Ie()),Ae.isLineSegments?r.setMode(1):Ae.isLineLoop?r.setMode(2):r.setMode(3)}else Ae.isPoints?r.setMode(0):Ae.isSprite&&r.setMode(4);if(Ae.isInstancedMesh)r.renderInstances(g,b,Ae.count);else if(fe.isInstancedBufferGeometry){const w=Math.min(fe.instanceCount,fe._maxInstanceCount);r.renderInstances(g,b,w)}else r.render(g,b)}},this.compile=function(Z,oe){T=yt.get(Z),T.init(),D.push(T),Z.traverseVisible(function(fe){fe.isLight&&fe.layers.test(oe.layers)&&(T.pushLight(fe),fe.castShadow&&T.pushShadow(fe))}),T.setupLights(N.physicallyCorrectLights),Z.traverse(function(fe){const de=fe.material;if(de)if(Array.isArray(de))for(let Ae=0;Ae<de.length;Ae++){const at=de[Ae];pa(at,Z,fe)}else pa(de,Z,fe)}),D.pop(),T=null};let Me=null;function Ke(Z){Me&&Me(Z)}function pt(){un.stop()}function bt(){un.start()}const un=new uy;un.setAnimationLoop(Ke),typeof window!="undefined"&&un.setContext(window),this.setAnimationLoop=function(Z){Me=Z,He.setAnimationLoop(Z),Z===null?un.stop():un.start()},He.addEventListener("sessionstart",pt),He.addEventListener("sessionend",bt),this.render=function(Z,oe){if(oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(z===!0)return;Z.autoUpdate===!0&&Z.updateMatrixWorld(),oe.parent===null&&oe.updateMatrixWorld(),He.enabled===!0&&He.isPresenting===!0&&(He.cameraAutoUpdate===!0&&He.updateCamera(oe),oe=He.getCamera()),Z.isScene===!0&&Z.onBeforeRender(N,Z,oe,G),T=yt.get(Z,D.length),T.init(),D.push(T),ne.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),pe.setFromProjectionMatrix(ne),Ne=this.localClippingEnabled,Ce=J.init(this.clippingPlanes,Ne,oe),E=Tt.get(Z,L.length),E.init(),L.push(E),kt(Z,oe,0,N.sortObjects),E.finish(),N.sortObjects===!0&&E.sort(re,se),Ce===!0&&J.beginShadows();const fe=T.state.shadowsArray;if(q.render(fe,Z,oe),Ce===!0&&J.endShadows(),this.info.autoReset===!0&&this.info.reset(),we.render(E,Z),T.setupLights(N.physicallyCorrectLights),oe.isArrayCamera){const de=oe.cameras;for(let Ae=0,at=de.length;Ae<at;Ae++){const ot=de[Ae];Nn(E,Z,ot,ot.viewport)}}else Nn(E,Z,oe);G!==null&&(ye.updateMultisampleRenderTarget(G),ye.updateRenderTargetMipmap(G)),Z.isScene===!0&&Z.onAfterRender(N,Z,oe),Fe.buffers.depth.setTest(!0),Fe.buffers.depth.setMask(!0),Fe.buffers.color.setMask(!0),Fe.setPolygonOffset(!1),Je.resetDefaultState(),W=-1,H=null,D.pop(),D.length>0?T=D[D.length-1]:T=null,L.pop(),L.length>0?E=L[L.length-1]:E=null};function kt(Z,oe,fe,de){if(Z.visible===!1)return;if(Z.layers.test(oe.layers)){if(Z.isGroup)fe=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(oe);else if(Z.isLight)T.pushLight(Z),Z.castShadow&&T.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||pe.intersectsSprite(Z)){de&&xe.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(ne);const ot=rt.update(Z),ft=Z.material;ft.visible&&E.push(Z,ot,ft,fe,xe.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(Z.isSkinnedMesh&&Z.skeleton.frame!==ct.render.frame&&(Z.skeleton.update(),Z.skeleton.frame=ct.render.frame),!Z.frustumCulled||pe.intersectsObject(Z))){de&&xe.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(ne);const ot=rt.update(Z),ft=Z.material;if(Array.isArray(ft)){const ut=ot.groups;for(let vt=0,F=ut.length;vt<F;vt++){const i=ut[vt],r=ft[i.materialIndex];r&&r.visible&&E.push(Z,ot,r,fe,xe.z,i)}}else ft.visible&&E.push(Z,ot,ft,fe,xe.z,null)}}const at=Z.children;for(let ot=0,ft=at.length;ot<ft;ot++)kt(at[ot],oe,fe,de)}function Nn(Z,oe,fe,de){const Ae=Z.opaque,at=Z.transmissive,ot=Z.transparent;T.setupLightsView(fe),at.length>0&&Kn(Ae,oe,fe),de&&Fe.viewport($.copy(de)),Ae.length>0&&Sr(Ae,oe,fe),at.length>0&&Sr(at,oe,fe),ot.length>0&&Sr(ot,oe,fe)}function Kn(Z,oe,fe){if(ve===null){const ot=d===!0&&$e.isWebGL2===!0?Zf:qn;ve=new ot(1024,1024,{generateMipmaps:!0,type:Qe.convert(Hs)!==null?Hs:sr,minFilter:rh,magFilter:qt,wrapS:Wn,wrapT:Wn,useRenderToTexture:Ue.has("WEBGL_multisampled_render_to_texture")})}const de=N.getRenderTarget();N.setRenderTarget(ve),N.clear();const Ae=N.toneMapping;N.toneMapping=rr,Sr(Z,oe,fe),N.toneMapping=Ae,ye.updateMultisampleRenderTarget(ve),ye.updateRenderTargetMipmap(ve),N.setRenderTarget(de)}function Sr(Z,oe,fe){const de=oe.isScene===!0?oe.overrideMaterial:null;for(let Ae=0,at=Z.length;Ae<at;Ae++){const ot=Z[Ae],ft=ot.object,ut=ot.geometry,vt=de===null?ot.material:de,F=ot.group;ft.layers.test(fe.layers)&&$o(ft,oe,fe,ut,vt,F)}}function $o(Z,oe,fe,de,Ae,at){Z.onBeforeRender(N,oe,fe,de,Ae,at),Z.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),Ae.onBeforeRender(N,oe,fe,de,Z,at),Ae.transparent===!0&&Ae.side===$s?(Ae.side=Gt,Ae.needsUpdate=!0,N.renderBufferDirect(fe,oe,de,Ae,Z,at),Ae.side=Co,Ae.needsUpdate=!0,N.renderBufferDirect(fe,oe,de,Ae,Z,at),Ae.side=$s):N.renderBufferDirect(fe,oe,de,Ae,Z,at),Z.onAfterRender(N,oe,fe,de,Ae,at)}function pa(Z,oe,fe){oe.isScene!==!0&&(oe=Ee);const de=it.get(Z),Ae=T.state.lights,at=T.state.shadowsArray,ot=Ae.state.version,ft=tt.getParameters(Z,Ae.state,at,oe,fe),ut=tt.getProgramCacheKey(ft);let vt=de.programs;de.environment=Z.isMeshStandardMaterial?oe.environment:null,de.fog=oe.fog,de.envMap=(Z.isMeshStandardMaterial?Re:De).get(Z.envMap||de.environment),vt===void 0&&(Z.addEventListener("dispose",qe),vt=new Map,de.programs=vt);let F=vt.get(ut);if(F!==void 0){if(de.currentProgram===F&&de.lightsStateVersion===ot)return Zo(Z,ft),F}else ft.uniforms=tt.getUniforms(Z),Z.onBuild(fe,ft,N),Z.onBeforeCompile(ft,N),F=tt.acquireProgram(ft,ut),vt.set(ut,F),de.uniforms=ft.uniforms;const i=de.uniforms;(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(i.clippingPlanes=J.uniform),Zo(Z,ft),de.needsLights=ga(Z),de.lightsStateVersion=ot,de.needsLights&&(i.ambientLightColor.value=Ae.state.ambient,i.lightProbe.value=Ae.state.probe,i.directionalLights.value=Ae.state.directional,i.directionalLightShadows.value=Ae.state.directionalShadow,i.spotLights.value=Ae.state.spot,i.spotLightShadows.value=Ae.state.spotShadow,i.rectAreaLights.value=Ae.state.rectArea,i.ltc_1.value=Ae.state.rectAreaLTC1,i.ltc_2.value=Ae.state.rectAreaLTC2,i.pointLights.value=Ae.state.point,i.pointLightShadows.value=Ae.state.pointShadow,i.hemisphereLights.value=Ae.state.hemi,i.directionalShadowMap.value=Ae.state.directionalShadowMap,i.directionalShadowMatrix.value=Ae.state.directionalShadowMatrix,i.spotShadowMap.value=Ae.state.spotShadowMap,i.spotShadowMatrix.value=Ae.state.spotShadowMatrix,i.pointShadowMap.value=Ae.state.pointShadowMap,i.pointShadowMatrix.value=Ae.state.pointShadowMatrix);const r=F.getUniforms(),o=or.seqWithValue(r.seq,i);return de.currentProgram=F,de.uniformsList=o,F}function Zo(Z,oe){const fe=it.get(Z);fe.outputEncoding=oe.outputEncoding,fe.instancing=oe.instancing,fe.skinning=oe.skinning,fe.morphTargets=oe.morphTargets,fe.morphNormals=oe.morphNormals,fe.morphTargetsCount=oe.morphTargetsCount,fe.numClippingPlanes=oe.numClippingPlanes,fe.numIntersection=oe.numClipIntersection,fe.vertexAlphas=oe.vertexAlphas,fe.vertexTangents=oe.vertexTangents,fe.toneMapping=oe.toneMapping}function fh(Z,oe,fe,de,Ae){oe.isScene!==!0&&(oe=Ee),ye.resetTextureUnits();const at=oe.fog,ot=de.isMeshStandardMaterial?oe.environment:null,ft=G===null?N.outputEncoding:G.isXRRenderTarget===!0?G.texture.encoding:gr,ut=(de.isMeshStandardMaterial?Re:De).get(de.envMap||ot),vt=de.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,F=!!de.normalMap&&!!fe.attributes.tangent,i=!!fe.morphAttributes.position,r=!!fe.morphAttributes.normal,o=fe.morphAttributes.position?fe.morphAttributes.position.length:0,c=de.toneMapped?N.toneMapping:rr,h=it.get(de),f=T.state.lights;if(Ce===!0&&(Ne===!0||Z!==H)){const P=Z===H&&de.id===W;J.setState(de,Z,P)}let u=!1;de.version===h.__version?(h.needsLights&&h.lightsStateVersion!==f.state.version||h.outputEncoding!==ft||Ae.isInstancedMesh&&h.instancing===!1||!Ae.isInstancedMesh&&h.instancing===!0||Ae.isSkinnedMesh&&h.skinning===!1||!Ae.isSkinnedMesh&&h.skinning===!0||h.envMap!==ut||de.fog&&h.fog!==at||h.numClippingPlanes!==void 0&&(h.numClippingPlanes!==J.numPlanes||h.numIntersection!==J.numIntersection)||h.vertexAlphas!==vt||h.vertexTangents!==F||h.morphTargets!==i||h.morphNormals!==r||h.toneMapping!==c||$e.isWebGL2===!0&&h.morphTargetsCount!==o)&&(u=!0):(u=!0,h.__version=de.version);let g=h.currentProgram;u===!0&&(g=pa(de,oe,Ae));let x=!1,b=!1,w=!1;const _=g.getUniforms(),k=h.uniforms;if(Fe.useProgram(g.program)&&(x=!0,b=!0,w=!0),de.id!==W&&(W=de.id,b=!0),x||H!==Z){if(_.setValue(ce,"projectionMatrix",Z.projectionMatrix),$e.logarithmicDepthBuffer&&_.setValue(ce,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),H!==Z&&(H=Z,b=!0,w=!0),de.isShaderMaterial||de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshStandardMaterial||de.envMap){const P=_.map.cameraPosition;P!==void 0&&P.setValue(ce,xe.setFromMatrixPosition(Z.matrixWorld))}(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial)&&_.setValue(ce,"isOrthographic",Z.isOrthographicCamera===!0),(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial||de.isShadowMaterial||Ae.isSkinnedMesh)&&_.setValue(ce,"viewMatrix",Z.matrixWorldInverse)}if(Ae.isSkinnedMesh){_.setOptional(ce,Ae,"bindMatrix"),_.setOptional(ce,Ae,"bindMatrixInverse");const P=Ae.skeleton;P&&($e.floatVertexTextures?(P.boneTexture===null&&P.computeBoneTexture(),_.setValue(ce,"boneTexture",P.boneTexture,ye),_.setValue(ce,"boneTextureSize",P.boneTextureSize)):_.setOptional(ce,P,"boneMatrices"))}return!!fe&&(fe.morphAttributes.position!==void 0||fe.morphAttributes.normal!==void 0)&&ze.update(Ae,fe,de,g),(b||h.receiveShadow!==Ae.receiveShadow)&&(h.receiveShadow=Ae.receiveShadow,_.setValue(ce,"receiveShadow",Ae.receiveShadow)),b&&(_.setValue(ce,"toneMappingExposure",N.toneMappingExposure),h.needsLights&&ph(k,w),at&&de.fog&&mt.refreshFogUniforms(k,at),mt.refreshMaterialUniforms(k,de,Y,me,ve),or.upload(ce,h.uniformsList,k,ye)),de.isShaderMaterial&&de.uniformsNeedUpdate===!0&&(or.upload(ce,h.uniformsList,k,ye),de.uniformsNeedUpdate=!1),de.isSpriteMaterial&&_.setValue(ce,"center",Ae.center),_.setValue(ce,"modelViewMatrix",Ae.modelViewMatrix),_.setValue(ce,"normalMatrix",Ae.normalMatrix),_.setValue(ce,"modelMatrix",Ae.matrixWorld),g}function ph(Z,oe){Z.ambientLightColor.needsUpdate=oe,Z.lightProbe.needsUpdate=oe,Z.directionalLights.needsUpdate=oe,Z.directionalLightShadows.needsUpdate=oe,Z.pointLights.needsUpdate=oe,Z.pointLightShadows.needsUpdate=oe,Z.spotLights.needsUpdate=oe,Z.spotLightShadows.needsUpdate=oe,Z.rectAreaLights.needsUpdate=oe,Z.hemisphereLights.needsUpdate=oe}function ga(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return G},this.setRenderTargetTextures=function(Z,oe,fe){it.get(Z.texture).__webglTexture=oe,it.get(Z.depthTexture).__webglTexture=fe;const de=it.get(Z);de.__hasExternalTextures=!0,de.__hasExternalTextures&&(de.__autoAllocateDepthBuffer=fe===void 0,de.__autoAllocateDepthBuffer||Z.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),Z.useRenderToTexture=!1,Z.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(Z,oe){const fe=it.get(Z);fe.__webglFramebuffer=oe,fe.__useDefaultFramebuffer=oe===void 0},this.setRenderTarget=function(Z,oe=0,fe=0){G=Z,C=oe,S=fe;let de=!0;if(Z){const ut=it.get(Z);ut.__useDefaultFramebuffer!==void 0?(Fe.bindFramebuffer(36160,null),de=!1):ut.__webglFramebuffer===void 0?ye.setupRenderTarget(Z):ut.__hasExternalTextures&&ye.rebindTextures(Z,it.get(Z.texture).__webglTexture,it.get(Z.depthTexture).__webglTexture)}let Ae=null,at=!1,ot=!1;if(Z){const ut=Z.texture;(ut.isDataTexture3D||ut.isDataTexture2DArray)&&(ot=!0);const vt=it.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Ae=vt[oe],at=!0):Z.useRenderbuffer?Ae=it.get(Z).__webglMultisampledFramebuffer:Ae=vt,$.copy(Z.viewport),K.copy(Z.scissor),le=Z.scissorTest}else $.copy(ae).multiplyScalar(Y).floor(),K.copy(he).multiplyScalar(Y).floor(),le=ue;if(Fe.bindFramebuffer(36160,Ae)&&$e.drawBuffers&&de&&Fe.drawBuffers(Z,Ae),Fe.viewport($),Fe.scissor(K),Fe.setScissorTest(le),at){const ut=it.get(Z.texture);ce.framebufferTexture2D(36160,36064,34069+oe,ut.__webglTexture,fe)}else if(ot){const ut=it.get(Z.texture),vt=oe||0;ce.framebufferTextureLayer(36160,36064,ut.__webglTexture,fe||0,vt)}W=-1},this.readRenderTargetPixels=function(Z,oe,fe,de,Ae,at,ot){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ft=it.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&ot!==void 0&&(ft=ft[ot]),ft){Fe.bindFramebuffer(36160,ft);try{const ut=Z.texture,vt=ut.format,F=ut.type;if(vt!==Mn&&Qe.convert(vt)!==ce.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const i=F===Hs&&(Ue.has("EXT_color_buffer_half_float")||$e.isWebGL2&&Ue.has("EXT_color_buffer_float"));if(F!==sr&&Qe.convert(F)!==ce.getParameter(35738)&&!(F===Ir&&($e.isWebGL2||Ue.has("OES_texture_float")||Ue.has("WEBGL_color_buffer_float")))&&!i){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce.checkFramebufferStatus(36160)===36053?oe>=0&&oe<=Z.width-de&&fe>=0&&fe<=Z.height-Ae&&ce.readPixels(oe,fe,de,Ae,Qe.convert(vt),Qe.convert(F),at):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const ut=G!==null?it.get(G).__webglFramebuffer:null;Fe.bindFramebuffer(36160,ut)}}},this.copyFramebufferToTexture=function(Z,oe,fe=0){if(oe.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const de=Math.pow(2,-fe),Ae=Math.floor(oe.image.width*de),at=Math.floor(oe.image.height*de);ye.setTexture2D(oe,0),ce.copyTexSubImage2D(3553,fe,0,0,Z.x,Z.y,Ae,at),Fe.unbindTexture()},this.copyTextureToTexture=function(Z,oe,fe,de=0){const Ae=oe.image.width,at=oe.image.height,ot=Qe.convert(fe.format),ft=Qe.convert(fe.type);ye.setTexture2D(fe,0),ce.pixelStorei(37440,fe.flipY),ce.pixelStorei(37441,fe.premultiplyAlpha),ce.pixelStorei(3317,fe.unpackAlignment),oe.isDataTexture?ce.texSubImage2D(3553,de,Z.x,Z.y,Ae,at,ot,ft,oe.image.data):oe.isCompressedTexture?ce.compressedTexSubImage2D(3553,de,Z.x,Z.y,oe.mipmaps[0].width,oe.mipmaps[0].height,ot,oe.mipmaps[0].data):ce.texSubImage2D(3553,de,Z.x,Z.y,ot,ft,oe.image),de===0&&fe.generateMipmaps&&ce.generateMipmap(3553),Fe.unbindTexture()},this.copyTextureToTexture3D=function(Z,oe,fe,de,Ae=0){if(N.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const at=Z.max.x-Z.min.x+1,ot=Z.max.y-Z.min.y+1,ft=Z.max.z-Z.min.z+1,ut=Qe.convert(de.format),vt=Qe.convert(de.type);let F;if(de.isDataTexture3D)ye.setTexture3D(de,0),F=32879;else if(de.isDataTexture2DArray)ye.setTexture2DArray(de,0),F=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ce.pixelStorei(37440,de.flipY),ce.pixelStorei(37441,de.premultiplyAlpha),ce.pixelStorei(3317,de.unpackAlignment);const i=ce.getParameter(3314),r=ce.getParameter(32878),o=ce.getParameter(3316),c=ce.getParameter(3315),h=ce.getParameter(32877),f=fe.isCompressedTexture?fe.mipmaps[0]:fe.image;ce.pixelStorei(3314,f.width),ce.pixelStorei(32878,f.height),ce.pixelStorei(3316,Z.min.x),ce.pixelStorei(3315,Z.min.y),ce.pixelStorei(32877,Z.min.z),fe.isDataTexture||fe.isDataTexture3D?ce.texSubImage3D(F,Ae,oe.x,oe.y,oe.z,at,ot,ft,ut,vt,f.data):fe.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ce.compressedTexSubImage3D(F,Ae,oe.x,oe.y,oe.z,at,ot,ft,ut,f.data)):ce.texSubImage3D(F,Ae,oe.x,oe.y,oe.z,at,ot,ft,ut,vt,f),ce.pixelStorei(3314,i),ce.pixelStorei(32878,r),ce.pixelStorei(3316,o),ce.pixelStorei(3315,c),ce.pixelStorei(32877,h),Ae===0&&de.generateMipmaps&&ce.generateMipmap(F),Fe.unbindTexture()},this.initTexture=function(Z){ye.setTexture2D(Z,0),Fe.unbindTexture()},this.resetState=function(){C=0,S=0,G=null,Fe.reset(),Je.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Et.prototype.isWebGLRenderer=!0;class lE extends Et{}lE.prototype.isWebGL1Renderer=!0;class ip extends Ct{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}ip.prototype.isScene=!0;class Yo{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=To,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=mi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,s){e*=this.stride,s*=t.stride;for(let a=0,l=this.stride;a<l;a++)this.array[e+a]=t.array[s+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=mi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(t,this.stride);return s.setUsage(this.usage),s}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=mi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Yo.prototype.isInterleavedBuffer=!0;const Ut=new Q;class Lo{constructor(e,t,s,a=!1){this.name="",this.data=e,this.itemSize=t,this.offset=s,this.normalized=a===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,s=this.data.count;t<s;t++)Ut.x=this.getX(t),Ut.y=this.getY(t),Ut.z=this.getZ(t),Ut.applyMatrix4(e),this.setXYZ(t,Ut.x,Ut.y,Ut.z);return this}applyNormalMatrix(e){for(let t=0,s=this.count;t<s;t++)Ut.x=this.getX(t),Ut.y=this.getY(t),Ut.z=this.getZ(t),Ut.applyNormalMatrix(e),this.setXYZ(t,Ut.x,Ut.y,Ut.z);return this}transformDirection(e){for(let t=0,s=this.count;t<s;t++)Ut.x=this.getX(t),Ut.y=this.getY(t),Ut.z=this.getZ(t),Ut.transformDirection(e),this.setXYZ(t,Ut.x,Ut.y,Ut.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=s,this}setXYZ(e,t,s,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=s,this.data.array[e+2]=a,this}setXYZW(e,t,s,a,l){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=s,this.data.array[e+2]=a,this.data.array[e+3]=l,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let s=0;s<this.count;s++){const a=s*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)t.push(this.data.array[a+l])}return new Jt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Lo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let s=0;s<this.count;s++){const a=s*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)t.push(this.data.array[a+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Lo.prototype.isInterleavedBufferAttribute=!0;class Cy extends Sn{constructor(e){super(),this.type="SpriteMaterial",this.color=new Ze(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}Cy.prototype.isSpriteMaterial=!0;let fs;const Ia=new Q,ps=new Q,gs=new Q,ms=new ke,Da=new ke,Ey=new nt,Pl=new Q,za=new Q,Rl=new Q,h0=new ke,Eu=new ke,u0=new ke;class cE extends Ct{constructor(e){if(super(),this.type="Sprite",fs===void 0){fs=new At;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),s=new Yo(t,5);fs.setIndex([0,1,2,0,2,3]),fs.setAttribute("position",new Lo(s,3,0,!1)),fs.setAttribute("uv",new Lo(s,2,3,!1))}this.geometry=fs,this.material=e!==void 0?e:new Cy,this.center=new ke(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ps.setFromMatrixScale(this.matrixWorld),Ey.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),gs.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ps.multiplyScalar(-gs.z);const s=this.material.rotation;let a,l;s!==0&&(l=Math.cos(s),a=Math.sin(s));const d=this.center;Il(Pl.set(-.5,-.5,0),gs,d,ps,a,l),Il(za.set(.5,-.5,0),gs,d,ps,a,l),Il(Rl.set(.5,.5,0),gs,d,ps,a,l),h0.set(0,0),Eu.set(1,0),u0.set(1,1);let p=e.ray.intersectTriangle(Pl,za,Rl,!1,Ia);if(p===null&&(Il(za.set(-.5,.5,0),gs,d,ps,a,l),Eu.set(0,1),p=e.ray.intersectTriangle(Pl,Rl,za,!1,Ia),p===null))return;const v=e.ray.origin.distanceTo(Ia);v<e.near||v>e.far||t.push({distance:v,point:Ia.clone(),uv:jt.getUV(Ia,Pl,za,Rl,h0,Eu,u0,new ke),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}cE.prototype.isSprite=!0;function Il(n,e,t,s,a,l){ms.subVectors(n,t).addScalar(.5).multiply(s),a!==void 0?(Da.x=l*ms.x-a*ms.y,Da.y=a*ms.x+l*ms.y):Da.copy(ms),n.copy(e),n.x+=Da.x,n.y+=Da.y,n.applyMatrix4(Ey)}const d0=new Q,f0=new Mt,p0=new Mt,hE=new Q,g0=new nt;class Ty extends $t{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new nt,this.bindMatrixInverse=new nt}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Mt,t=this.geometry.attributes.skinWeight;for(let s=0,a=t.count;s<a;s++){e.x=t.getX(s),e.y=t.getY(s),e.z=t.getZ(s),e.w=t.getW(s);const l=1/e.manhattanLength();l!==1/0?e.multiplyScalar(l):e.set(1,0,0,0),t.setXYZW(s,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const s=this.skeleton,a=this.geometry;f0.fromBufferAttribute(a.attributes.skinIndex,e),p0.fromBufferAttribute(a.attributes.skinWeight,e),d0.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let l=0;l<4;l++){const d=p0.getComponent(l);if(d!==0){const p=f0.getComponent(l);g0.multiplyMatrices(s.bones[p].matrixWorld,s.boneInverses[p]),t.addScaledVector(hE.copy(d0).applyMatrix4(g0),d)}}return t.applyMatrix4(this.bindMatrixInverse)}}Ty.prototype.isSkinnedMesh=!0;class uE extends Ct{constructor(){super(),this.type="Bone"}}uE.prototype.isBone=!0;class dE extends nn{constructor(e=null,t=1,s=1,a,l,d,p,v,y=qt,M=qt,E,T){super(null,d,p,v,y,M,a,l,E,T),this.image={data:e,width:t,height:s},this.magFilter=y,this.minFilter=M,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}dE.prototype.isDataTexture=!0;class Nd extends Jt{constructor(e,t,s,a=1){typeof s=="number"&&(a=s,s=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,s),this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Nd.prototype.isInstancedBufferAttribute=!0;const m0=new nt,x0=new nt,Dl=[],Na=new $t;class fE extends $t{constructor(e,t,s){super(e,t),this.instanceMatrix=new Nd(new Float32Array(s*16),16),this.instanceColor=null,this.count=s,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const s=this.matrixWorld,a=this.count;if(Na.geometry=this.geometry,Na.material=this.material,Na.material!==void 0)for(let l=0;l<a;l++){this.getMatrixAt(l,m0),x0.multiplyMatrices(s,m0),Na.matrixWorld=x0,Na.raycast(e,Dl);for(let d=0,p=Dl.length;d<p;d++){const v=Dl[d];v.instanceId=l,v.object=this,t.push(v)}Dl.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Nd(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}fE.prototype.isInstancedMesh=!0;class Vr extends Sn{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Ze(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Vr.prototype.isLineBasicMaterial=!0;const v0=new Q,y0=new Q,b0=new nt,Tu=new la,zl=new oa;class Po extends Ct{constructor(e=new At,t=new Vr){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,s=[0];for(let a=1,l=t.count;a<l;a++)v0.fromBufferAttribute(t,a-1),y0.fromBufferAttribute(t,a),s[a]=s[a-1],s[a]+=v0.distanceTo(y0);e.setAttribute("lineDistance",new It(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const s=this.geometry,a=this.matrixWorld,l=e.params.Line.threshold,d=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),zl.copy(s.boundingSphere),zl.applyMatrix4(a),zl.radius+=l,e.ray.intersectsSphere(zl)===!1)return;b0.copy(a).invert(),Tu.copy(e.ray).applyMatrix4(b0);const p=l/((this.scale.x+this.scale.y+this.scale.z)/3),v=p*p,y=new Q,M=new Q,E=new Q,T=new Q,L=this.isLineSegments?2:1;if(s.isBufferGeometry){const D=s.index,z=s.attributes.position;if(D!==null){const C=Math.max(0,d.start),S=Math.min(D.count,d.start+d.count);for(let G=C,W=S-1;G<W;G+=L){const H=D.getX(G),$=D.getX(G+1);if(y.fromBufferAttribute(z,H),M.fromBufferAttribute(z,$),Tu.distanceSqToSegment(y,M,T,E)>v)continue;T.applyMatrix4(this.matrixWorld);const le=e.ray.origin.distanceTo(T);le<e.near||le>e.far||t.push({distance:le,point:E.clone().applyMatrix4(this.matrixWorld),index:G,face:null,faceIndex:null,object:this})}}else{const C=Math.max(0,d.start),S=Math.min(z.count,d.start+d.count);for(let G=C,W=S-1;G<W;G+=L){if(y.fromBufferAttribute(z,G),M.fromBufferAttribute(z,G+1),Tu.distanceSqToSegment(y,M,T,E)>v)continue;T.applyMatrix4(this.matrixWorld);const $=e.ray.origin.distanceTo(T);$<e.near||$>e.far||t.push({distance:$,point:E.clone().applyMatrix4(this.matrixWorld),index:G,face:null,faceIndex:null,object:this})}}}else s.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,s=Object.keys(t);if(s.length>0){const a=t[s[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,d=a.length;l<d;l++){const p=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=l}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Po.prototype.isLine=!0;const w0=new Q,S0=new Q;class rp extends Po{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,s=[];for(let a=0,l=t.count;a<l;a+=2)w0.fromBufferAttribute(t,a),S0.fromBufferAttribute(t,a+1),s[a]=a===0?0:s[a-1],s[a+1]=s[a]+w0.distanceTo(S0);e.setAttribute("lineDistance",new It(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}rp.prototype.isLineSegments=!0;class pE extends Po{constructor(e,t){super(e,t),this.type="LineLoop"}}pE.prototype.isLineLoop=!0;class sp extends Sn{constructor(e){super(),this.type="PointsMaterial",this.color=new Ze(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}sp.prototype.isPointsMaterial=!0;const _0=new nt,Fd=new la,Nl=new oa,Fl=new Q;class ky extends Ct{constructor(e=new At,t=new sp){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const s=this.geometry,a=this.matrixWorld,l=e.params.Points.threshold,d=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),Nl.copy(s.boundingSphere),Nl.applyMatrix4(a),Nl.radius+=l,e.ray.intersectsSphere(Nl)===!1)return;_0.copy(a).invert(),Fd.copy(e.ray).applyMatrix4(_0);const p=l/((this.scale.x+this.scale.y+this.scale.z)/3),v=p*p;if(s.isBufferGeometry){const y=s.index,E=s.attributes.position;if(y!==null){const T=Math.max(0,d.start),L=Math.min(y.count,d.start+d.count);for(let D=T,N=L;D<N;D++){const z=y.getX(D);Fl.fromBufferAttribute(E,z),M0(Fl,z,v,a,e,t,this)}}else{const T=Math.max(0,d.start),L=Math.min(E.count,d.start+d.count);for(let D=T,N=L;D<N;D++)Fl.fromBufferAttribute(E,D),M0(Fl,D,v,a,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,s=Object.keys(t);if(s.length>0){const a=t[s[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,d=a.length;l<d;l++){const p=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=l}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}ky.prototype.isPoints=!0;function M0(n,e,t,s,a,l,d){const p=Fd.distanceSqToPoint(n);if(p<t){const v=new Q;Fd.closestPointToPoint(n,v),v.applyMatrix4(s);const y=a.ray.origin.distanceTo(v);if(y<a.near||y>a.far)return;l.push({distance:y,distanceToRay:Math.sqrt(p),point:v,index:e,face:null,object:d})}}class gE extends nn{constructor(e,t,s,a,l,d,p,v,y){super(e,t,s,a,l,d,p,v,y),this.minFilter=d!==void 0?d:xn,this.magFilter=l!==void 0?l:xn,this.generateMipmaps=!1;const M=this;function E(){M.needsUpdate=!0,e.requestVideoFrameCallback(E)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(E)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}gE.prototype.isVideoTexture=!0;class mE extends nn{constructor(e,t,s){super({width:e,height:t}),this.format=s,this.magFilter=qt,this.minFilter=qt,this.generateMipmaps=!1,this.needsUpdate=!0}}mE.prototype.isFramebufferTexture=!0;class xE extends nn{constructor(e,t,s,a,l,d,p,v,y,M,E,T){super(null,d,p,v,y,M,a,l,E,T),this.image={width:t,height:s},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}xE.prototype.isCompressedTexture=!0;class vE extends nn{constructor(e,t,s,a,l,d,p,v,y){super(e,t,s,a,l,d,p,v,y),this.needsUpdate=!0}}vE.prototype.isCanvasTexture=!0;new Q;new Q;new Q;new jt;class Jn{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const s=this.getUtoTmapping(e);return this.getPoint(s,t)}getPoints(e=5){const t=[];for(let s=0;s<=e;s++)t.push(this.getPoint(s/e));return t}getSpacedPoints(e=5){const t=[];for(let s=0;s<=e;s++)t.push(this.getPointAt(s/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let s,a=this.getPoint(0),l=0;t.push(0);for(let d=1;d<=e;d++)s=this.getPoint(d/e),l+=s.distanceTo(a),t.push(l),a=s;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const s=this.getLengths();let a=0;const l=s.length;let d;t?d=t:d=e*s[l-1];let p=0,v=l-1,y;for(;p<=v;)if(a=Math.floor(p+(v-p)/2),y=s[a]-d,y<0)p=a+1;else if(y>0)v=a-1;else{v=a;break}if(a=v,s[a]===d)return a/(l-1);const M=s[a],T=s[a+1]-M,L=(d-M)/T;return(a+L)/(l-1)}getTangent(e,t){let a=e-1e-4,l=e+1e-4;a<0&&(a=0),l>1&&(l=1);const d=this.getPoint(a),p=this.getPoint(l),v=t||(d.isVector2?new ke:new Q);return v.copy(p).sub(d).normalize(),v}getTangentAt(e,t){const s=this.getUtoTmapping(e);return this.getTangent(s,t)}computeFrenetFrames(e,t){const s=new Q,a=[],l=[],d=[],p=new Q,v=new nt;for(let L=0;L<=e;L++){const D=L/e;a[L]=this.getTangentAt(D,new Q)}l[0]=new Q,d[0]=new Q;let y=Number.MAX_VALUE;const M=Math.abs(a[0].x),E=Math.abs(a[0].y),T=Math.abs(a[0].z);M<=y&&(y=M,s.set(1,0,0)),E<=y&&(y=E,s.set(0,1,0)),T<=y&&s.set(0,0,1),p.crossVectors(a[0],s).normalize(),l[0].crossVectors(a[0],p),d[0].crossVectors(a[0],l[0]);for(let L=1;L<=e;L++){if(l[L]=l[L-1].clone(),d[L]=d[L-1].clone(),p.crossVectors(a[L-1],a[L]),p.length()>Number.EPSILON){p.normalize();const D=Math.acos(Hn(a[L-1].dot(a[L]),-1,1));l[L].applyMatrix4(v.makeRotationAxis(p,D))}d[L].crossVectors(a[L],l[L])}if(t===!0){let L=Math.acos(Hn(l[0].dot(l[e]),-1,1));L/=e,a[0].dot(p.crossVectors(l[0],l[e]))>0&&(L=-L);for(let D=1;D<=e;D++)l[D].applyMatrix4(v.makeRotationAxis(a[D],L*D)),d[D].crossVectors(a[D],l[D])}return{tangents:a,normals:l,binormals:d}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class hh extends Jn{constructor(e=0,t=0,s=1,a=1,l=0,d=Math.PI*2,p=!1,v=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=s,this.yRadius=a,this.aStartAngle=l,this.aEndAngle=d,this.aClockwise=p,this.aRotation=v}getPoint(e,t){const s=t||new ke,a=Math.PI*2;let l=this.aEndAngle-this.aStartAngle;const d=Math.abs(l)<Number.EPSILON;for(;l<0;)l+=a;for(;l>a;)l-=a;l<Number.EPSILON&&(d?l=0:l=a),this.aClockwise===!0&&!d&&(l===a?l=-a:l=l-a);const p=this.aStartAngle+e*l;let v=this.aX+this.xRadius*Math.cos(p),y=this.aY+this.yRadius*Math.sin(p);if(this.aRotation!==0){const M=Math.cos(this.aRotation),E=Math.sin(this.aRotation),T=v-this.aX,L=y-this.aY;v=T*M-L*E+this.aX,y=T*E+L*M+this.aY}return s.set(v,y)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}hh.prototype.isEllipseCurve=!0;class Ly extends hh{constructor(e,t,s,a,l,d){super(e,t,s,s,a,l,d),this.type="ArcCurve"}}Ly.prototype.isArcCurve=!0;function ap(){let n=0,e=0,t=0,s=0;function a(l,d,p,v){n=l,e=p,t=-3*l+3*d-2*p-v,s=2*l-2*d+p+v}return{initCatmullRom:function(l,d,p,v,y){a(d,p,y*(p-l),y*(v-d))},initNonuniformCatmullRom:function(l,d,p,v,y,M,E){let T=(d-l)/y-(p-l)/(y+M)+(p-d)/M,L=(p-d)/M-(v-d)/(M+E)+(v-p)/E;T*=M,L*=M,a(d,p,T,L)},calc:function(l){const d=l*l,p=d*l;return n+e*l+t*d+s*p}}}const Ol=new Q,ku=new ap,Lu=new ap,Pu=new ap;class Py extends Jn{constructor(e=[],t=!1,s="centripetal",a=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=s,this.tension=a}getPoint(e,t=new Q){const s=t,a=this.points,l=a.length,d=(l-(this.closed?0:1))*e;let p=Math.floor(d),v=d-p;this.closed?p+=p>0?0:(Math.floor(Math.abs(p)/l)+1)*l:v===0&&p===l-1&&(p=l-2,v=1);let y,M;this.closed||p>0?y=a[(p-1)%l]:(Ol.subVectors(a[0],a[1]).add(a[0]),y=Ol);const E=a[p%l],T=a[(p+1)%l];if(this.closed||p+2<l?M=a[(p+2)%l]:(Ol.subVectors(a[l-1],a[l-2]).add(a[l-1]),M=Ol),this.curveType==="centripetal"||this.curveType==="chordal"){const L=this.curveType==="chordal"?.5:.25;let D=Math.pow(y.distanceToSquared(E),L),N=Math.pow(E.distanceToSquared(T),L),z=Math.pow(T.distanceToSquared(M),L);N<1e-4&&(N=1),D<1e-4&&(D=N),z<1e-4&&(z=N),ku.initNonuniformCatmullRom(y.x,E.x,T.x,M.x,D,N,z),Lu.initNonuniformCatmullRom(y.y,E.y,T.y,M.y,D,N,z),Pu.initNonuniformCatmullRom(y.z,E.z,T.z,M.z,D,N,z)}else this.curveType==="catmullrom"&&(ku.initCatmullRom(y.x,E.x,T.x,M.x,this.tension),Lu.initCatmullRom(y.y,E.y,T.y,M.y,this.tension),Pu.initCatmullRom(y.z,E.z,T.z,M.z,this.tension));return s.set(ku.calc(v),Lu.calc(v),Pu.calc(v)),s}copy(e){super.copy(e),this.points=[];for(let t=0,s=e.points.length;t<s;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,s=this.points.length;t<s;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,s=e.points.length;t<s;t++){const a=e.points[t];this.points.push(new Q().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}Py.prototype.isCatmullRomCurve3=!0;function A0(n,e,t,s,a){const l=(s-e)*.5,d=(a-t)*.5,p=n*n,v=n*p;return(2*t-2*s+l+d)*v+(-3*t+3*s-2*l-d)*p+l*n+t}function yE(n,e){const t=1-n;return t*t*e}function bE(n,e){return 2*(1-n)*n*e}function wE(n,e){return n*n*e}function lo(n,e,t,s){return yE(n,e)+bE(n,t)+wE(n,s)}function SE(n,e){const t=1-n;return t*t*t*e}function _E(n,e){const t=1-n;return 3*t*t*n*e}function ME(n,e){return 3*(1-n)*n*n*e}function AE(n,e){return n*n*n*e}function co(n,e,t,s,a){return SE(n,e)+_E(n,t)+ME(n,s)+AE(n,a)}class op extends Jn{constructor(e=new ke,t=new ke,s=new ke,a=new ke){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=s,this.v3=a}getPoint(e,t=new ke){const s=t,a=this.v0,l=this.v1,d=this.v2,p=this.v3;return s.set(co(e,a.x,l.x,d.x,p.x),co(e,a.y,l.y,d.y,p.y)),s}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}op.prototype.isCubicBezierCurve=!0;class Ry extends Jn{constructor(e=new Q,t=new Q,s=new Q,a=new Q){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=s,this.v3=a}getPoint(e,t=new Q){const s=t,a=this.v0,l=this.v1,d=this.v2,p=this.v3;return s.set(co(e,a.x,l.x,d.x,p.x),co(e,a.y,l.y,d.y,p.y),co(e,a.z,l.z,d.z,p.z)),s}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}Ry.prototype.isCubicBezierCurve3=!0;class uh extends Jn{constructor(e=new ke,t=new ke){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ke){const s=t;return e===1?s.copy(this.v2):(s.copy(this.v2).sub(this.v1),s.multiplyScalar(e).add(this.v1)),s}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const s=t||new ke;return s.copy(this.v2).sub(this.v1).normalize(),s}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}uh.prototype.isLineCurve=!0;class CE extends Jn{constructor(e=new Q,t=new Q){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new Q){const s=t;return e===1?s.copy(this.v2):(s.copy(this.v2).sub(this.v1),s.multiplyScalar(e).add(this.v1)),s}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lp extends Jn{constructor(e=new ke,t=new ke,s=new ke){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=s}getPoint(e,t=new ke){const s=t,a=this.v0,l=this.v1,d=this.v2;return s.set(lo(e,a.x,l.x,d.x),lo(e,a.y,l.y,d.y)),s}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}lp.prototype.isQuadraticBezierCurve=!0;class Iy extends Jn{constructor(e=new Q,t=new Q,s=new Q){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=s}getPoint(e,t=new Q){const s=t,a=this.v0,l=this.v1,d=this.v2;return s.set(lo(e,a.x,l.x,d.x),lo(e,a.y,l.y,d.y),lo(e,a.z,l.z,d.z)),s}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Iy.prototype.isQuadraticBezierCurve3=!0;class cp extends Jn{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new ke){const s=t,a=this.points,l=(a.length-1)*e,d=Math.floor(l),p=l-d,v=a[d===0?d:d-1],y=a[d],M=a[d>a.length-2?a.length-1:d+1],E=a[d>a.length-3?a.length-1:d+2];return s.set(A0(p,v.x,y.x,M.x,E.x),A0(p,v.y,y.y,M.y,E.y)),s}copy(e){super.copy(e),this.points=[];for(let t=0,s=e.points.length;t<s;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,s=this.points.length;t<s;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,s=e.points.length;t<s;t++){const a=e.points[t];this.points.push(new ke().fromArray(a))}return this}}cp.prototype.isSplineCurve=!0;var Dy=Object.freeze({__proto__:null,ArcCurve:Ly,CatmullRomCurve3:Py,CubicBezierCurve:op,CubicBezierCurve3:Ry,EllipseCurve:hh,LineCurve:uh,LineCurve3:CE,QuadraticBezierCurve:lp,QuadraticBezierCurve3:Iy,SplineCurve:cp});class EE extends Jn{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new uh(t,e))}getPoint(e,t){const s=e*this.getLength(),a=this.getCurveLengths();let l=0;for(;l<a.length;){if(a[l]>=s){const d=a[l]-s,p=this.curves[l],v=p.getLength(),y=v===0?0:1-d/v;return p.getPointAt(y,t)}l++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let s=0,a=this.curves.length;s<a;s++)t+=this.curves[s].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let s=0;s<=e;s++)t.push(this.getPoint(s/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let s;for(let a=0,l=this.curves;a<l.length;a++){const d=l[a],p=d&&d.isEllipseCurve?e*2:d&&(d.isLineCurve||d.isLineCurve3)?1:d&&d.isSplineCurve?e*d.points.length:e,v=d.getPoints(p);for(let y=0;y<v.length;y++){const M=v[y];s&&s.equals(M)||(t.push(M),s=M)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,s=e.curves.length;t<s;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,s=this.curves.length;t<s;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,s=e.curves.length;t<s;t++){const a=e.curves[t];this.curves.push(new Dy[a.type]().fromJSON(a))}return this}}class Od extends EE{constructor(e){super(),this.type="Path",this.currentPoint=new ke,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,s=e.length;t<s;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const s=new uh(this.currentPoint.clone(),new ke(e,t));return this.curves.push(s),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,s,a){const l=new lp(this.currentPoint.clone(),new ke(e,t),new ke(s,a));return this.curves.push(l),this.currentPoint.set(s,a),this}bezierCurveTo(e,t,s,a,l,d){const p=new op(this.currentPoint.clone(),new ke(e,t),new ke(s,a),new ke(l,d));return this.curves.push(p),this.currentPoint.set(l,d),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),s=new cp(t);return this.curves.push(s),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,s,a,l,d){const p=this.currentPoint.x,v=this.currentPoint.y;return this.absarc(e+p,t+v,s,a,l,d),this}absarc(e,t,s,a,l,d){return this.absellipse(e,t,s,s,a,l,d),this}ellipse(e,t,s,a,l,d,p,v){const y=this.currentPoint.x,M=this.currentPoint.y;return this.absellipse(e+y,t+M,s,a,l,d,p,v),this}absellipse(e,t,s,a,l,d,p,v){const y=new hh(e,t,s,a,l,d,p,v);if(this.curves.length>0){const E=y.getPoint(0);E.equals(this.currentPoint)||this.lineTo(E.x,E.y)}this.curves.push(y);const M=y.getPoint(1);return this.currentPoint.copy(M),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class jo extends Od{constructor(e){super(e),this.uuid=mi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let s=0,a=this.holes.length;s<a;s++)t[s]=this.holes[s].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,s=e.holes.length;t<s;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,s=this.holes.length;t<s;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,s=e.holes.length;t<s;t++){const a=e.holes[t];this.holes.push(new Od().fromJSON(a))}return this}}const TE={triangulate:function(n,e,t=2){const s=e&&e.length,a=s?e[0]*t:n.length;let l=zy(n,0,a,t,!0);const d=[];if(!l||l.next===l.prev)return d;let p,v,y,M,E,T,L;if(s&&(l=IE(n,e,l,t)),n.length>80*t){p=y=n[0],v=M=n[1];for(let D=t;D<a;D+=t)E=n[D],T=n[D+1],E<p&&(p=E),T<v&&(v=T),E>y&&(y=E),T>M&&(M=T);L=Math.max(y-p,M-v),L=L!==0?1/L:0}return Ro(l,d,t,p,v,L),d}};function zy(n,e,t,s,a){let l,d;if(a===GE(n,e,t,s)>0)for(l=e;l<t;l+=s)d=C0(l,n[l],n[l+1],d);else for(l=t-s;l>=e;l-=s)d=C0(l,n[l],n[l+1],d);return d&&dh(d,d.next)&&(Do(d),d=d.next),d}function mr(n,e){if(!n)return n;e||(e=n);let t=n,s;do if(s=!1,!t.steiner&&(dh(t,t.next)||Ht(t.prev,t,t.next)===0)){if(Do(t),t=e=t.prev,t===t.next)break;s=!0}else t=t.next;while(s||t!==e);return e}function Ro(n,e,t,s,a,l,d){if(!n)return;!d&&l&&OE(n,s,a,l);let p=n,v,y;for(;n.prev!==n.next;){if(v=n.prev,y=n.next,l?LE(n,s,a,l):kE(n)){e.push(v.i/t),e.push(n.i/t),e.push(y.i/t),Do(n),n=y.next,p=y.next;continue}if(n=y,n===p){d?d===1?(n=PE(mr(n),e,t),Ro(n,e,t,s,a,l,2)):d===2&&RE(n,e,t,s,a,l):Ro(mr(n),e,t,s,a,l,1);break}}}function kE(n){const e=n.prev,t=n,s=n.next;if(Ht(e,t,s)>=0)return!1;let a=n.next.next;for(;a!==n.prev;){if(Ts(e.x,e.y,t.x,t.y,s.x,s.y,a.x,a.y)&&Ht(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function LE(n,e,t,s){const a=n.prev,l=n,d=n.next;if(Ht(a,l,d)>=0)return!1;const p=a.x<l.x?a.x<d.x?a.x:d.x:l.x<d.x?l.x:d.x,v=a.y<l.y?a.y<d.y?a.y:d.y:l.y<d.y?l.y:d.y,y=a.x>l.x?a.x>d.x?a.x:d.x:l.x>d.x?l.x:d.x,M=a.y>l.y?a.y>d.y?a.y:d.y:l.y>d.y?l.y:d.y,E=Bd(p,v,e,t,s),T=Bd(y,M,e,t,s);let L=n.prevZ,D=n.nextZ;for(;L&&L.z>=E&&D&&D.z<=T;){if(L!==n.prev&&L!==n.next&&Ts(a.x,a.y,l.x,l.y,d.x,d.y,L.x,L.y)&&Ht(L.prev,L,L.next)>=0||(L=L.prevZ,D!==n.prev&&D!==n.next&&Ts(a.x,a.y,l.x,l.y,d.x,d.y,D.x,D.y)&&Ht(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;L&&L.z>=E;){if(L!==n.prev&&L!==n.next&&Ts(a.x,a.y,l.x,l.y,d.x,d.y,L.x,L.y)&&Ht(L.prev,L,L.next)>=0)return!1;L=L.prevZ}for(;D&&D.z<=T;){if(D!==n.prev&&D!==n.next&&Ts(a.x,a.y,l.x,l.y,d.x,d.y,D.x,D.y)&&Ht(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function PE(n,e,t){let s=n;do{const a=s.prev,l=s.next.next;!dh(a,l)&&Ny(a,s,s.next,l)&&Io(a,l)&&Io(l,a)&&(e.push(a.i/t),e.push(s.i/t),e.push(l.i/t),Do(s),Do(s.next),s=n=l),s=s.next}while(s!==n);return mr(s)}function RE(n,e,t,s,a,l){let d=n;do{let p=d.next.next;for(;p!==d.prev;){if(d.i!==p.i&&WE(d,p)){let v=Fy(d,p);d=mr(d,d.next),v=mr(v,v.next),Ro(d,e,t,s,a,l),Ro(v,e,t,s,a,l);return}p=p.next}d=d.next}while(d!==n)}function IE(n,e,t,s){const a=[];let l,d,p,v,y;for(l=0,d=e.length;l<d;l++)p=e[l]*s,v=l<d-1?e[l+1]*s:n.length,y=zy(n,p,v,s,!1),y===y.next&&(y.steiner=!0),a.push(HE(y));for(a.sort(DE),l=0;l<a.length;l++)zE(a[l],t),t=mr(t,t.next);return t}function DE(n,e){return n.x-e.x}function zE(n,e){if(e=NE(n,e),e){const t=Fy(e,n);mr(e,e.next),mr(t,t.next)}}function NE(n,e){let t=e;const s=n.x,a=n.y;let l=-1/0,d;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const T=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(T<=s&&T>l){if(l=T,T===s){if(a===t.y)return t;if(a===t.next.y)return t.next}d=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!d)return null;if(s===l)return d;const p=d,v=d.x,y=d.y;let M=1/0,E;t=d;do s>=t.x&&t.x>=v&&s!==t.x&&Ts(a<y?s:l,a,v,y,a<y?l:s,a,t.x,t.y)&&(E=Math.abs(a-t.y)/(s-t.x),Io(t,n)&&(E<M||E===M&&(t.x>d.x||t.x===d.x&&FE(d,t)))&&(d=t,M=E)),t=t.next;while(t!==p);return d}function FE(n,e){return Ht(n.prev,n,e.prev)<0&&Ht(e.next,n,n.next)<0}function OE(n,e,t,s){let a=n;do a.z===null&&(a.z=Bd(a.x,a.y,e,t,s)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,BE(a)}function BE(n){let e,t,s,a,l,d,p,v,y=1;do{for(t=n,n=null,l=null,d=0;t;){for(d++,s=t,p=0,e=0;e<y&&(p++,s=s.nextZ,!!s);e++);for(v=y;p>0||v>0&&s;)p!==0&&(v===0||!s||t.z<=s.z)?(a=t,t=t.nextZ,p--):(a=s,s=s.nextZ,v--),l?l.nextZ=a:n=a,a.prevZ=l,l=a;t=s}l.nextZ=null,y*=2}while(d>1);return n}function Bd(n,e,t,s,a){return n=32767*(n-t)*a,e=32767*(e-s)*a,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function HE(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Ts(n,e,t,s,a,l,d,p){return(a-d)*(e-p)-(n-d)*(l-p)>=0&&(n-d)*(s-p)-(t-d)*(e-p)>=0&&(t-d)*(l-p)-(a-d)*(s-p)>=0}function WE(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!VE(n,e)&&(Io(n,e)&&Io(e,n)&&UE(n,e)&&(Ht(n.prev,n,e.prev)||Ht(n,e.prev,e))||dh(n,e)&&Ht(n.prev,n,n.next)>0&&Ht(e.prev,e,e.next)>0)}function Ht(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function dh(n,e){return n.x===e.x&&n.y===e.y}function Ny(n,e,t,s){const a=Hl(Ht(n,e,t)),l=Hl(Ht(n,e,s)),d=Hl(Ht(t,s,n)),p=Hl(Ht(t,s,e));return!!(a!==l&&d!==p||a===0&&Bl(n,t,e)||l===0&&Bl(n,s,e)||d===0&&Bl(t,n,s)||p===0&&Bl(t,e,s))}function Bl(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Hl(n){return n>0?1:n<0?-1:0}function VE(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Ny(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Io(n,e){return Ht(n.prev,n,n.next)<0?Ht(n,e,n.next)>=0&&Ht(n,n.prev,e)>=0:Ht(n,e,n.prev)<0||Ht(n,n.next,e)<0}function UE(n,e){let t=n,s=!1;const a=(n.x+e.x)/2,l=(n.y+e.y)/2;do t.y>l!=t.next.y>l&&t.next.y!==t.y&&a<(t.next.x-t.x)*(l-t.y)/(t.next.y-t.y)+t.x&&(s=!s),t=t.next;while(t!==n);return s}function Fy(n,e){const t=new Hd(n.i,n.x,n.y),s=new Hd(e.i,e.x,e.y),a=n.next,l=e.prev;return n.next=e,e.prev=n,t.next=a,a.prev=t,s.next=t,t.prev=s,l.next=s,s.prev=l,s}function C0(n,e,t,s){const a=new Hd(n,e,t);return s?(a.next=s.next,a.prev=s,s.next.prev=a,s.next=a):(a.prev=a,a.next=a),a}function Do(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Hd(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function GE(n,e,t,s){let a=0;for(let l=e,d=t-s;l<t;l+=s)a+=(n[d]-n[l])*(n[l+1]+n[d+1]),d=l;return a}class lr{static area(e){const t=e.length;let s=0;for(let a=t-1,l=0;l<t;a=l++)s+=e[a].x*e[l].y-e[l].x*e[a].y;return s*.5}static isClockWise(e){return lr.area(e)<0}static triangulateShape(e,t){const s=[],a=[],l=[];E0(e),T0(s,e);let d=e.length;t.forEach(E0);for(let v=0;v<t.length;v++)a.push(d),d+=t[v].length,T0(s,t[v]);const p=TE.triangulate(s,a);for(let v=0;v<p.length;v+=3)l.push(p.slice(v,v+3));return l}}function E0(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function T0(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class ua extends At{constructor(e=new jo([new ke(.5,.5),new ke(-.5,.5),new ke(-.5,-.5),new ke(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const s=this,a=[],l=[];for(let p=0,v=e.length;p<v;p++){const y=e[p];d(y)}this.setAttribute("position",new It(a,3)),this.setAttribute("uv",new It(l,2)),this.computeVertexNormals();function d(p){const v=[],y=t.curveSegments!==void 0?t.curveSegments:12,M=t.steps!==void 0?t.steps:1;let E=t.depth!==void 0?t.depth:1,T=t.bevelEnabled!==void 0?t.bevelEnabled:!0,L=t.bevelThickness!==void 0?t.bevelThickness:.2,D=t.bevelSize!==void 0?t.bevelSize:L-.1,N=t.bevelOffset!==void 0?t.bevelOffset:0,z=t.bevelSegments!==void 0?t.bevelSegments:3;const C=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:XE;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),E=t.amount);let G,W=!1,H,$,K,le;C&&(G=C.getSpacedPoints(M),W=!0,T=!1,H=C.computeFrenetFrames(M,!1),$=new Q,K=new Q,le=new Q),T||(z=0,L=0,D=0,N=0);const ge=p.extractPoints(y);let me=ge.shape;const Y=ge.holes;if(!lr.isClockWise(me)){me=me.reverse();for(let ye=0,De=Y.length;ye<De;ye++){const Re=Y[ye];lr.isClockWise(Re)&&(Y[ye]=Re.reverse())}}const se=lr.triangulateShape(me,Y),ae=me;for(let ye=0,De=Y.length;ye<De;ye++){const Re=Y[ye];me=me.concat(Re)}function he(ye,De,Re){return De||console.error("THREE.ExtrudeGeometry: vec does not exist"),De.clone().multiplyScalar(Re).add(ye)}const ue=me.length,pe=se.length;function Ce(ye,De,Re){let Xe,Ve,rt;const tt=ye.x-De.x,mt=ye.y-De.y,Tt=Re.x-ye.x,yt=Re.y-ye.y,J=tt*tt+mt*mt,q=tt*yt-mt*Tt;if(Math.abs(q)>Number.EPSILON){const we=Math.sqrt(J),ze=Math.sqrt(Tt*Tt+yt*yt),je=De.x-mt/we,be=De.y+tt/we,Qe=Re.x-yt/ze,Je=Re.y+Tt/ze,We=((Qe-je)*yt-(Je-be)*Tt)/(tt*yt-mt*Tt);Xe=je+tt*We-ye.x,Ve=be+mt*We-ye.y;const He=Xe*Xe+Ve*Ve;if(He<=2)return new ke(Xe,Ve);rt=Math.sqrt(He/2)}else{let we=!1;tt>Number.EPSILON?Tt>Number.EPSILON&&(we=!0):tt<-Number.EPSILON?Tt<-Number.EPSILON&&(we=!0):Math.sign(mt)===Math.sign(yt)&&(we=!0),we?(Xe=-mt,Ve=tt,rt=Math.sqrt(J)):(Xe=tt,Ve=mt,rt=Math.sqrt(J/2))}return new ke(Xe/rt,Ve/rt)}const Ne=[];for(let ye=0,De=ae.length,Re=De-1,Xe=ye+1;ye<De;ye++,Re++,Xe++)Re===De&&(Re=0),Xe===De&&(Xe=0),Ne[ye]=Ce(ae[ye],ae[Re],ae[Xe]);const ve=[];let ne,xe=Ne.concat();for(let ye=0,De=Y.length;ye<De;ye++){const Re=Y[ye];ne=[];for(let Xe=0,Ve=Re.length,rt=Ve-1,tt=Xe+1;Xe<Ve;Xe++,rt++,tt++)rt===Ve&&(rt=0),tt===Ve&&(tt=0),ne[Xe]=Ce(Re[Xe],Re[rt],Re[tt]);ve.push(ne),xe=xe.concat(ne)}for(let ye=0;ye<z;ye++){const De=ye/z,Re=L*Math.cos(De*Math.PI/2),Xe=D*Math.sin(De*Math.PI/2)+N;for(let Ve=0,rt=ae.length;Ve<rt;Ve++){const tt=he(ae[Ve],Ne[Ve],Xe);Ue(tt.x,tt.y,-Re)}for(let Ve=0,rt=Y.length;Ve<rt;Ve++){const tt=Y[Ve];ne=ve[Ve];for(let mt=0,Tt=tt.length;mt<Tt;mt++){const yt=he(tt[mt],ne[mt],Xe);Ue(yt.x,yt.y,-Re)}}}const Ee=D+N;for(let ye=0;ye<ue;ye++){const De=T?he(me[ye],xe[ye],Ee):me[ye];W?(K.copy(H.normals[0]).multiplyScalar(De.x),$.copy(H.binormals[0]).multiplyScalar(De.y),le.copy(G[0]).add(K).add($),Ue(le.x,le.y,le.z)):Ue(De.x,De.y,0)}for(let ye=1;ye<=M;ye++)for(let De=0;De<ue;De++){const Re=T?he(me[De],xe[De],Ee):me[De];W?(K.copy(H.normals[ye]).multiplyScalar(Re.x),$.copy(H.binormals[ye]).multiplyScalar(Re.y),le.copy(G[ye]).add(K).add($),Ue(le.x,le.y,le.z)):Ue(Re.x,Re.y,E/M*ye)}for(let ye=z-1;ye>=0;ye--){const De=ye/z,Re=L*Math.cos(De*Math.PI/2),Xe=D*Math.sin(De*Math.PI/2)+N;for(let Ve=0,rt=ae.length;Ve<rt;Ve++){const tt=he(ae[Ve],Ne[Ve],Xe);Ue(tt.x,tt.y,E+Re)}for(let Ve=0,rt=Y.length;Ve<rt;Ve++){const tt=Y[Ve];ne=ve[Ve];for(let mt=0,Tt=tt.length;mt<Tt;mt++){const yt=he(tt[mt],ne[mt],Xe);W?Ue(yt.x,yt.y+G[M-1].y,G[M-1].x+Re):Ue(yt.x,yt.y,E+Re)}}}Ie(),ce();function Ie(){const ye=a.length/3;if(T){let De=0,Re=ue*De;for(let Xe=0;Xe<pe;Xe++){const Ve=se[Xe];$e(Ve[2]+Re,Ve[1]+Re,Ve[0]+Re)}De=M+z*2,Re=ue*De;for(let Xe=0;Xe<pe;Xe++){const Ve=se[Xe];$e(Ve[0]+Re,Ve[1]+Re,Ve[2]+Re)}}else{for(let De=0;De<pe;De++){const Re=se[De];$e(Re[2],Re[1],Re[0])}for(let De=0;De<pe;De++){const Re=se[De];$e(Re[0]+ue*M,Re[1]+ue*M,Re[2]+ue*M)}}s.addGroup(ye,a.length/3-ye,0)}function ce(){const ye=a.length/3;let De=0;dt(ae,De),De+=ae.length;for(let Re=0,Xe=Y.length;Re<Xe;Re++){const Ve=Y[Re];dt(Ve,De),De+=Ve.length}s.addGroup(ye,a.length/3-ye,1)}function dt(ye,De){let Re=ye.length;for(;--Re>=0;){const Xe=Re;let Ve=Re-1;Ve<0&&(Ve=ye.length-1);for(let rt=0,tt=M+z*2;rt<tt;rt++){const mt=ue*rt,Tt=ue*(rt+1),yt=De+Xe+mt,J=De+Ve+mt,q=De+Ve+Tt,we=De+Xe+Tt;Fe(yt,J,q,we)}}}function Ue(ye,De,Re){v.push(ye),v.push(De),v.push(Re)}function $e(ye,De,Re){ct(ye),ct(De),ct(Re);const Xe=a.length/3,Ve=S.generateTopUV(s,a,Xe-3,Xe-2,Xe-1);it(Ve[0]),it(Ve[1]),it(Ve[2])}function Fe(ye,De,Re,Xe){ct(ye),ct(De),ct(Xe),ct(De),ct(Re),ct(Xe);const Ve=a.length/3,rt=S.generateSideWallUV(s,a,Ve-6,Ve-3,Ve-2,Ve-1);it(rt[0]),it(rt[1]),it(rt[3]),it(rt[1]),it(rt[2]),it(rt[3])}function ct(ye){a.push(v[ye*3+0]),a.push(v[ye*3+1]),a.push(v[ye*3+2])}function it(ye){l.push(ye.x),l.push(ye.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,s=this.parameters.options;return YE(t,s,e)}static fromJSON(e,t){const s=[];for(let l=0,d=e.shapes.length;l<d;l++){const p=t[e.shapes[l]];s.push(p)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new Dy[a.type]().fromJSON(a)),new ua(s,e.options)}}const XE={generateTopUV:function(n,e,t,s,a){const l=e[t*3],d=e[t*3+1],p=e[s*3],v=e[s*3+1],y=e[a*3],M=e[a*3+1];return[new ke(l,d),new ke(p,v),new ke(y,M)]},generateSideWallUV:function(n,e,t,s,a,l){const d=e[t*3],p=e[t*3+1],v=e[t*3+2],y=e[s*3],M=e[s*3+1],E=e[s*3+2],T=e[a*3],L=e[a*3+1],D=e[a*3+2],N=e[l*3],z=e[l*3+1],C=e[l*3+2];return Math.abs(p-M)<Math.abs(d-y)?[new ke(d,1-v),new ke(y,1-E),new ke(T,1-D),new ke(N,1-C)]:[new ke(p,1-v),new ke(M,1-E),new ke(L,1-D),new ke(z,1-C)]}};function YE(n,e,t){if(t.shapes=[],Array.isArray(n))for(let s=0,a=n.length;s<a;s++){const l=n[s];t.shapes.push(l.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class hp extends At{constructor(e=new jo([new ke(0,.5),new ke(-.5,-.5),new ke(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const s=[],a=[],l=[],d=[];let p=0,v=0;if(Array.isArray(e)===!1)y(e);else for(let M=0;M<e.length;M++)y(e[M]),this.addGroup(p,v,M),p+=v,v=0;this.setIndex(s),this.setAttribute("position",new It(a,3)),this.setAttribute("normal",new It(l,3)),this.setAttribute("uv",new It(d,2));function y(M){const E=a.length/3,T=M.extractPoints(t);let L=T.shape;const D=T.holes;lr.isClockWise(L)===!1&&(L=L.reverse());for(let z=0,C=D.length;z<C;z++){const S=D[z];lr.isClockWise(S)===!0&&(D[z]=S.reverse())}const N=lr.triangulateShape(L,D);for(let z=0,C=D.length;z<C;z++){const S=D[z];L=L.concat(S)}for(let z=0,C=L.length;z<C;z++){const S=L[z];a.push(S.x,S.y,0),l.push(0,0,1),d.push(S.x,S.y)}for(let z=0,C=N.length;z<C;z++){const S=N[z],G=S[0]+E,W=S[1]+E,H=S[2]+E;s.push(G,W,H),v+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return jE(t,e)}static fromJSON(e,t){const s=[];for(let a=0,l=e.shapes.length;a<l;a++){const d=t[e.shapes[a]];s.push(d)}return new hp(s,e.curveSegments)}}function jE(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,s=n.length;t<s;t++){const a=n[t];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class ho extends At{constructor(e=1,t=32,s=16,a=0,l=Math.PI*2,d=0,p=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:s,phiStart:a,phiLength:l,thetaStart:d,thetaLength:p},t=Math.max(3,Math.floor(t)),s=Math.max(2,Math.floor(s));const v=Math.min(d+p,Math.PI);let y=0;const M=[],E=new Q,T=new Q,L=[],D=[],N=[],z=[];for(let C=0;C<=s;C++){const S=[],G=C/s;let W=0;C==0&&d==0?W=.5/t:C==s&&v==Math.PI&&(W=-.5/t);for(let H=0;H<=t;H++){const $=H/t;E.x=-e*Math.cos(a+$*l)*Math.sin(d+G*p),E.y=e*Math.cos(d+G*p),E.z=e*Math.sin(a+$*l)*Math.sin(d+G*p),D.push(E.x,E.y,E.z),T.copy(E).normalize(),N.push(T.x,T.y,T.z),z.push($+W,1-G),S.push(y++)}M.push(S)}for(let C=0;C<s;C++)for(let S=0;S<t;S++){const G=M[C][S+1],W=M[C][S],H=M[C+1][S],$=M[C+1][S+1];(C!==0||d>0)&&L.push(G,W,$),(C!==s-1||v<Math.PI)&&L.push(W,H,$)}this.setIndex(L),this.setAttribute("position",new It(D,3)),this.setAttribute("normal",new It(N,3)),this.setAttribute("uv",new It(z,2))}static fromJSON(e){return new ho(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class up extends At{constructor(e=1,t=.4,s=8,a=6,l=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:s,tubularSegments:a,arc:l},s=Math.floor(s),a=Math.floor(a);const d=[],p=[],v=[],y=[],M=new Q,E=new Q,T=new Q;for(let L=0;L<=s;L++)for(let D=0;D<=a;D++){const N=D/a*l,z=L/s*Math.PI*2;E.x=(e+t*Math.cos(z))*Math.cos(N),E.y=(e+t*Math.cos(z))*Math.sin(N),E.z=t*Math.sin(z),p.push(E.x,E.y,E.z),M.x=e*Math.cos(N),M.y=e*Math.sin(N),T.subVectors(E,M).normalize(),v.push(T.x,T.y,T.z),y.push(D/a),y.push(L/s)}for(let L=1;L<=s;L++)for(let D=1;D<=a;D++){const N=(a+1)*L+D-1,z=(a+1)*(L-1)+D-1,C=(a+1)*(L-1)+D,S=(a+1)*L+D;d.push(N,z,S),d.push(z,C,S)}this.setIndex(d),this.setAttribute("position",new It(p,3)),this.setAttribute("normal",new It(v,3)),this.setAttribute("uv",new It(y,2))}static fromJSON(e){return new up(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class qE extends Sn{constructor(e){super(),this.type="ShadowMaterial",this.color=new Ze(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}qE.prototype.isShadowMaterial=!0;class Oy extends Sn{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ze(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=aa,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}Oy.prototype.isMeshStandardMaterial=!0;class $E extends Oy{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ke(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Hn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new Ze(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Ze(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ze(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}$E.prototype.isMeshPhysicalMaterial=!0;class ZE extends Sn{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Ze(16777215),this.specular=new Ze(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=aa,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=nh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}ZE.prototype.isMeshPhongMaterial=!0;class JE extends Sn{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ze(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=aa,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}JE.prototype.isMeshToonMaterial=!0;class QE extends Sn{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=aa,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}QE.prototype.isMeshNormalMaterial=!0;class KE extends Sn{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=nh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}KE.prototype.isMeshLambertMaterial=!0;class eT extends Sn{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ze(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=aa,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}eT.prototype.isMeshMatcapMaterial=!0;class tT extends Vr{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}tT.prototype.isLineDashedMaterial=!0;const Ot={arraySlice:function(n,e,t){return Ot.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(a,l){return n[a]-n[l]}const t=n.length,s=new Array(t);for(let a=0;a!==t;++a)s[a]=a;return s.sort(e),s},sortedArray:function(n,e,t){const s=n.length,a=new n.constructor(s);for(let l=0,d=0;d!==s;++l){const p=t[l]*e;for(let v=0;v!==e;++v)a[d++]=n[p+v]}return a},flattenJSON:function(n,e,t,s){let a=1,l=n[0];for(;l!==void 0&&l[s]===void 0;)l=n[a++];if(l===void 0)return;let d=l[s];if(d!==void 0)if(Array.isArray(d))do d=l[s],d!==void 0&&(e.push(l.time),t.push.apply(t,d)),l=n[a++];while(l!==void 0);else if(d.toArray!==void 0)do d=l[s],d!==void 0&&(e.push(l.time),d.toArray(t,t.length)),l=n[a++];while(l!==void 0);else do d=l[s],d!==void 0&&(e.push(l.time),t.push(d)),l=n[a++];while(l!==void 0)},subclip:function(n,e,t,s,a=30){const l=n.clone();l.name=e;const d=[];for(let v=0;v<l.tracks.length;++v){const y=l.tracks[v],M=y.getValueSize(),E=[],T=[];for(let L=0;L<y.times.length;++L){const D=y.times[L]*a;if(!(D<t||D>=s)){E.push(y.times[L]);for(let N=0;N<M;++N)T.push(y.values[L*M+N])}}E.length!==0&&(y.times=Ot.convertArray(E,y.times.constructor),y.values=Ot.convertArray(T,y.values.constructor),d.push(y))}l.tracks=d;let p=1/0;for(let v=0;v<l.tracks.length;++v)p>l.tracks[v].times[0]&&(p=l.tracks[v].times[0]);for(let v=0;v<l.tracks.length;++v)l.tracks[v].shift(-1*p);return l.resetDuration(),l},makeClipAdditive:function(n,e=0,t=n,s=30){s<=0&&(s=30);const a=t.tracks.length,l=e/s;for(let d=0;d<a;++d){const p=t.tracks[d],v=p.ValueTypeName;if(v==="bool"||v==="string")continue;const y=n.tracks.find(function(C){return C.name===p.name&&C.ValueTypeName===v});if(y===void 0)continue;let M=0;const E=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(M=E/3);let T=0;const L=y.getValueSize();y.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(T=L/3);const D=p.times.length-1;let N;if(l<=p.times[0]){const C=M,S=E-M;N=Ot.arraySlice(p.values,C,S)}else if(l>=p.times[D]){const C=D*E+M,S=C+E-M;N=Ot.arraySlice(p.values,C,S)}else{const C=p.createInterpolant(),S=M,G=E-M;C.evaluate(l),N=Ot.arraySlice(C.resultBuffer,S,G)}v==="quaternion"&&new In().fromArray(N).normalize().conjugate().toArray(N);const z=y.times.length;for(let C=0;C<z;++C){const S=C*L+T;if(v==="quaternion")In.multiplyQuaternionsFlat(y.values,S,N,0,y.values,S);else{const G=L-T*2;for(let W=0;W<G;++W)y.values[S+W]-=N[W]}}}return n.blendMode=ry,n}};class xr{constructor(e,t,s,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(s),this.sampleValues=t,this.valueSize=s,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let s=this._cachedIndex,a=t[s],l=t[s-1];e:{t:{let d;n:{i:if(!(e<a)){for(let p=s+2;;){if(a===void 0){if(e<l)break i;return s=t.length,this._cachedIndex=s,this.afterEnd_(s-1,e,l)}if(s===p)break;if(l=a,a=t[++s],e<a)break t}d=t.length;break n}if(!(e>=l)){const p=t[1];e<p&&(s=2,l=p);for(let v=s-2;;){if(l===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,a);if(s===v)break;if(a=l,l=t[--s-1],e>=l)break t}d=s,s=0;break n}break e}for(;s<d;){const p=s+d>>>1;e<t[p]?d=p:s=p+1}if(a=t[s],l=t[s-1],l===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,a);if(a===void 0)return s=t.length,this._cachedIndex=s,this.afterEnd_(s-1,l,e)}this._cachedIndex=s,this.intervalChanged_(s,l,a)}return this.interpolate_(s,l,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a;for(let d=0;d!==a;++d)t[d]=s[l+d];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}xr.prototype.beforeStart_=xr.prototype.copySampleValue_;xr.prototype.afterEnd_=xr.prototype.copySampleValue_;class nT extends xr{constructor(e,t,s,a){super(e,t,s,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Cs,endingEnd:Cs}}intervalChanged_(e,t,s){const a=this.parameterPositions;let l=e-2,d=e+1,p=a[l],v=a[d];if(p===void 0)switch(this.getSettings_().endingStart){case Es:l=e,p=2*t-s;break;case Lc:l=a.length-2,p=t+a[l]-a[l+1];break;default:l=e,p=s}if(v===void 0)switch(this.getSettings_().endingEnd){case Es:d=e,v=2*s-t;break;case Lc:d=1,v=s+a[1]-a[0];break;default:d=e-1,v=t}const y=(s-t)*.5,M=this.valueSize;this._weightPrev=y/(t-p),this._weightNext=y/(v-s),this._offsetPrev=l*M,this._offsetNext=d*M}interpolate_(e,t,s,a){const l=this.resultBuffer,d=this.sampleValues,p=this.valueSize,v=e*p,y=v-p,M=this._offsetPrev,E=this._offsetNext,T=this._weightPrev,L=this._weightNext,D=(s-t)/(a-t),N=D*D,z=N*D,C=-T*z+2*T*N-T*D,S=(1+T)*z+(-1.5-2*T)*N+(-.5+T)*D+1,G=(-1-L)*z+(1.5+L)*N+.5*D,W=L*z-L*N;for(let H=0;H!==p;++H)l[H]=C*d[M+H]+S*d[y+H]+G*d[v+H]+W*d[E+H];return l}}class By extends xr{constructor(e,t,s,a){super(e,t,s,a)}interpolate_(e,t,s,a){const l=this.resultBuffer,d=this.sampleValues,p=this.valueSize,v=e*p,y=v-p,M=(s-t)/(a-t),E=1-M;for(let T=0;T!==p;++T)l[T]=d[y+T]*E+d[v+T]*M;return l}}class iT extends xr{constructor(e,t,s,a){super(e,t,s,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class bi{constructor(e,t,s,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ot.convertArray(t,this.TimeBufferType),this.values=Ot.convertArray(s,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let s;if(t.toJSON!==this.toJSON)s=t.toJSON(e);else{s={name:e.name,times:Ot.convertArray(e.times,Array),values:Ot.convertArray(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(s.interpolation=a)}return s.type=e.ValueTypeName,s}InterpolantFactoryMethodDiscrete(e){return new iT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new By(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new nT(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Tc:t=this.InterpolantFactoryMethodDiscrete;break;case kc:t=this.InterpolantFactoryMethodLinear;break;case Qh:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const s="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(s);return console.warn("THREE.KeyframeTrack:",s),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Tc;case this.InterpolantFactoryMethodLinear:return kc;case this.InterpolantFactoryMethodSmooth:return Qh}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let s=0,a=t.length;s!==a;++s)t[s]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let s=0,a=t.length;s!==a;++s)t[s]*=e}return this}trim(e,t){const s=this.times,a=s.length;let l=0,d=a-1;for(;l!==a&&s[l]<e;)++l;for(;d!==-1&&s[d]>t;)--d;if(++d,l!==0||d!==a){l>=d&&(d=Math.max(d,1),l=d-1);const p=this.getValueSize();this.times=Ot.arraySlice(s,l,d),this.values=Ot.arraySlice(this.values,l*p,d*p)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const s=this.times,a=this.values,l=s.length;l===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let d=null;for(let p=0;p!==l;p++){const v=s[p];if(typeof v=="number"&&isNaN(v)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,p,v),e=!1;break}if(d!==null&&d>v){console.error("THREE.KeyframeTrack: Out of order keys.",this,p,v,d),e=!1;break}d=v}if(a!==void 0&&Ot.isTypedArray(a))for(let p=0,v=a.length;p!==v;++p){const y=a[p];if(isNaN(y)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,p,y),e=!1;break}}return e}optimize(){const e=Ot.arraySlice(this.times),t=Ot.arraySlice(this.values),s=this.getValueSize(),a=this.getInterpolation()===Qh,l=e.length-1;let d=1;for(let p=1;p<l;++p){let v=!1;const y=e[p],M=e[p+1];if(y!==M&&(p!==1||y!==e[0]))if(a)v=!0;else{const E=p*s,T=E-s,L=E+s;for(let D=0;D!==s;++D){const N=t[E+D];if(N!==t[T+D]||N!==t[L+D]){v=!0;break}}}if(v){if(p!==d){e[d]=e[p];const E=p*s,T=d*s;for(let L=0;L!==s;++L)t[T+L]=t[E+L]}++d}}if(l>0){e[d]=e[l];for(let p=l*s,v=d*s,y=0;y!==s;++y)t[v+y]=t[p+y];++d}return d!==e.length?(this.times=Ot.arraySlice(e,0,d),this.values=Ot.arraySlice(t,0,d*s)):(this.times=e,this.values=t),this}clone(){const e=Ot.arraySlice(this.times,0),t=Ot.arraySlice(this.values,0),s=this.constructor,a=new s(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}bi.prototype.TimeBufferType=Float32Array;bi.prototype.ValueBufferType=Float32Array;bi.prototype.DefaultInterpolation=kc;class da extends bi{}da.prototype.ValueTypeName="bool";da.prototype.ValueBufferType=Array;da.prototype.DefaultInterpolation=Tc;da.prototype.InterpolantFactoryMethodLinear=void 0;da.prototype.InterpolantFactoryMethodSmooth=void 0;class Hy extends bi{}Hy.prototype.ValueTypeName="color";class Rc extends bi{}Rc.prototype.ValueTypeName="number";class rT extends xr{constructor(e,t,s,a){super(e,t,s,a)}interpolate_(e,t,s,a){const l=this.resultBuffer,d=this.sampleValues,p=this.valueSize,v=(s-t)/(a-t);let y=e*p;for(let M=y+p;y!==M;y+=4)In.slerpFlat(l,0,d,y-p,d,y,v);return l}}class qo extends bi{InterpolantFactoryMethodLinear(e){return new rT(this.times,this.values,this.getValueSize(),e)}}qo.prototype.ValueTypeName="quaternion";qo.prototype.DefaultInterpolation=kc;qo.prototype.InterpolantFactoryMethodSmooth=void 0;class fa extends bi{}fa.prototype.ValueTypeName="string";fa.prototype.ValueBufferType=Array;fa.prototype.DefaultInterpolation=Tc;fa.prototype.InterpolantFactoryMethodLinear=void 0;fa.prototype.InterpolantFactoryMethodSmooth=void 0;class Ic extends bi{}Ic.prototype.ValueTypeName="vector";class k0{constructor(e,t=-1,s,a=$f){this.name=e,this.tracks=s,this.duration=t,this.blendMode=a,this.uuid=mi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],s=e.tracks,a=1/(e.fps||1);for(let d=0,p=s.length;d!==p;++d)t.push(aT(s[d]).scale(a));const l=new this(e.name,e.duration,t,e.blendMode);return l.uuid=e.uuid,l}static toJSON(e){const t=[],s=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let l=0,d=s.length;l!==d;++l)t.push(bi.toJSON(s[l]));return a}static CreateFromMorphTargetSequence(e,t,s,a){const l=t.length,d=[];for(let p=0;p<l;p++){let v=[],y=[];v.push((p+l-1)%l,p,(p+1)%l),y.push(0,1,0);const M=Ot.getKeyframeOrder(v);v=Ot.sortedArray(v,1,M),y=Ot.sortedArray(y,1,M),!a&&v[0]===0&&(v.push(l),y.push(y[0])),d.push(new Rc(".morphTargetInfluences["+t[p].name+"]",v,y).scale(1/s))}return new this(e,-1,d)}static findByName(e,t){let s=e;if(!Array.isArray(e)){const a=e;s=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<s.length;a++)if(s[a].name===t)return s[a];return null}static CreateClipsFromMorphTargetSequences(e,t,s){const a={},l=/^([\w-]*?)([\d]+)$/;for(let p=0,v=e.length;p<v;p++){const y=e[p],M=y.name.match(l);if(M&&M.length>1){const E=M[1];let T=a[E];T||(a[E]=T=[]),T.push(y)}}const d=[];for(const p in a)d.push(this.CreateFromMorphTargetSequence(p,a[p],t,s));return d}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const s=function(E,T,L,D,N){if(L.length!==0){const z=[],C=[];Ot.flattenJSON(L,z,C,D),z.length!==0&&N.push(new E(T,z,C))}},a=[],l=e.name||"default",d=e.fps||30,p=e.blendMode;let v=e.length||-1;const y=e.hierarchy||[];for(let E=0;E<y.length;E++){const T=y[E].keys;if(!(!T||T.length===0))if(T[0].morphTargets){const L={};let D;for(D=0;D<T.length;D++)if(T[D].morphTargets)for(let N=0;N<T[D].morphTargets.length;N++)L[T[D].morphTargets[N]]=-1;for(const N in L){const z=[],C=[];for(let S=0;S!==T[D].morphTargets.length;++S){const G=T[D];z.push(G.time),C.push(G.morphTarget===N?1:0)}a.push(new Rc(".morphTargetInfluence["+N+"]",z,C))}v=L.length*(d||1)}else{const L=".bones["+t[E].name+"]";s(Ic,L+".position",T,"pos",a),s(qo,L+".quaternion",T,"rot",a),s(Ic,L+".scale",T,"scl",a)}}return a.length===0?null:new this(l,v,a,p)}resetDuration(){const e=this.tracks;let t=0;for(let s=0,a=e.length;s!==a;++s){const l=this.tracks[s];t=Math.max(t,l.times[l.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function sT(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Rc;case"vector":case"vector2":case"vector3":case"vector4":return Ic;case"color":return Hy;case"quaternion":return qo;case"bool":case"boolean":return da;case"string":return fa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function aT(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=sT(n.type);if(n.times===void 0){const t=[],s=[];Ot.flattenJSON(n.keys,t,s,"value"),n.times=t,n.values=s}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Qs={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class oT{constructor(e,t,s){const a=this;let l=!1,d=0,p=0,v;const y=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=s,this.itemStart=function(M){p++,l===!1&&a.onStart!==void 0&&a.onStart(M,d,p),l=!0},this.itemEnd=function(M){d++,a.onProgress!==void 0&&a.onProgress(M,d,p),d===p&&(l=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(M){a.onError!==void 0&&a.onError(M)},this.resolveURL=function(M){return v?v(M):M},this.setURLModifier=function(M){return v=M,this},this.addHandler=function(M,E){return y.push(M,E),this},this.removeHandler=function(M){const E=y.indexOf(M);return E!==-1&&y.splice(E,2),this},this.getHandler=function(M){for(let E=0,T=y.length;E<T;E+=2){const L=y[E],D=y[E+1];if(L.global&&(L.lastIndex=0),L.test(M))return D}return null}}}const lT=new oT;class wr{constructor(e){this.manager=e!==void 0?e:lT,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const s=this;return new Promise(function(a,l){s.load(e,a,t,l)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ci={};class cT extends wr{constructor(e){super(e)}load(e,t,s,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=Qs.get(e);if(l!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(l),this.manager.itemEnd(e)},0),l;if(Ci[e]!==void 0){Ci[e].push({onLoad:t,onProgress:s,onError:a});return}Ci[e]=[],Ci[e].push({onLoad:t,onProgress:s,onError:a});const d=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),p=this.mimeType,v=this.responseType;fetch(d).then(y=>{if(y.status===200||y.status===0){if(y.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||y.body.getReader===void 0)return y;const M=Ci[e],E=y.body.getReader(),T=y.headers.get("Content-Length"),L=T?parseInt(T):0,D=L!==0;let N=0;const z=new ReadableStream({start(C){S();function S(){E.read().then(({done:G,value:W})=>{if(G)C.close();else{N+=W.byteLength;const H=new ProgressEvent("progress",{lengthComputable:D,loaded:N,total:L});for(let $=0,K=M.length;$<K;$++){const le=M[$];le.onProgress&&le.onProgress(H)}C.enqueue(W),S()}})}}});return new Response(z)}else throw Error(`fetch for "${y.url}" responded with ${y.status}: ${y.statusText}`)}).then(y=>{switch(v){case"arraybuffer":return y.arrayBuffer();case"blob":return y.blob();case"document":return y.text().then(M=>new DOMParser().parseFromString(M,p));case"json":return y.json();default:if(p===void 0)return y.text();{const E=/charset="?([^;"\s]*)"?/i.exec(p),T=E&&E[1]?E[1].toLowerCase():void 0,L=new TextDecoder(T);return y.arrayBuffer().then(D=>L.decode(D))}}}).then(y=>{Qs.add(e,y);const M=Ci[e];delete Ci[e];for(let E=0,T=M.length;E<T;E++){const L=M[E];L.onLoad&&L.onLoad(y)}}).catch(y=>{const M=Ci[e];if(M===void 0)throw this.manager.itemError(e),y;delete Ci[e];for(let E=0,T=M.length;E<T;E++){const L=M[E];L.onError&&L.onError(y)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Wy extends wr{constructor(e){super(e)}load(e,t,s,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,d=Qs.get(e);if(d!==void 0)return l.manager.itemStart(e),setTimeout(function(){t&&t(d),l.manager.itemEnd(e)},0),d;const p=ko("img");function v(){M(),Qs.add(e,this),t&&t(this),l.manager.itemEnd(e)}function y(E){M(),a&&a(E),l.manager.itemError(e),l.manager.itemEnd(e)}function M(){p.removeEventListener("load",v,!1),p.removeEventListener("error",y,!1)}return p.addEventListener("load",v,!1),p.addEventListener("error",y,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(p.crossOrigin=this.crossOrigin),l.manager.itemStart(e),p.src=e,p}}class hT extends wr{constructor(e){super(e)}load(e,t,s,a){const l=new ah,d=new Wy(this.manager);d.setCrossOrigin(this.crossOrigin),d.setPath(this.path);let p=0;function v(y){d.load(e[y],function(M){l.images[y]=M,p++,p===6&&(l.needsUpdate=!0,t&&t(l))},void 0,a)}for(let y=0;y<e.length;++y)v(y);return l}}class uT extends wr{constructor(e){super(e)}load(e,t,s,a){const l=new nn,d=new Wy(this.manager);return d.setCrossOrigin(this.crossOrigin),d.setPath(this.path),d.load(e,function(p){l.image=p,l.needsUpdate=!0,t!==void 0&&t(l)},s,a),l}}class xi extends Ct{constructor(e,t=1){super(),this.type="Light",this.color=new Ze(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}xi.prototype.isLight=!0;class dT extends xi{constructor(e,t,s){super(e,s),this.type="HemisphereLight",this.position.copy(Ct.DefaultUp),this.updateMatrix(),this.groundColor=new Ze(t)}copy(e){return xi.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}dT.prototype.isHemisphereLight=!0;const L0=new nt,P0=new Q,R0=new Q;class dp{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ke(512,512),this.map=null,this.mapPass=null,this.matrix=new nt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new oh,this._frameExtents=new ke(1,1),this._viewportCount=1,this._viewports=[new Mt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,s=this.matrix;P0.setFromMatrixPosition(e.matrixWorld),t.position.copy(P0),R0.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(R0),t.updateMatrixWorld(),L0.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(L0),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(t.projectionMatrix),s.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Vy extends dp{constructor(){super(new _n(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,s=Id*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,l=e.distance||t.far;(s!==t.fov||a!==t.aspect||l!==t.far)&&(t.fov=s,t.aspect=a,t.far=l,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}Vy.prototype.isSpotLightShadow=!0;class fT extends xi{constructor(e,t,s=0,a=Math.PI/3,l=0,d=1){super(e,t),this.type="SpotLight",this.position.copy(Ct.DefaultUp),this.updateMatrix(),this.target=new Ct,this.distance=s,this.angle=a,this.penumbra=l,this.decay=d,this.shadow=new Vy}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}fT.prototype.isSpotLight=!0;const I0=new nt,Fa=new Q,Ru=new Q;class Uy extends dp{constructor(){super(new _n(90,1,.5,500)),this._frameExtents=new ke(4,2),this._viewportCount=6,this._viewports=[new Mt(2,1,1,1),new Mt(0,1,1,1),new Mt(3,1,1,1),new Mt(1,1,1,1),new Mt(3,0,1,1),new Mt(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,t=0){const s=this.camera,a=this.matrix,l=e.distance||s.far;l!==s.far&&(s.far=l,s.updateProjectionMatrix()),Fa.setFromMatrixPosition(e.matrixWorld),s.position.copy(Fa),Ru.copy(s.position),Ru.add(this._cubeDirections[t]),s.up.copy(this._cubeUps[t]),s.lookAt(Ru),s.updateMatrixWorld(),a.makeTranslation(-Fa.x,-Fa.y,-Fa.z),I0.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(I0)}}Uy.prototype.isPointLightShadow=!0;class Gy extends xi{constructor(e,t,s=0,a=1){super(e,t),this.type="PointLight",this.distance=s,this.decay=a,this.shadow=new Uy}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}Gy.prototype.isPointLight=!0;class Xy extends dp{constructor(){super(new ep(-5,5,5,-5,.5,500))}}Xy.prototype.isDirectionalLightShadow=!0;class pT extends xi{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(Ct.DefaultUp),this.updateMatrix(),this.target=new Ct,this.shadow=new Xy}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}pT.prototype.isDirectionalLight=!0;class Yy extends xi{constructor(e,t){super(e,t),this.type="AmbientLight"}}Yy.prototype.isAmbientLight=!0;class gT extends xi{constructor(e,t,s=10,a=10){super(e,t),this.type="RectAreaLight",this.width=s,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}gT.prototype.isRectAreaLight=!0;class jy{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const s=e.x,a=e.y,l=e.z,d=this.coefficients;return t.copy(d[0]).multiplyScalar(.282095),t.addScaledVector(d[1],.488603*a),t.addScaledVector(d[2],.488603*l),t.addScaledVector(d[3],.488603*s),t.addScaledVector(d[4],1.092548*(s*a)),t.addScaledVector(d[5],1.092548*(a*l)),t.addScaledVector(d[6],.315392*(3*l*l-1)),t.addScaledVector(d[7],1.092548*(s*l)),t.addScaledVector(d[8],.546274*(s*s-a*a)),t}getIrradianceAt(e,t){const s=e.x,a=e.y,l=e.z,d=this.coefficients;return t.copy(d[0]).multiplyScalar(.886227),t.addScaledVector(d[1],2*.511664*a),t.addScaledVector(d[2],2*.511664*l),t.addScaledVector(d[3],2*.511664*s),t.addScaledVector(d[4],2*.429043*s*a),t.addScaledVector(d[5],2*.429043*a*l),t.addScaledVector(d[6],.743125*l*l-.247708),t.addScaledVector(d[7],2*.429043*s*l),t.addScaledVector(d[8],.429043*(s*s-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let s=0;s<9;s++)this.coefficients[s].addScaledVector(e.coefficients[s],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let s=0;s<9;s++)this.coefficients[s].lerp(e.coefficients[s],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const s=this.coefficients;for(let a=0;a<9;a++)s[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const s=this.coefficients;for(let a=0;a<9;a++)s[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const s=e.x,a=e.y,l=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*l,t[3]=.488603*s,t[4]=1.092548*s*a,t[5]=1.092548*a*l,t[6]=.315392*(3*l*l-1),t[7]=1.092548*s*l,t[8]=.546274*(s*s-a*a)}}jy.prototype.isSphericalHarmonics3=!0;class fp extends xi{constructor(e=new jy,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}fp.prototype.isLightProbe=!0;class mT{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let s=0,a=e.length;s<a;s++)t+=String.fromCharCode(e[s]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class xT extends At{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}xT.prototype.isInstancedBufferGeometry=!0;class vT extends wr{constructor(e){super(e),typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,s,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,d=Qs.get(e);if(d!==void 0)return l.manager.itemStart(e),setTimeout(function(){t&&t(d),l.manager.itemEnd(e)},0),d;const p={};p.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",p.headers=this.requestHeader,fetch(e,p).then(function(v){return v.blob()}).then(function(v){return createImageBitmap(v,Object.assign(l.options,{colorSpaceConversion:"none"}))}).then(function(v){Qs.add(e,v),t&&t(v),l.manager.itemEnd(e)}).catch(function(v){a&&a(v),l.manager.itemError(e),l.manager.itemEnd(e)}),l.manager.itemStart(e)}}vT.prototype.isImageBitmapLoader=!0;let Wl;const yT={getContext:function(){return Wl===void 0&&(Wl=new(window.AudioContext||window.webkitAudioContext)),Wl},setContext:function(n){Wl=n}};class bT extends wr{constructor(e){super(e)}load(e,t,s,a){const l=this,d=new cT(this.manager);d.setResponseType("arraybuffer"),d.setPath(this.path),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(e,function(p){try{const v=p.slice(0);yT.getContext().decodeAudioData(v,function(M){t(M)})}catch(v){a?a(v):console.error(v),l.manager.itemError(e)}},s,a)}}class wT extends fp{constructor(e,t,s=1){super(void 0,s);const a=new Ze().set(e),l=new Ze().set(t),d=new Q(a.r,a.g,a.b),p=new Q(l.r,l.g,l.b),v=Math.sqrt(Math.PI),y=v*Math.sqrt(.75);this.sh.coefficients[0].copy(d).add(p).multiplyScalar(v),this.sh.coefficients[1].copy(d).sub(p).multiplyScalar(y)}}wT.prototype.isHemisphereLightProbe=!0;class ST extends fp{constructor(e,t=1){super(void 0,t);const s=new Ze().set(e);this.sh.coefficients[0].set(s.r,s.g,s.b).multiplyScalar(2*Math.sqrt(Math.PI))}}ST.prototype.isAmbientLightProbe=!0;class _T extends Ct{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class MT{constructor(e,t,s){this.binding=e,this.valueSize=s;let a,l,d;switch(t){case"quaternion":a=this._slerp,l=this._slerpAdditive,d=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(s*6),this._workIndex=5;break;case"string":case"bool":a=this._select,l=this._select,d=this._setAdditiveIdentityOther,this.buffer=new Array(s*5);break;default:a=this._lerp,l=this._lerpAdditive,d=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(s*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=l,this._setIdentity=d,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const s=this.buffer,a=this.valueSize,l=e*a+a;let d=this.cumulativeWeight;if(d===0){for(let p=0;p!==a;++p)s[l+p]=s[p];d=t}else{d+=t;const p=t/d;this._mixBufferRegion(s,l,0,p,a)}this.cumulativeWeight=d}accumulateAdditive(e){const t=this.buffer,s=this.valueSize,a=s*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,s),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,s=this.buffer,a=e*t+t,l=this.cumulativeWeight,d=this.cumulativeWeightAdditive,p=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,l<1){const v=t*this._origIndex;this._mixBufferRegion(s,a,v,1-l,t)}d>0&&this._mixBufferRegionAdditive(s,a,this._addIndex*t,1,t);for(let v=t,y=t+t;v!==y;++v)if(s[v]!==s[v+t]){p.setValue(s,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,s=this.valueSize,a=s*this._origIndex;e.getValue(t,a);for(let l=s,d=a;l!==d;++l)t[l]=t[a+l%s];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let s=e;s<t;s++)this.buffer[s]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let s=0;s<this.valueSize;s++)this.buffer[t+s]=this.buffer[e+s]}_select(e,t,s,a,l){if(a>=.5)for(let d=0;d!==l;++d)e[t+d]=e[s+d]}_slerp(e,t,s,a){In.slerpFlat(e,t,e,t,e,s,a)}_slerpAdditive(e,t,s,a,l){const d=this._workIndex*l;In.multiplyQuaternionsFlat(e,d,e,t,e,s),In.slerpFlat(e,t,e,t,e,d,a)}_lerp(e,t,s,a,l){const d=1-a;for(let p=0;p!==l;++p){const v=t+p;e[v]=e[v]*d+e[s+p]*a}}_lerpAdditive(e,t,s,a,l){for(let d=0;d!==l;++d){const p=t+d;e[p]=e[p]+e[s+d]*a}}}const pp="\\[\\]\\.:\\/",AT=new RegExp("["+pp+"]","g"),gp="[^"+pp+"]",CT="[^"+pp.replace("\\.","")+"]",ET=/((?:WC+[\/:])*)/.source.replace("WC",gp),TT=/(WCOD+)?/.source.replace("WCOD",CT),kT=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gp),LT=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gp),PT=new RegExp("^"+ET+TT+kT+LT+"$"),RT=["material","materials","bones"];class IT{constructor(e,t,s){const a=s||_t.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const s=this._targetGroup.nCachedObjects_,a=this._bindings[s];a!==void 0&&a.getValue(e,t)}setValue(e,t){const s=this._bindings;for(let a=this._targetGroup.nCachedObjects_,l=s.length;a!==l;++a)s[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,s=e.length;t!==s;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,s=e.length;t!==s;++t)e[t].unbind()}}class _t{constructor(e,t,s){this.path=t,this.parsedPath=s||_t.parseTrackName(t),this.node=_t.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,s){return e&&e.isAnimationObjectGroup?new _t.Composite(e,t,s):new _t(e,t,s)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(AT,"")}static parseTrackName(e){const t=PT.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const s={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=s.nodeName&&s.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const l=s.nodeName.substring(a+1);RT.indexOf(l)!==-1&&(s.nodeName=s.nodeName.substring(0,a),s.objectName=l)}if(s.propertyName===null||s.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return s}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const s=e.skeleton.getBoneByName(t);if(s!==void 0)return s}if(e.children){const s=function(l){for(let d=0;d<l.length;d++){const p=l[d];if(p.name===t||p.uuid===t)return p;const v=s(p.children);if(v)return v}return null},a=s(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const s=this.resolvedProperty;for(let a=0,l=s.length;a!==l;++a)e[t++]=s[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const s=this.resolvedProperty;for(let a=0,l=s.length;a!==l;++a)s[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const s=this.resolvedProperty;for(let a=0,l=s.length;a!==l;++a)s[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const s=this.resolvedProperty;for(let a=0,l=s.length;a!==l;++a)s[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,s=t.objectName,a=t.propertyName;let l=t.propertyIndex;if(e||(e=_t.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(s){let y=t.objectIndex;switch(s){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let M=0;M<e.length;M++)if(e[M].name===y){y=M;break}break;default:if(e[s]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[s]}if(y!==void 0){if(e[y]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[y]}}const d=e[a];if(d===void 0){const y=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+y+"."+a+" but it wasn't found.",e);return}let p=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?p=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(p=this.Versioning.MatrixWorldNeedsUpdate);let v=this.BindingType.Direct;if(l!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[l]!==void 0&&(l=e.morphTargetDictionary[l])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}v=this.BindingType.ArrayElement,this.resolvedProperty=d,this.propertyIndex=l}else d.fromArray!==void 0&&d.toArray!==void 0?(v=this.BindingType.HasFromToArray,this.resolvedProperty=d):Array.isArray(d)?(v=this.BindingType.EntireArray,this.resolvedProperty=d):this.propertyName=a;this.getValue=this.GetterByBindingType[v],this.setValue=this.SetterByBindingTypeAndVersioning[v][p]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}_t.Composite=IT;_t.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};_t.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};_t.prototype.GetterByBindingType=[_t.prototype._getValue_direct,_t.prototype._getValue_array,_t.prototype._getValue_arrayElement,_t.prototype._getValue_toArray];_t.prototype.SetterByBindingTypeAndVersioning=[[_t.prototype._setValue_direct,_t.prototype._setValue_direct_setNeedsUpdate,_t.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[_t.prototype._setValue_array,_t.prototype._setValue_array_setNeedsUpdate,_t.prototype._setValue_array_setMatrixWorldNeedsUpdate],[_t.prototype._setValue_arrayElement,_t.prototype._setValue_arrayElement_setNeedsUpdate,_t.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[_t.prototype._setValue_fromArray,_t.prototype._setValue_fromArray_setNeedsUpdate,_t.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class DT{constructor(e,t,s=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=s,this.blendMode=a;const l=t.tracks,d=l.length,p=new Array(d),v={endingStart:Cs,endingEnd:Cs};for(let y=0;y!==d;++y){const M=l[y].createInterpolant(null);p[y]=M,M.settings=v}this._interpolantSettings=v,this._interpolants=p,this._propertyBindings=new Array(d),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=x_,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,s){if(e.fadeOut(t),this.fadeIn(t),s){const a=this._clip.duration,l=e._clip.duration,d=l/a,p=a/l;e.warp(1,d,t),this.warp(p,1,t)}return this}crossFadeTo(e,t,s){return e.crossFadeFrom(this,t,s)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,s){const a=this._mixer,l=a.time,d=this.timeScale;let p=this._timeScaleInterpolant;p===null&&(p=a._lendControlInterpolant(),this._timeScaleInterpolant=p);const v=p.parameterPositions,y=p.sampleValues;return v[0]=l,v[1]=l+s,y[0]=e/d,y[1]=t/d,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,s,a){if(!this.enabled){this._updateWeight(e);return}const l=this._startTime;if(l!==null){const v=(e-l)*s;if(v<0||s===0)return;this._startTime=null,t=s*v}t*=this._updateTimeScale(e);const d=this._updateTime(t),p=this._updateWeight(e);if(p>0){const v=this._interpolants,y=this._propertyBindings;switch(this.blendMode){case ry:for(let M=0,E=v.length;M!==E;++M)v[M].evaluate(d),y[M].accumulateAdditive(p);break;case $f:default:for(let M=0,E=v.length;M!==E;++M)v[M].evaluate(d),y[M].accumulate(a,p)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const s=this._weightInterpolant;if(s!==null){const a=s.evaluate(e)[0];t*=a,e>s.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const s=this._timeScaleInterpolant;s!==null&&(t*=s.evaluate(e)[0],e>s.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,s=this.loop;let a=this.time+e,l=this._loopCount;const d=s===v_;if(e===0)return l===-1?a:d&&(l&1)===1?t-a:a;if(s===m_){l===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(l===-1&&(e>=0?(l=0,this._setEndings(!0,this.repetitions===0,d)):this._setEndings(this.repetitions===0,!0,d)),a>=t||a<0){const p=Math.floor(a/t);a-=t*p,l+=Math.abs(p);const v=this.repetitions-l;if(v<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(v===1){const y=e<0;this._setEndings(y,!y,d)}else this._setEndings(!1,!1,d);this._loopCount=l,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:p})}}else this.time=a;if(d&&(l&1)===1)return t-a}return a}_setEndings(e,t,s){const a=this._interpolantSettings;s?(a.endingStart=Es,a.endingEnd=Es):(e?a.endingStart=this.zeroSlopeAtStart?Es:Cs:a.endingStart=Lc,t?a.endingEnd=this.zeroSlopeAtEnd?Es:Cs:a.endingEnd=Lc)}_scheduleFading(e,t,s){const a=this._mixer,l=a.time;let d=this._weightInterpolant;d===null&&(d=a._lendControlInterpolant(),this._weightInterpolant=d);const p=d.parameterPositions,v=d.sampleValues;return p[0]=l,v[0]=t,p[1]=l+e,v[1]=s,this}}class zT extends jr{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const s=e._localRoot||this._root,a=e._clip.tracks,l=a.length,d=e._propertyBindings,p=e._interpolants,v=s.uuid,y=this._bindingsByRootAndName;let M=y[v];M===void 0&&(M={},y[v]=M);for(let E=0;E!==l;++E){const T=a[E],L=T.name;let D=M[L];if(D!==void 0)++D.referenceCount,d[E]=D;else{if(D=d[E],D!==void 0){D._cacheIndex===null&&(++D.referenceCount,this._addInactiveBinding(D,v,L));continue}const N=t&&t._propertyBindings[E].binding.parsedPath;D=new MT(_t.create(s,L,N),T.ValueTypeName,T.getValueSize()),++D.referenceCount,this._addInactiveBinding(D,v,L),d[E]=D}p[E].resultBuffer=D.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const s=(e._localRoot||this._root).uuid,a=e._clip.uuid,l=this._actionsByClip[a];this._bindAction(e,l&&l.knownActions[0]),this._addInactiveAction(e,a,s)}const t=e._propertyBindings;for(let s=0,a=t.length;s!==a;++s){const l=t[s];l.useCount++===0&&(this._lendBinding(l),l.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let s=0,a=t.length;s!==a;++s){const l=t[s];--l.useCount===0&&(l.restoreOriginalState(),this._takeBackBinding(l))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,s){const a=this._actions,l=this._actionsByClip;let d=l[t];if(d===void 0)d={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,l[t]=d;else{const p=d.knownActions;e._byClipCacheIndex=p.length,p.push(e)}e._cacheIndex=a.length,a.push(e),d.actionByRoot[s]=e}_removeInactiveAction(e){const t=this._actions,s=t[t.length-1],a=e._cacheIndex;s._cacheIndex=a,t[a]=s,t.pop(),e._cacheIndex=null;const l=e._clip.uuid,d=this._actionsByClip,p=d[l],v=p.knownActions,y=v[v.length-1],M=e._byClipCacheIndex;y._byClipCacheIndex=M,v[M]=y,v.pop(),e._byClipCacheIndex=null;const E=p.actionByRoot,T=(e._localRoot||this._root).uuid;delete E[T],v.length===0&&delete d[l],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let s=0,a=t.length;s!==a;++s){const l=t[s];--l.referenceCount===0&&this._removeInactiveBinding(l)}}_lendAction(e){const t=this._actions,s=e._cacheIndex,a=this._nActiveActions++,l=t[a];e._cacheIndex=a,t[a]=e,l._cacheIndex=s,t[s]=l}_takeBackAction(e){const t=this._actions,s=e._cacheIndex,a=--this._nActiveActions,l=t[a];e._cacheIndex=a,t[a]=e,l._cacheIndex=s,t[s]=l}_addInactiveBinding(e,t,s){const a=this._bindingsByRootAndName,l=this._bindings;let d=a[t];d===void 0&&(d={},a[t]=d),d[s]=e,e._cacheIndex=l.length,l.push(e)}_removeInactiveBinding(e){const t=this._bindings,s=e.binding,a=s.rootNode.uuid,l=s.path,d=this._bindingsByRootAndName,p=d[a],v=t[t.length-1],y=e._cacheIndex;v._cacheIndex=y,t[y]=v,t.pop(),delete p[l],Object.keys(p).length===0&&delete d[a]}_lendBinding(e){const t=this._bindings,s=e._cacheIndex,a=this._nActiveBindings++,l=t[a];e._cacheIndex=a,t[a]=e,l._cacheIndex=s,t[s]=l}_takeBackBinding(e){const t=this._bindings,s=e._cacheIndex,a=--this._nActiveBindings,l=t[a];e._cacheIndex=a,t[a]=e,l._cacheIndex=s,t[s]=l}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let s=e[t];return s===void 0&&(s=new By(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),s.__cacheIndex=t,e[t]=s),s}_takeBackControlInterpolant(e){const t=this._controlInterpolants,s=e.__cacheIndex,a=--this._nActiveControlInterpolants,l=t[a];e.__cacheIndex=a,t[a]=e,l.__cacheIndex=s,t[s]=l}clipAction(e,t,s){const a=t||this._root,l=a.uuid;let d=typeof e=="string"?k0.findByName(a,e):e;const p=d!==null?d.uuid:e,v=this._actionsByClip[p];let y=null;if(s===void 0&&(d!==null?s=d.blendMode:s=$f),v!==void 0){const E=v.actionByRoot[l];if(E!==void 0&&E.blendMode===s)return E;y=v.knownActions[0],d===null&&(d=y._clip)}if(d===null)return null;const M=new DT(this,d,t,s);return this._bindAction(M,y),this._addInactiveAction(M,p,l),M}existingAction(e,t){const s=t||this._root,a=s.uuid,l=typeof e=="string"?k0.findByName(s,e):e,d=l?l.uuid:e,p=this._actionsByClip[d];return p!==void 0&&p.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let s=t-1;s>=0;--s)e[s].stop();return this}update(e){e*=this.timeScale;const t=this._actions,s=this._nActiveActions,a=this.time+=e,l=Math.sign(e),d=this._accuIndex^=1;for(let y=0;y!==s;++y)t[y]._update(a,e,l,d);const p=this._bindings,v=this._nActiveBindings;for(let y=0;y!==v;++y)p[y].apply(d);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,s=e.uuid,a=this._actionsByClip,l=a[s];if(l!==void 0){const d=l.knownActions;for(let p=0,v=d.length;p!==v;++p){const y=d[p];this._deactivateAction(y);const M=y._cacheIndex,E=t[t.length-1];y._cacheIndex=null,y._byClipCacheIndex=null,E._cacheIndex=M,t[M]=E,t.pop(),this._removeInactiveBindingsForAction(y)}delete a[s]}}uncacheRoot(e){const t=e.uuid,s=this._actionsByClip;for(const d in s){const p=s[d].actionByRoot,v=p[t];v!==void 0&&(this._deactivateAction(v),this._removeInactiveAction(v))}const a=this._bindingsByRootAndName,l=a[t];if(l!==void 0)for(const d in l){const p=l[d];p.restoreOriginalState(),this._removeInactiveBinding(p)}}uncacheAction(e,t){const s=this.existingAction(e,t);s!==null&&(this._deactivateAction(s),this._removeInactiveAction(s))}}zT.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class NT extends Yo{constructor(e,t,s=1){super(e,t),this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}NT.prototype.isInstancedInterleavedBuffer=!0;const Vi=new Q,Vl=new nt,Iu=new nt;class FT extends rp{constructor(e){const t=qy(e),s=new At,a=[],l=[],d=new Ze(0,0,1),p=new Ze(0,1,0);for(let y=0;y<t.length;y++){const M=t[y];M.parent&&M.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),l.push(d.r,d.g,d.b),l.push(p.r,p.g,p.b))}s.setAttribute("position",new It(a,3)),s.setAttribute("color",new It(l,3));const v=new Vr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(s,v),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,s=this.geometry,a=s.getAttribute("position");Iu.copy(this.root.matrixWorld).invert();for(let l=0,d=0;l<t.length;l++){const p=t[l];p.parent&&p.parent.isBone&&(Vl.multiplyMatrices(Iu,p.matrixWorld),Vi.setFromMatrixPosition(Vl),a.setXYZ(d,Vi.x,Vi.y,Vi.z),Vl.multiplyMatrices(Iu,p.parent.matrixWorld),Vi.setFromMatrixPosition(Vl),a.setXYZ(d+1,Vi.x,Vi.y,Vi.z),d+=2)}s.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function qy(n){const e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,qy(n.children[t]));return e}class OT extends rp{constructor(e=10,t=10,s=4473924,a=8947848){s=new Ze(s),a=new Ze(a);const l=t/2,d=e/t,p=e/2,v=[],y=[];for(let T=0,L=0,D=-p;T<=t;T++,D+=d){v.push(-p,0,D,p,0,D),v.push(D,0,-p,D,0,p);const N=T===l?s:a;N.toArray(y,L),L+=3,N.toArray(y,L),L+=3,N.toArray(y,L),L+=3,N.toArray(y,L),L+=3}const M=new At;M.setAttribute("position",new It(v,3)),M.setAttribute("color",new It(y,3));const E=new Vr({vertexColors:!0,toneMapped:!1});super(M,E),this.type="GridHelper"}}const BT=new Float32Array(1);new Int32Array(BT.buffer);Jn.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Jn.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};Od.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};OT.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};FT.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};wr.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),mT.extractUrlBase(n)};wr.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};oi.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};oi.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};oi.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};oi.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};oi.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};oa.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};oh.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};ln.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};ln.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};ln.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};ln.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};ln.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};ln.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};nt.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};nt.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};nt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Q().setFromMatrixColumn(this,3)};nt.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};nt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};nt.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};nt.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};nt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};nt.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};nt.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};nt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};nt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};nt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};nt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};nt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};nt.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};nt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};nt.prototype.makeFrustum=function(n,e,t,s,a,l){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,s,t,a,l)};nt.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Ti.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};In.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};In.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};la.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};la.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};la.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};jt.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};jt.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};jt.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};jt.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};jt.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};jt.barycoordFromPoint=function(n,e,t,s,a){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),jt.getBarycoord(n,e,t,s,a)};jt.normal=function(n,e,t,s){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),jt.getNormal(n,e,t,s)};jo.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};jo.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ua(this,n)};jo.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new hp(this,n)};ke.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};ke.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};ke.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Q.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Q.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Q.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};Q.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};Q.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};Q.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};Q.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Q.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};Q.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Mt.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Mt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Ct.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};Ct.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Ct.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};Ct.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Ct.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Ct.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});$t.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties($t.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),y_},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Ty.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};_n.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(xi.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(Jt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Pc},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Pc)}}});Jt.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Pc:To),this};Jt.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Jt.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};At.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};At.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new Jt(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};At.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};At.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};At.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};At.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};At.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(At.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Yo.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Pc:To),this};Yo.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};ua.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};ua.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};ua.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};ip.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(Sn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ze}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===ey}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(ai.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});Et.prototype.clearTarget=function(n,e,t,s){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,s)};Et.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};Et.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Et.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Et.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Et.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Et.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Et.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Et.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Et.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Et.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Et.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Et.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Et.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Et.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};Et.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Et.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Et.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Et.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Et.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Et.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Et.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Et.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Et.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Et.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Et.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Ft:gr}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(My.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(qn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});_T.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new bT().load(n,function(s){e.setBuffer(s)}),this};Qf.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};Qf.prototype.clear=function(n,e,t,s){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,s)};qr.crossOrigin=void 0;qr.loadTexture=function(n,e,t,s){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const a=new uT;a.setCrossOrigin(this.crossOrigin);const l=a.load(n,t,void 0,s);return e&&(l.mapping=e),l};qr.loadTextureCube=function(n,e,t,s){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const a=new hT;a.setCrossOrigin(this.crossOrigin);const l=a.load(n,t,void 0,s);return e&&(l.mapping=e),l};qr.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};qr.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:jf}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=jf);var HT="varying vec3 vertexNormal;void main(){vertexNormal=normal;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}",WT="uniform vec3 color;uniform float radius;varying vec3 vertexNormal;void main(){float ndcDepth=gl_FragCoord.z/gl_FragCoord.w;float distance=radius*sqrt(1.0-ndcDepth*ndcDepth);float intensity=pow(0.025-dot(vertexNormal,vec3(0.0,0.0,0.9)),2.0);gl_FragColor=vec4(color,1.0)*intensity;}",VT="varying vec3 vertexNormal;void main(){vertexNormal=normal;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}",UT="varying vec3 vertexNormal;uniform vec4 horizonColor;uniform float sunriseTime;uniform float sunYPosition;uniform float fadeThreshold;void main(){float distanceFromSunrise=abs(sunYPosition-sunriseTime);float fadeFactor=smoothstep(fadeThreshold,fadeThreshold+0.1,distanceFromSunrise);float intensity=smoothstep(0.0,0.2,distanceFromSunrise);intensity*=pow(0.025-dot(vertexNormal,vec3(0.0,0.0,1.0)),1.0);gl_FragColor=vec4(horizonColor.rgb*intensity,horizonColor.a*fadeFactor);}",GT="void main(){gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}",XT="void main(){vec4 background=vec4(1.0,1.0,1.0,1.0);gl_FragColor=background;}";function YT(){if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{var t={latitude:e.coords.latitude,longitude:e.coords.longitude};return t});else{var n={latitude:Rt.latitude,longitude:Rt.longitude};return n}}var D0=0;YT();class jT extends en.Component{constructor(t){super(t);vh(this,"deg2rad",t=>t*Math.PI/180);vh(this,"rad2deg",t=>t*180/Math.PI);this.animatePosition=this.animatePosition.bind(this),this.updatePosition=this.updatePosition.bind(this);var s=new Date;this.state={latitude:0,longitude:0,currentlst:(s.getHours()*60+s.getMinutes())/60,lst:0,lstArray:this.linspace(0,24,1e3),currentTime:0,maxSunYPosition:0,sunrise:0,sunset:0,sunrise_civil_twilight:0,starField:0},this.getLocation(Rt.latitude,Rt.longitude),this.sceneRender={camera:null,scene:null,renderer:null}}animatePosition(t,s,a){t<s?(this.setState({lst:t}),this.setSun(a)):clearInterval(this.animate)}updatePosition(t){this.getCurrentlst(),this.gaussian_distribution(this.state.currentlst)*t,this.setSun(t)}getCurrentlst(){var t=new Date;this.currentlst=(t.getHours()*60+t.getMinutes())/60}force_range(t,s){return t<0?t+s:t>=s?t-s:t}event_time(t,s=!0,a=90.8){let l=t.getDate(),d=t.getMonth()+1,p=t.getFullYear();const v=Math.PI/180;let y=Math.floor(275*d/9),M=Math.floor((d+9)/12),E=1+Math.floor((p-4*Math.floor(p/4)+2)/3),T=y-M*E+l-30,L=this.state.longitude/15,D;s?D=T+(6-L)/24:D=T+(18-L)/24;let N=.9856*D-3.289,z=N+1.916*Math.sin(v*N)+.02*Math.sin(v*2*N)+282.634;z=this.force_range(z,360);let C=1/v*Math.atan(.91764*Math.tan(v*z));C=this.force_range(C,360);let S=Math.floor(z/90)*90,G=Math.floor(C/90)*90;C=C+(S-G),C=C/15;let W=.39782*Math.sin(v*z),H=Math.cos(Math.asin(W)),$=(Math.cos(v*a)-W*Math.sin(v*this.state.latitude))/(H*Math.cos(v*this.state.latitude));if($>1||$<-1)return null;let K;s?K=360-1/v*Math.acos($):K=1/v*Math.acos($),K=K/15;let ge=K+C-.06571*D-6.622-L;ge=this.force_range(ge,24);let me=this.force_range(Math.floor(ge),24),Y=+((ge-Math.floor(ge))*60).toFixed(2);return Y===60&&(me+=1,Y=0),me===24&&(me=0,l+=1,l>new Date(p,d,0).getDate()&&(l=1,d+=1,d>12&&(d=1,p+=1))),new Date(Date.UTC(p,d-1,l,me,Y))}gaussian_distribution(t,s=12,a=5){return Math.exp(-1*(t-s)**2/(2*a**2))/(a*Math.sqrt(2*Math.PI))}calculateSolarSettings(){let t=new Date;t.getTimezoneOffset()/60,this.state.currentTime=t.getHours()+t.getMinutes()/60;let s=this.event_time(t,!0,90.8);this.state.sunrise=+(s.getUTCHours()+s.getUTCMinutes()/60).toFixed(0);let a=this.event_time(t,!0,96);this.state.sunrise_civil_twilight=Math.round(a.getUTCHours()+a.getUTCMinutes()/60);let l=this.event_time(t,!0,102);this.state.sunrise_nautical_twilight=Math.round(l.getUTCHours()+l.getUTCMinutes()/60);let d=this.event_time(t,!0,108);this.state.sunrise_astronomical_twilight=Math.round(d.getUTCHours()+d.getUTCMinutes()/60);let p=this.event_time(t,!1,90.8);this.state.sunset=+(p.getUTCHours()+p.getUTCMinutes()/60).toFixed(0);let v=this.event_time(t,!1,96);this.state.sunset_civil_twilight=Math.round(v.getUTCHours()+v.getUTCMinutes()/60);let y=this.event_time(t,!1,102);this.state.sunset_nautical_twilight=Math.round(y.getUTCHours()+y.getUTCMinutes()/60);let M=this.event_time(t,!1,108);this.state.sunset_astronomical_twilight=Math.round(M.getUTCHours()+M.getUTCMinutes()/60)}linspace(t,s,a){for(var l=[],d=(s-t)/(a-1),p=0;p<a;p++)l.push(t+d*p);return l}getLocation(t,s){this.state.latitude=this.deg2rad(t),this.state.longitude=this.deg2rad(s)}init(){const t=document.getElementById("canvas");this.sceneRender.scene=new ip,this.sceneRender.scene.background=new Ze(D0),this.sceneRender.camera=new _n(108,t.clientWidth/t.clientHeight,.01,500),this.sceneRender.renderer=new Et({canvas:document.querySelector("canvas"),antialias:!0}),this.sceneRender.renderer.setSize(t.clientWidth,t.clientHeight),this.sceneRender.renderer.setPixelRatio(window.devicePixelRatio),this.sceneRender.camera.position.set(12,7,8.8);const s=new Gy(16777215);s.position.set(5,5,5);const a=new Yy(16777215);this.sceneRender.scene.add(s,a)}createBackground(){const t=new $t(new Wr(50,50,0),new ai({vertexShader:this.vert,fragmentShader:this.frag}));t.position.set(0,0,-.1),this.sceneRender.scene.add(t)}setSolarElevationPlot(t){for(var s=[],a=0;a<this.state.lstArray.length;a++)s.push(new Q(this.state.lstArray[a],this.gaussian_distribution(this.state.lstArray[a])*t,0));var l=new Po(new At().setFromPoints(s),new Vr({color:15789016,fog:!0}));l.position.set(0,0,0),this.sceneRender.scene.add(l)}setHorizon(t){const s=new $t(new Wr(100,20,0),new sh({color:D0}));s.position.set(0,-2.1,-1),this.sceneRender.scene.add(s);var a=new Vr({color:15789016});const l=[];l.push(new Q(0,this.gaussian_distribution(this.state.sunrise)*t,0)),l.push(new Q(24,this.gaussian_distribution(this.state.sunset)*t,0));var d=new At().setFromPoints(l),p=new Po(d,a);this.sceneRender.scene.add(p)}setStars(){for(var t=new At,s=new sp({color:16777215,size:1,sizeAttenuation:!1,opacity:1,depthTest:!1,depthWrite:!1}),a=[],l=[],d=0;d<1e4;d++){var p=Math.random()*2e3-1e3,v=Math.random()*2e3-1e3,y=Math.random()*2e3-1e3;a.push(p,v,y),l.push(1,1,1)}t.setAttribute("position",new It(a,3)),t.setAttribute("color",new It(l,3)),this.starField=new ky(t,s),this.sceneRender.scene.add(this.starField)}animateStars(t){var s=this.gaussian_distribution(this.state.lst)*t,a=1;if(s>=this.state.sunrise){const l=s-this.state.sunrise,d=18-this.state.sunrise;a=1-l/d*.99}this.starField.material.transparent=!0,this.starField.material.opacity=a,this.starField.position.x+=1,this.starField.position.y+=1}setSun(t){var s=.5,a=2,l=this.state.lst,d=this.gaussian_distribution(this.state.lst)*t;this.setState({maxSunYPosition:Math.max(this.state.maxSunYPosition,d)});var p=this.gaussian_distribution(this.state.sunrise)*t,v=this.gaussian_distribution(this.state.sunset)*t;if(d<this.gaussian_distribution(this.state.sunset)*t)var y=new up(s,.035,10,100);else var y=new ho(s,32,32);const M=new $t(y,new ai({vertexShader:GT,fragmentShader:XT,uniforms:{sunPosition:{value:[l,d]}}}));M.position.set(l,d,0),M.scale.set(s*a,s*a,0),this.sceneRender.scene.add(M);var E=new Ze(.32,.34,.34),T=new Ze(.46,.71,.94),L=new Ze(.25,.32,.45),D=new Ze;if(l<=12)var N=l/12,z=D.lerpColors(E,T,N);else var N=(l-12)/12,z=D.lerpColors(T,L,N);var C=5;const S=new $t(new ho(s,32,32),new ai({uniforms:{color:{value:z},radius:{value:.5}},vertexShader:HT,fragmentShader:WT,blending:Ec,side:Gt}));if(S.material.transparent=!0,S.position.set(l,d,-1),d>=3&&S.scale.set(s*C+d,s*C+d,.1),this.sceneRender.scene.add(S),l<12)var G=new Mt(.953,.906,.427,1*Math.abs(l)),W=this.state.sunrise;else var G=new Mt(.788,.106,.149,1*Math.abs(l)),W=this.state.sunset;const H=new $t(new ho(.6*Math.abs(d),32,1),new ai({vertexShader:VT,fragmentShader:UT,blending:Ec,side:Gt,uniforms:{horizonColor:{value:G},sunriseTime:{value:W},sunYPosition:{value:d},fadeThreshold:{value:.2}}}));if(H.material.transparent=!0,d>=p-2&d<v+2){if(H.position.set(l,0,-2),d>=this.state.sunrise&l<12)var $=Math.log(10-d)+1;if(d<=this.state.sunset&l>12)var $=Math.log(10-d)+1;H.scale.set(8,$*1.3,0),this.sceneRender.scene.add(H)}this.sceneRender.renderer.render(this.sceneRender.scene,this.sceneRender.camera),this.sceneRender.scene.remove(M),this.sceneRender.scene.remove(S),d>=this.state.sunrise-.2&d<=this.state.sunset-.2&&this.sceneRender.scene.remove(H)}componentWillUnmount(){clearInterval(this.animate),clearInterval(this.position)}componentDidMount(){var t=200;this.init(),this.calculateSolarSettings(),this.setSolarElevationPlot(t),this.setHorizon(t),this.setStars();const s=this.state.currentTime;{var a=0;this.animate=setInterval(()=>{this.animatePosition(a+=.1,s,t)},22),this.animate=setInterval(()=>{this.animateStars(t)},10),this.position=setInterval(()=>{this.updatePosition(t)},6e4)}}render(){return Te(Hr,{children:Te("div",{id:"container",class:"w-full h-full rounded-xl",children:Te("canvas",{height:"300",width:"300",class:"w-full h-full rounded-xl",id:"canvas"})})})}}var $y={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z0=en.createContext&&en.createContext($y),cr=globalThis&&globalThis.__assign||function(){return cr=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},cr.apply(this,arguments)},qT=globalThis&&globalThis.__rest||function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t};function Zy(n){return n&&n.map(function(e,t){return en.createElement(e.tag,cr({key:t},e.attr),Zy(e.child))})}function hn(n){return function(e){return en.createElement($T,cr({attr:cr({},n.attr)},e),Zy(n.child))}}function $T(n){var e=function(t){var s=n.attr,a=n.size,l=n.title,d=qT(n,["attr","size","title"]),p=a||t.size||"1em",v;return t.className&&(v=t.className),n.className&&(v=(v?v+" ":"")+n.className),en.createElement("svg",cr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,d,{className:v,style:cr(cr({color:n.color||t.color},t.style),n.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),l&&en.createElement("title",null,l),n.children)};return z0!==void 0?en.createElement(z0.Consumer,null,function(t){return e(t)}):e($y)}function ZT(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.61,16.88c0-1.15,0.36-2.17,1.08-3.07c0.72-0.9,1.63-1.48,2.74-1.73c0.31-1.37,1.02-2.49,2.11-3.37s2.35-1.32,3.76-1.32
	c1.38,0,2.61,0.43,3.69,1.28s1.78,1.95,2.1,3.29h0.33c0.9,0,1.73,0.22,2.49,0.65s1.37,1.03,1.81,1.79c0.44,0.76,0.67,1.58,0.67,2.48
	c0,0.88-0.21,1.7-0.63,2.45s-1,1.35-1.73,1.8c-0.73,0.45-1.54,0.69-2.41,0.72H9.41c-1.34-0.06-2.47-0.57-3.4-1.53
	C5.08,19.37,4.61,18.22,4.61,16.88z M6.32,16.88c0,0.87,0.3,1.62,0.9,2.26s1.33,0.98,2.19,1.03h11.19c0.86-0.04,1.59-0.39,2.19-1.03
	c0.61-0.64,0.91-1.4,0.91-2.26c0-0.88-0.33-1.63-0.98-2.27c-0.65-0.64-1.42-0.96-2.32-0.96H18.8c-0.11,0-0.17-0.06-0.17-0.18
	l-0.07-0.57c-0.11-1.08-0.58-1.99-1.4-2.72c-0.82-0.73-1.77-1.1-2.86-1.1c-1.09,0-2.05,0.37-2.85,1.1
	c-0.81,0.73-1.27,1.64-1.37,2.72l-0.08,0.57c0,0.12-0.07,0.18-0.2,0.18H9.27c-0.84,0.1-1.54,0.46-2.1,1.07S6.32,16.05,6.32,16.88z`}}]})(n)}function JT(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.89,17.6c0-0.99,0.31-1.88,0.93-2.65s1.41-1.27,2.38-1.49c0.26-1.17,0.85-2.14,1.78-2.88c0.93-0.75,2-1.12,3.22-1.12
	c1.18,0,2.24,0.36,3.16,1.09c0.93,0.73,1.53,1.66,1.8,2.8h0.27c1.18,0,2.18,0.41,3.01,1.24s1.25,1.83,1.25,3
	c0,1.18-0.42,2.18-1.25,3.01s-1.83,1.25-3.01,1.25H8.16c-0.58,0-1.13-0.11-1.65-0.34S5.52,21,5.14,20.62
	c-0.38-0.38-0.68-0.84-0.91-1.36S3.89,18.17,3.89,17.6z M5.34,17.6c0,0.76,0.28,1.42,0.82,1.96s1.21,0.82,1.99,0.82h9.28
	c0.77,0,1.44-0.27,1.99-0.82c0.55-0.55,0.83-1.2,0.83-1.96c0-0.76-0.27-1.42-0.83-1.96c-0.55-0.54-1.21-0.82-1.99-0.82h-1.39
	c-0.1,0-0.15-0.05-0.15-0.15l-0.07-0.49c-0.1-0.94-0.5-1.73-1.19-2.35s-1.51-0.93-2.45-0.93c-0.94,0-1.76,0.31-2.46,0.94
	c-0.7,0.62-1.09,1.41-1.18,2.34l-0.07,0.42c0,0.1-0.05,0.15-0.16,0.15l-0.45,0.07c-0.72,0.06-1.32,0.36-1.81,0.89
	C5.59,16.24,5.34,16.87,5.34,17.6z M14.19,8.88c-0.1,0.09-0.08,0.16,0.07,0.21c0.43,0.19,0.79,0.37,1.08,0.55
	c0.11,0.03,0.19,0.02,0.22-0.03c0.61-0.57,1.31-0.86,2.12-0.86c0.81,0,1.5,0.27,2.1,0.81c0.59,0.54,0.92,1.21,0.99,2l0.09,0.64h1.42
	c0.65,0,1.21,0.23,1.68,0.7c0.47,0.47,0.7,1.02,0.7,1.66c0,0.6-0.21,1.12-0.62,1.57s-0.92,0.7-1.53,0.77c-0.1,0-0.15,0.05-0.15,0.16
	v1.13c0,0.11,0.05,0.16,0.15,0.16c1.01-0.06,1.86-0.46,2.55-1.19s1.04-1.6,1.04-2.6c0-1.06-0.37-1.96-1.12-2.7
	c-0.75-0.75-1.65-1.12-2.7-1.12h-0.15c-0.26-1-0.81-1.82-1.65-2.47c-0.83-0.65-1.77-0.97-2.8-0.97C16.28,7.29,15.11,7.82,14.19,8.88
	z`}}]})(n)}function N0(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M1.56,16.9c0,0.9,0.22,1.73,0.66,2.49s1.04,1.36,1.8,1.8c0.76,0.44,1.58,0.66,2.47,0.66h10.83c0.89,0,1.72-0.22,2.48-0.66
	c0.76-0.44,1.37-1.04,1.81-1.8c0.44-0.76,0.67-1.59,0.67-2.49c0-0.66-0.14-1.33-0.42-2C22.62,13.98,23,12.87,23,11.6
	c0-0.71-0.14-1.39-0.41-2.04c-0.27-0.65-0.65-1.2-1.12-1.67C21,7.42,20.45,7.04,19.8,6.77c-0.65-0.28-1.33-0.41-2.04-0.41
	c-1.48,0-2.77,0.58-3.88,1.74c-0.77-0.44-1.67-0.66-2.7-0.66c-1.41,0-2.65,0.44-3.73,1.31c-1.08,0.87-1.78,1.99-2.08,3.35
	c-1.12,0.26-2.03,0.83-2.74,1.73S1.56,15.75,1.56,16.9z M3.27,16.9c0-0.84,0.28-1.56,0.84-2.17c0.56-0.61,1.26-0.96,2.1-1.06
	l0.5-0.03c0.12,0,0.19-0.06,0.19-0.18l0.07-0.54c0.14-1.08,0.61-1.99,1.41-2.71c0.8-0.73,1.74-1.09,2.81-1.09
	c1.1,0,2.06,0.37,2.87,1.1c0.82,0.73,1.27,1.63,1.37,2.71l0.07,0.58c0.02,0.11,0.09,0.17,0.21,0.17h1.61c0.88,0,1.64,0.32,2.28,0.96
	c0.64,0.64,0.96,1.39,0.96,2.27c0,0.91-0.32,1.68-0.95,2.32c-0.63,0.64-1.4,0.96-2.28,0.96H6.49c-0.88,0-1.63-0.32-2.27-0.97
	C3.59,18.57,3.27,17.8,3.27,16.9z M9.97,4.63c0,0.24,0.08,0.45,0.24,0.63l0.66,0.64c0.25,0.19,0.46,0.27,0.64,0.25
	c0.21,0,0.39-0.09,0.55-0.26s0.24-0.38,0.24-0.62c0-0.24-0.09-0.44-0.26-0.59l-0.59-0.66c-0.18-0.16-0.38-0.24-0.61-0.24
	c-0.24,0-0.45,0.08-0.62,0.25C10.05,4.19,9.97,4.39,9.97,4.63z M15.31,9.06c0.69-0.67,1.51-1,2.45-1c0.99,0,1.83,0.34,2.52,1.03
	c0.69,0.69,1.04,1.52,1.04,2.51c0,0.62-0.17,1.24-0.51,1.84C19.84,12.48,18.68,12,17.32,12H17C16.75,10.91,16.19,9.93,15.31,9.06z
	 M16.94,3.78c0,0.26,0.08,0.46,0.23,0.62s0.35,0.23,0.59,0.23c0.26,0,0.46-0.08,0.62-0.23c0.16-0.16,0.23-0.36,0.23-0.62V1.73
	c0-0.24-0.08-0.43-0.24-0.59s-0.36-0.23-0.61-0.23c-0.24,0-0.43,0.08-0.59,0.23s-0.23,0.35-0.23,0.59V3.78z M22.46,6.07
	c0,0.26,0.07,0.46,0.22,0.62c0.21,0.16,0.42,0.24,0.62,0.24c0.18,0,0.38-0.08,0.59-0.24l1.43-1.43c0.16-0.18,0.24-0.39,0.24-0.64
	c0-0.24-0.08-0.44-0.24-0.6c-0.16-0.16-0.36-0.24-0.59-0.24c-0.24,0-0.43,0.08-0.58,0.24l-1.47,1.43
	C22.53,5.64,22.46,5.84,22.46,6.07z M23.25,17.91c0,0.24,0.08,0.45,0.25,0.63l0.65,0.63c0.15,0.16,0.34,0.24,0.58,0.24
	s0.44-0.08,0.6-0.25c0.16-0.17,0.24-0.37,0.24-0.62c0-0.22-0.08-0.42-0.24-0.58l-0.65-0.65c-0.16-0.16-0.35-0.24-0.57-0.24
	c-0.24,0-0.44,0.08-0.6,0.24C23.34,17.47,23.25,17.67,23.25,17.91z M24.72,11.6c0,0.23,0.09,0.42,0.26,0.58
	c0.16,0.16,0.37,0.24,0.61,0.24h2.04c0.23,0,0.42-0.08,0.58-0.23s0.23-0.35,0.23-0.59c0-0.24-0.08-0.44-0.23-0.6
	s-0.35-0.25-0.58-0.25h-2.04c-0.24,0-0.44,0.08-0.61,0.25C24.8,11.17,24.72,11.37,24.72,11.6z`}}]})(n)}function QT(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.37,15.62c0-0.24,0.08-0.44,0.25-0.61c0.18-0.17,0.38-0.25,0.6-0.25h2.04c0.23,0,0.42,0.08,0.58,0.25
	c0.15,0.17,0.23,0.37,0.23,0.61c0,0.24-0.08,0.44-0.23,0.6c-0.15,0.17-0.35,0.25-0.58,0.25H5.23c-0.23,0-0.43-0.08-0.6-0.25
	C4.46,16.05,4.37,15.85,4.37,15.62z M7.23,8.71c0-0.23,0.08-0.43,0.23-0.61c0.2-0.17,0.41-0.25,0.64-0.25
	c0.21,0,0.41,0.08,0.59,0.25l1.43,1.46c0.16,0.15,0.24,0.35,0.24,0.59c0,0.24-0.08,0.44-0.24,0.6c-0.16,0.16-0.36,0.24-0.6,0.24
	c-0.24,0-0.44-0.08-0.59-0.24L7.47,9.32C7.31,9.15,7.23,8.95,7.23,8.71z M7.39,18.02c0-0.22,0.08-0.41,0.23-0.55
	c0.16-0.14,0.37-0.22,0.64-0.22h5.71c0.27,0,0.48,0.07,0.64,0.22c0.16,0.14,0.24,0.33,0.24,0.55c0,0.27-0.08,0.48-0.23,0.64
	c-0.16,0.16-0.37,0.24-0.65,0.24H8.26c-0.27,0-0.48-0.08-0.64-0.23S7.39,18.29,7.39,18.02z M8.38,20.97c0-0.22,0.09-0.42,0.28-0.6
	c0.18-0.18,0.39-0.27,0.6-0.27c0.26,0,0.47,0.09,0.63,0.26c0.16,0.18,0.24,0.38,0.24,0.61c0,0.28-0.08,0.49-0.23,0.65
	s-0.37,0.23-0.64,0.23c-0.23,0-0.44-0.08-0.61-0.24C8.47,21.45,8.38,21.23,8.38,20.97z M9.79,15.91v-0.07
	c0.03-1.26,0.47-2.35,1.31-3.28c0.84-0.93,1.87-1.49,3.1-1.69h0.05c0.19-0.04,0.45-0.06,0.76-0.06c0.31,0,0.57,0.02,0.76,0.06h0.04
	c1.22,0.19,2.26,0.76,3.1,1.69c0.84,0.93,1.28,2.02,1.31,3.28v0.07c0,0.16-0.08,0.24-0.23,0.24h-1.13c-0.12,0-0.2-0.03-0.25-0.09
	c-0.05-0.06-0.07-0.12-0.07-0.18c-0.04-0.93-0.4-1.72-1.08-2.37c-0.68-0.65-1.49-0.97-2.44-0.97s-1.76,0.32-2.44,0.97
	c-0.68,0.65-1.04,1.44-1.08,2.37c0,0.06-0.03,0.12-0.08,0.18c-0.05,0.06-0.14,0.09-0.26,0.09h-1.13
	C9.87,16.15,9.79,16.07,9.79,15.91z M10.8,20.97c0-0.23,0.08-0.43,0.24-0.61c0.16-0.17,0.37-0.26,0.63-0.26h3.83
	c0.22,0,0.42,0.09,0.6,0.27c0.18,0.18,0.28,0.38,0.28,0.6c0,0.26-0.09,0.48-0.27,0.64s-0.38,0.24-0.61,0.24h-3.83
	c-0.27,0-0.48-0.08-0.64-0.23C10.87,21.46,10.8,21.25,10.8,20.97z M14.14,7.89V5.86c0-0.24,0.08-0.44,0.25-0.61S14.76,5,15,5
	s0.43,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.61v2.03c0,0.23-0.08,0.43-0.25,0.58S15.23,8.71,15,8.71s-0.44-0.08-0.6-0.23
	S14.14,8.12,14.14,7.89z M15.5,18.02c0-0.21,0.09-0.39,0.27-0.54s0.38-0.23,0.61-0.23s0.43,0.08,0.61,0.23s0.27,0.33,0.27,0.54
	c0,0.26-0.09,0.48-0.27,0.64c-0.18,0.16-0.38,0.24-0.61,0.24s-0.44-0.08-0.61-0.24C15.59,18.49,15.5,18.28,15.5,18.02z M17.04,20.97
	c0-0.23,0.08-0.43,0.24-0.61c0.16-0.17,0.38-0.26,0.64-0.26h1.86c0.26,0,0.47,0.09,0.63,0.26c0.16,0.18,0.24,0.38,0.24,0.61
	c0,0.28-0.08,0.49-0.23,0.65c-0.15,0.16-0.37,0.23-0.64,0.23h-1.86c-0.27,0-0.48-0.08-0.64-0.23
	C17.12,21.46,17.04,21.25,17.04,20.97z M17.92,18.02c0-0.21,0.09-0.39,0.27-0.54s0.38-0.23,0.6-0.23h3.07c0.22,0,0.4,0.07,0.54,0.22
	c0.14,0.15,0.22,0.33,0.22,0.55c0,0.27-0.07,0.48-0.21,0.64c-0.14,0.16-0.32,0.24-0.55,0.24h-3.07c-0.23,0-0.43-0.08-0.61-0.24
	C18.01,18.49,17.92,18.28,17.92,18.02z M19.66,10.15c0-0.25,0.08-0.45,0.23-0.59l1.42-1.46c0.18-0.17,0.38-0.25,0.59-0.25
	c0.23,0,0.43,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.61c0,0.24-0.08,0.45-0.24,0.61l-1.46,1.42c-0.18,0.16-0.38,0.24-0.6,0.24
	c-0.23,0-0.41-0.08-0.56-0.24C19.74,10.59,19.66,10.39,19.66,10.15z M21.92,15.62c0-0.23,0.08-0.43,0.24-0.61
	c0.17-0.17,0.36-0.25,0.57-0.25h2.02c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6c0,0.23-0.09,0.43-0.26,0.6
	c-0.17,0.17-0.37,0.25-0.6,0.25h-2.02c-0.23,0-0.43-0.08-0.58-0.25S21.92,15.86,21.92,15.62z`}}]})(n)}function KT(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.37,14.62c0-0.24,0.08-0.45,0.25-0.62c0.17-0.16,0.38-0.24,0.6-0.24h2.04c0.23,0,0.42,0.08,0.58,0.25
	c0.15,0.17,0.23,0.37,0.23,0.61S8,15.06,7.85,15.23c-0.15,0.17-0.35,0.25-0.58,0.25H5.23c-0.23,0-0.43-0.08-0.6-0.25
	C4.46,15.06,4.37,14.86,4.37,14.62z M7.23,21.55c0-0.23,0.08-0.43,0.23-0.61l1.47-1.43c0.15-0.16,0.35-0.23,0.59-0.23
	c0.24,0,0.44,0.08,0.6,0.23s0.24,0.34,0.24,0.57c0,0.24-0.08,0.46-0.24,0.64L8.7,22.14c-0.41,0.32-0.82,0.32-1.23,0
	C7.31,21.98,7.23,21.78,7.23,21.55z M7.23,7.71c0-0.23,0.08-0.43,0.23-0.61C7.66,6.93,7.87,6.85,8.1,6.85
	c0.22,0,0.42,0.08,0.59,0.24l1.43,1.47c0.16,0.15,0.24,0.35,0.24,0.59c0,0.24-0.08,0.44-0.24,0.6s-0.36,0.24-0.6,0.24
	c-0.24,0-0.44-0.08-0.59-0.24L7.47,8.32C7.31,8.16,7.23,7.95,7.23,7.71z M9.78,14.62c0-0.93,0.23-1.8,0.7-2.6s1.1-1.44,1.91-1.91
	s1.67-0.7,2.6-0.7c0.7,0,1.37,0.14,2.02,0.42c0.64,0.28,1.2,0.65,1.66,1.12c0.47,0.47,0.84,1.02,1.11,1.66
	c0.27,0.64,0.41,1.32,0.41,2.02c0,0.94-0.23,1.81-0.7,2.61c-0.47,0.8-1.1,1.43-1.9,1.9c-0.8,0.47-1.67,0.7-2.61,0.7
	s-1.81-0.23-2.61-0.7c-0.8-0.47-1.43-1.1-1.9-1.9C10.02,16.43,9.78,15.56,9.78,14.62z M11.48,14.62c0,0.98,0.34,1.81,1.03,2.5
	c0.68,0.69,1.51,1.04,2.49,1.04s1.81-0.35,2.5-1.04s1.04-1.52,1.04-2.5c0-0.96-0.35-1.78-1.04-2.47c-0.69-0.68-1.52-1.02-2.5-1.02
	c-0.97,0-1.8,0.34-2.48,1.02C11.82,12.84,11.48,13.66,11.48,14.62z M14.14,22.4c0-0.24,0.08-0.44,0.25-0.6s0.37-0.24,0.6-0.24
	c0.24,0,0.45,0.08,0.61,0.24s0.24,0.36,0.24,0.6v1.99c0,0.24-0.08,0.45-0.25,0.62c-0.17,0.17-0.37,0.25-0.6,0.25
	s-0.44-0.08-0.6-0.25c-0.17-0.17-0.25-0.38-0.25-0.62V22.4z M14.14,6.9V4.86c0-0.23,0.08-0.43,0.25-0.6C14.56,4.09,14.76,4,15,4
	s0.43,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6V6.9c0,0.23-0.08,0.42-0.25,0.58S15.23,7.71,15,7.71s-0.44-0.08-0.6-0.23
	S14.14,7.13,14.14,6.9z M19.66,20.08c0-0.23,0.08-0.42,0.23-0.56c0.15-0.16,0.34-0.23,0.56-0.23c0.24,0,0.44,0.08,0.6,0.23
	l1.46,1.43c0.16,0.17,0.24,0.38,0.24,0.61c0,0.23-0.08,0.43-0.24,0.59c-0.4,0.31-0.8,0.31-1.2,0l-1.42-1.42
	C19.74,20.55,19.66,20.34,19.66,20.08z M19.66,9.16c0-0.25,0.08-0.45,0.23-0.59l1.42-1.47c0.17-0.16,0.37-0.24,0.59-0.24
	c0.24,0,0.44,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6c0,0.25-0.08,0.46-0.24,0.62l-1.46,1.43c-0.18,0.16-0.38,0.24-0.6,0.24
	c-0.23,0-0.41-0.08-0.56-0.24S19.66,9.4,19.66,9.16z M21.92,14.62c0-0.24,0.08-0.44,0.24-0.62c0.16-0.16,0.35-0.24,0.57-0.24h2.02
	c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6s-0.09,0.43-0.26,0.6c-0.17,0.17-0.37,0.25-0.6,0.25h-2.02
	c-0.23,0-0.43-0.08-0.58-0.25S21.92,14.86,21.92,14.62z`}}]})(n)}function ek(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M7.33,16.58c0-0.23,0.08-0.41,0.23-0.56c0.16-0.15,0.37-0.22,0.64-0.22h5.71c0.27,0,0.48,0.07,0.64,0.22
	c0.16,0.15,0.23,0.33,0.23,0.56c0,0.27-0.08,0.49-0.23,0.64s-0.37,0.23-0.64,0.23H8.2c-0.27,0-0.48-0.08-0.64-0.23
	S7.33,16.86,7.33,16.58z M7.33,10.67c0-0.22,0.08-0.41,0.23-0.55C7.72,9.97,7.93,9.9,8.2,9.9h2.96c0.27,0,0.48,0.07,0.64,0.22
	c0.16,0.14,0.24,0.33,0.24,0.55c0,0.27-0.08,0.48-0.24,0.64c-0.16,0.16-0.37,0.24-0.64,0.24H8.2c-0.27,0-0.48-0.08-0.64-0.23
	S7.33,10.94,7.33,10.67z M8.32,19.54c0-0.22,0.09-0.42,0.28-0.6c0.18-0.18,0.39-0.28,0.6-0.28c0.26,0,0.46,0.09,0.62,0.27
	s0.24,0.38,0.24,0.61c0,0.27-0.08,0.49-0.23,0.65c-0.15,0.16-0.36,0.23-0.63,0.23c-0.23,0-0.44-0.08-0.61-0.24
	C8.4,20.01,8.32,19.8,8.32,19.54z M9.74,13.61c0-0.23,0.07-0.44,0.22-0.61c0.15-0.18,0.33-0.27,0.54-0.27
	c0.26,0,0.48,0.09,0.64,0.27c0.16,0.18,0.24,0.38,0.24,0.61c0,0.27-0.08,0.49-0.23,0.65c-0.16,0.16-0.37,0.23-0.65,0.23
	c-0.23,0-0.41-0.08-0.55-0.24S9.74,13.88,9.74,13.61z M10.73,19.54c0-0.23,0.08-0.44,0.24-0.61s0.38-0.27,0.64-0.27h3.83l0.88,0.88
	c0,0.26-0.09,0.47-0.27,0.64s-0.38,0.24-0.61,0.24h-3.83c-0.27,0-0.49-0.08-0.65-0.24S10.73,19.81,10.73,19.54z M12.05,13.61
	c0-0.22,0.09-0.42,0.28-0.6c0.18-0.18,0.39-0.28,0.6-0.28h3.83c0.26,0,0.47,0.09,0.63,0.27c0.16,0.18,0.24,0.38,0.24,0.61
	c0,0.27-0.08,0.49-0.23,0.65c-0.16,0.16-0.37,0.23-0.64,0.23h-3.83c-0.23,0-0.44-0.08-0.61-0.24
	C12.14,14.09,12.05,13.88,12.05,13.61z M12.81,10.67c0-0.22,0.08-0.41,0.24-0.55c0.16-0.14,0.37-0.22,0.64-0.22h5.71
	c0.23,0,0.43,0.08,0.61,0.23c0.18,0.15,0.27,0.33,0.27,0.54c0,0.26-0.09,0.48-0.27,0.64c-0.18,0.16-0.38,0.24-0.61,0.24h-5.71
	c-0.27,0-0.49-0.08-0.65-0.24C12.88,11.15,12.81,10.94,12.81,10.67z M15.44,16.58c0-0.21,0.09-0.4,0.27-0.55
	c0.18-0.15,0.38-0.23,0.61-0.23s0.43,0.08,0.61,0.23c0.18,0.15,0.27,0.34,0.27,0.55c0,0.26-0.09,0.47-0.27,0.63
	c-0.18,0.16-0.38,0.24-0.61,0.24c-0.23,0-0.44-0.08-0.61-0.24C15.53,17.06,15.44,16.85,15.44,16.58z M16.98,19.54
	c0-0.23,0.08-0.44,0.24-0.61c0.16-0.18,0.37-0.27,0.63-0.27h1.87c0.26,0,0.47,0.09,0.63,0.26c0.16,0.17,0.24,0.38,0.24,0.62
	c0,0.27-0.08,0.49-0.23,0.65c-0.15,0.16-0.37,0.23-0.64,0.23h-1.87c-0.27,0-0.48-0.08-0.64-0.23
	C17.06,20.03,16.98,19.81,16.98,19.54z M17.85,16.58c0-0.21,0.09-0.4,0.27-0.55c0.18-0.15,0.38-0.23,0.61-0.23h3.07
	c0.22,0,0.4,0.08,0.54,0.23c0.14,0.15,0.22,0.33,0.22,0.55c0,0.27-0.07,0.48-0.21,0.64c-0.14,0.16-0.32,0.23-0.55,0.23h-3.07
	c-0.23,0-0.44-0.08-0.61-0.24C17.94,17.06,17.85,16.85,17.85,16.58z M18.29,13.61c0-0.22,0.09-0.42,0.28-0.6
	c0.18-0.18,0.39-0.28,0.6-0.28h1.96c0.21,0,0.39,0.09,0.54,0.27c0.15,0.18,0.23,0.38,0.23,0.61c0,0.27-0.07,0.48-0.22,0.64
	c-0.14,0.16-0.33,0.24-0.55,0.24h-1.96c-0.23,0-0.44-0.08-0.61-0.24C18.38,14.09,18.29,13.88,18.29,13.61z M21.03,10.67
	c0-0.22,0.07-0.4,0.22-0.55C21.4,9.97,21.58,9.9,21.8,9.9c0.27,0,0.48,0.07,0.64,0.22c0.16,0.14,0.24,0.33,0.24,0.55
	c0,0.27-0.08,0.48-0.24,0.64c-0.16,0.16-0.37,0.24-0.64,0.24c-0.23,0-0.41-0.08-0.55-0.24C21.1,11.15,21.03,10.94,21.03,10.67z`}}]})(n)}function tk(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M2.62,21.05c0-0.24,0.08-0.45,0.25-0.61c0.17-0.16,0.38-0.24,0.63-0.24h18.67c0.25,0,0.45,0.08,0.61,0.24
	c0.16,0.16,0.24,0.36,0.24,0.61c0,0.23-0.08,0.43-0.25,0.58c-0.17,0.16-0.37,0.23-0.6,0.23H3.5c-0.25,0-0.46-0.08-0.63-0.23
	C2.7,21.47,2.62,21.28,2.62,21.05z M5.24,17.91c0-0.24,0.09-0.44,0.26-0.6c0.15-0.15,0.35-0.23,0.59-0.23h18.67
	c0.23,0,0.42,0.08,0.58,0.24c0.16,0.16,0.23,0.35,0.23,0.59c0,0.24-0.08,0.44-0.23,0.6c-0.16,0.17-0.35,0.25-0.58,0.25H6.09
	c-0.24,0-0.44-0.08-0.6-0.25C5.32,18.34,5.24,18.14,5.24,17.91z M5.37,15.52c0,0.09,0.05,0.13,0.15,0.13h1.43
	c0.06,0,0.13-0.05,0.2-0.16c0.24-0.52,0.59-0.94,1.06-1.27c0.47-0.33,0.99-0.52,1.55-0.56l0.55-0.07c0.11,0,0.17-0.06,0.17-0.18
	l0.07-0.5c0.11-1.08,0.56-1.98,1.37-2.7c0.81-0.72,1.76-1.08,2.85-1.08c1.08,0,2.02,0.36,2.83,1.07c0.8,0.71,1.26,1.61,1.37,2.68
	l0.08,0.57c0,0.11,0.07,0.17,0.2,0.17h1.59c0.64,0,1.23,0.17,1.76,0.52s0.92,0.8,1.18,1.37c0.07,0.11,0.14,0.16,0.21,0.16h1.43
	c0.12,0,0.17-0.07,0.14-0.23c-0.29-1.02-0.88-1.86-1.74-2.51c-0.87-0.65-1.86-0.97-2.97-0.97h-0.32c-0.33-1.33-1.03-2.42-2.1-3.27
	s-2.28-1.27-3.65-1.27c-1.4,0-2.64,0.44-3.73,1.32s-1.78,2-2.09,3.36c-0.85,0.2-1.6,0.6-2.24,1.21c-0.64,0.61-1.09,1.33-1.34,2.18
	v-0.04C5.37,15.45,5.37,15.48,5.37,15.52z M6.98,24.11c0-0.24,0.09-0.43,0.26-0.59c0.15-0.15,0.35-0.23,0.6-0.23h18.68
	c0.24,0,0.44,0.08,0.6,0.23c0.17,0.16,0.25,0.35,0.25,0.58c0,0.24-0.08,0.44-0.25,0.61c-0.17,0.17-0.37,0.25-0.6,0.25H7.84
	c-0.23,0-0.43-0.09-0.6-0.26C7.07,24.55,6.98,24.34,6.98,24.11z`}}]})(n)}function nk(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M15.01,25.71c2.04,0,3.92-0.5,5.65-1.51s3.09-2.37,4.09-4.1s1.51-3.61,1.51-5.65s-0.5-3.92-1.51-5.65s-2.37-3.09-4.09-4.09
	s-3.61-1.51-5.65-1.51c1.71,1.26,2.97,2.9,3.78,4.91S20,12.24,20,14.44c0,0.9-0.03,1.73-0.1,2.5s-0.21,1.59-0.43,2.47
	s-0.51,1.68-0.86,2.4s-0.83,1.42-1.45,2.12S15.83,25.21,15.01,25.71z`}}]})(n)}function F0(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.3,16.89c0,0.89,0.22,1.72,0.66,2.48s1.03,1.36,1.79,1.8s1.58,0.67,2.48,0.67h10.81c0.89,0,1.72-0.22,2.48-0.67
	s1.36-1.05,1.8-1.8c0.44-0.76,0.67-1.59,0.67-2.48c0-0.64-0.14-1.3-0.42-2c0.76-0.93,1.13-2.03,1.13-3.3c0-0.95-0.23-1.83-0.69-2.63
	c-0.46-0.8-1.1-1.44-1.9-1.91c-0.8-0.47-1.68-0.7-2.63-0.7c-1.49,0-2.78,0.58-3.87,1.74c-0.76-0.43-1.66-0.65-2.69-0.65
	c-1.41,0-2.65,0.43-3.73,1.3s-1.77,1.98-2.08,3.35c-1.12,0.25-2.03,0.82-2.74,1.72C4.66,14.71,4.3,15.74,4.3,16.89z M6.01,16.89
	c0-0.83,0.28-1.55,0.83-2.16c0.56-0.61,1.26-0.96,2.1-1.06l0.68-0.03l0.07-0.72c0.14-1.08,0.61-1.99,1.41-2.71
	c0.8-0.73,1.74-1.09,2.81-1.09c1.09,0,2.05,0.37,2.86,1.1s1.27,1.63,1.38,2.71l0.1,0.75h1.78c0.88,0,1.64,0.32,2.28,0.95
	s0.96,1.39,0.96,2.26c0,0.9-0.32,1.67-0.95,2.32s-1.4,0.97-2.28,0.97H9.23c-0.87,0-1.62-0.32-2.26-0.97
	C6.33,18.55,6.01,17.78,6.01,16.89z M18.04,9.06c0.69-0.66,1.5-0.99,2.44-0.99c0.99,0,1.83,0.34,2.52,1.03
	c0.69,0.68,1.04,1.52,1.04,2.51c0,0.62-0.17,1.23-0.52,1.84C22.56,12.48,21.4,12,20.03,12h-0.31C19.45,10.89,18.89,9.91,18.04,9.06z
	`}}]})(n)}function ik(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.64,16.91c0-1.15,0.36-2.17,1.08-3.07c0.72-0.9,1.63-1.47,2.73-1.73c0.31-1.36,1.02-2.48,2.11-3.36s2.34-1.31,3.75-1.31
	c1.38,0,2.6,0.43,3.68,1.28c1.08,0.85,1.78,1.95,2.1,3.29h0.32c0.89,0,1.72,0.22,2.48,0.65s1.37,1.03,1.81,1.78
	c0.44,0.75,0.67,1.58,0.67,2.47c0,0.88-0.21,1.69-0.63,2.44c-0.42,0.75-1,1.35-1.73,1.8c-0.73,0.45-1.53,0.69-2.4,0.71
	c-0.13,0-0.2-0.06-0.2-0.17v-1.33c0-0.12,0.07-0.18,0.2-0.18c0.85-0.04,1.58-0.38,2.18-1.02s0.9-1.39,0.9-2.26s-0.33-1.62-0.98-2.26
	s-1.42-0.96-2.31-0.96h-1.61c-0.12,0-0.18-0.06-0.18-0.17l-0.08-0.58c-0.11-1.08-0.58-1.99-1.39-2.71
	c-0.82-0.73-1.76-1.09-2.85-1.09c-1.09,0-2.05,0.36-2.85,1.09c-0.81,0.73-1.26,1.63-1.36,2.71l-0.07,0.53c0,0.12-0.07,0.19-0.2,0.19
	l-0.53,0.03c-0.83,0.1-1.53,0.46-2.1,1.07s-0.85,1.33-0.85,2.16c0,0.87,0.3,1.62,0.9,2.26s1.33,0.98,2.18,1.02
	c0.11,0,0.17,0.06,0.17,0.18v1.33c0,0.11-0.06,0.17-0.17,0.17c-1.34-0.06-2.47-0.57-3.4-1.53S4.64,18.24,4.64,16.91z M9.99,23.6
	c0-0.04,0.01-0.11,0.04-0.2l1.63-5.77c0.06-0.19,0.17-0.34,0.32-0.44c0.15-0.1,0.31-0.15,0.46-0.15c0.07,0,0.15,0.01,0.24,0.03
	c0.24,0.04,0.42,0.17,0.54,0.37c0.12,0.2,0.15,0.42,0.08,0.67l-1.63,5.73c-0.12,0.43-0.4,0.64-0.82,0.64
	c-0.04,0-0.07-0.01-0.11-0.02c-0.06-0.02-0.09-0.03-0.1-0.03c-0.22-0.06-0.38-0.17-0.49-0.33C10.04,23.93,9.99,23.77,9.99,23.6z
	 M12.61,26.41l2.44-8.77c0.04-0.19,0.14-0.34,0.3-0.44c0.16-0.1,0.32-0.15,0.49-0.15c0.09,0,0.18,0.01,0.27,0.03
	c0.22,0.06,0.38,0.19,0.49,0.39c0.11,0.2,0.13,0.41,0.07,0.64l-2.43,8.78c-0.04,0.17-0.13,0.31-0.29,0.43
	c-0.16,0.12-0.32,0.18-0.51,0.18c-0.09,0-0.18-0.02-0.25-0.05c-0.2-0.05-0.37-0.18-0.52-0.39C12.56,26.88,12.54,26.67,12.61,26.41z
	 M16.74,23.62c0-0.04,0.01-0.11,0.04-0.23l1.63-5.77c0.06-0.19,0.16-0.34,0.3-0.44c0.15-0.1,0.3-0.15,0.46-0.15
	c0.08,0,0.17,0.01,0.26,0.03c0.21,0.06,0.36,0.16,0.46,0.31c0.1,0.15,0.15,0.31,0.15,0.47c0,0.03-0.01,0.08-0.02,0.14
	s-0.02,0.1-0.02,0.12l-1.63,5.73c-0.04,0.19-0.13,0.35-0.28,0.46s-0.32,0.17-0.51,0.17l-0.24-0.05c-0.2-0.06-0.35-0.16-0.46-0.32
	C16.79,23.94,16.74,23.78,16.74,23.62z`}}]})(n)}function rk(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M11.01,12.23c0-0.26,0.13-0.59,0.38-1.01c0.25-0.42,0.5-0.77,0.73-1.04c0.06-0.07,0.14-0.17,0.23-0.28s0.15-0.17,0.16-0.18
	l0.37,0.43c0.28,0.31,0.53,0.66,0.76,1.07c0.23,0.41,0.35,0.74,0.35,1.01c0,0.41-0.14,0.77-0.43,1.06
	c-0.28,0.29-0.63,0.44-1.05,0.44c-0.41,0-0.77-0.15-1.06-0.44C11.16,12.99,11.01,12.64,11.01,12.23z M14.13,16.38
	c0-0.29,0.08-0.62,0.24-1.01c0.16-0.38,0.36-0.74,0.6-1.06c0.46-0.61,0.89-1.12,1.31-1.53c0.04-0.03,0.13-0.11,0.26-0.24l0.25,0.24
	c0.39,0.37,0.83,0.88,1.32,1.52c0.26,0.34,0.46,0.7,0.62,1.08s0.24,0.71,0.24,1c0,0.69-0.23,1.26-0.7,1.73
	c-0.47,0.47-1.05,0.7-1.73,0.7c-0.68,0-1.25-0.24-1.72-0.71S14.13,17.05,14.13,16.38z M15.65,9.48c0-0.43,0.33-1,1-1.7l0.25,0.28
	c0.19,0.22,0.36,0.46,0.51,0.74c0.15,0.27,0.23,0.5,0.23,0.68c0,0.28-0.1,0.5-0.29,0.69c-0.19,0.18-0.42,0.28-0.7,0.28
	c-0.29,0-0.53-0.09-0.72-0.28C15.75,9.98,15.65,9.75,15.65,9.48z`}}]})(n)}function sk(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M7.46,14.41c0-0.19,0.07-0.36,0.2-0.5c0.13-0.14,0.29-0.21,0.48-0.21c0.19,0,0.36,0.07,0.49,0.21c0.13,0.14,0.2,0.3,0.2,0.5
	c0,0.19-0.07,0.35-0.2,0.48c-0.13,0.13-0.3,0.2-0.48,0.2s-0.35-0.07-0.48-0.2C7.52,14.75,7.46,14.59,7.46,14.41z M9.44,14.41
	c0-0.19,0.07-0.36,0.2-0.5c0.13-0.14,0.29-0.21,0.48-0.21h3.23l-2.28-2.28c-0.14-0.12-0.21-0.28-0.21-0.47
	c0-0.19,0.07-0.35,0.21-0.49c0.14-0.14,0.3-0.21,0.49-0.21s0.35,0.07,0.49,0.21l2.27,2.27V9.52c0-0.19,0.07-0.36,0.21-0.5
	s0.3-0.21,0.5-0.21c0.19,0,0.35,0.07,0.48,0.21c0.13,0.14,0.2,0.3,0.2,0.5v3.23l2.29-2.3c0.14-0.14,0.3-0.21,0.48-0.21
	c0.18,0,0.35,0.07,0.49,0.21c0.12,0.14,0.18,0.3,0.18,0.49c0,0.19-0.06,0.35-0.18,0.47l-2.28,2.28h3.23c0.18,0,0.34,0.07,0.47,0.21
	c0.13,0.14,0.2,0.3,0.2,0.5c0,0.18-0.07,0.34-0.2,0.47c-0.13,0.13-0.29,0.2-0.47,0.2h-3.23l2.29,2.29c0.12,0.12,0.18,0.28,0.18,0.47
	s-0.06,0.35-0.18,0.49c-0.14,0.14-0.31,0.21-0.49,0.21c-0.18,0-0.35-0.07-0.48-0.21l-2.29-2.3v3.24c0,0.19-0.07,0.36-0.2,0.49
	c-0.13,0.13-0.29,0.2-0.48,0.2c-0.19,0-0.36-0.07-0.5-0.2c-0.14-0.13-0.21-0.3-0.21-0.49v-3.22l-2.27,2.27
	c-0.14,0.14-0.3,0.21-0.49,0.21s-0.35-0.07-0.49-0.21s-0.21-0.3-0.21-0.49s0.07-0.34,0.21-0.47l2.3-2.29h-3.24
	c-0.19,0-0.35-0.07-0.48-0.2C9.5,14.75,9.44,14.59,9.44,14.41z M9.45,19.25c0-0.18,0.07-0.35,0.21-0.48
	c0.12-0.14,0.28-0.21,0.47-0.21c0.19,0,0.35,0.07,0.49,0.21c0.14,0.14,0.21,0.3,0.21,0.48c0,0.18-0.07,0.35-0.21,0.48
	c-0.14,0.14-0.3,0.21-0.49,0.21c-0.19,0-0.35-0.07-0.47-0.21C9.52,19.6,9.45,19.44,9.45,19.25z M9.45,9.54
	c0-0.18,0.07-0.35,0.21-0.48c0.12-0.14,0.28-0.21,0.47-0.21c0.19,0,0.35,0.07,0.49,0.21c0.14,0.14,0.21,0.3,0.21,0.48
	s-0.07,0.35-0.21,0.49c-0.14,0.14-0.3,0.21-0.49,0.21c-0.19,0-0.35-0.07-0.47-0.21C9.52,9.89,9.45,9.72,9.45,9.54z M14.3,21.25
	c0-0.18,0.07-0.34,0.21-0.47c0.14-0.13,0.3-0.2,0.5-0.2c0.19,0,0.35,0.07,0.48,0.2c0.13,0.13,0.2,0.29,0.2,0.47
	c0,0.19-0.07,0.36-0.2,0.49c-0.13,0.13-0.29,0.2-0.48,0.2c-0.19,0-0.36-0.07-0.5-0.2C14.37,21.61,14.3,21.45,14.3,21.25z M14.3,7.54
	c0-0.19,0.07-0.36,0.21-0.49s0.3-0.2,0.5-0.2c0.19,0,0.35,0.07,0.48,0.2c0.13,0.13,0.2,0.3,0.2,0.49c0,0.18-0.07,0.34-0.2,0.47
	c-0.13,0.13-0.29,0.2-0.48,0.2c-0.19,0-0.36-0.07-0.5-0.2C14.37,7.88,14.3,7.72,14.3,7.54z M19.17,19.25c0-0.18,0.07-0.35,0.21-0.48
	c0.12-0.14,0.28-0.21,0.47-0.21c0.19,0,0.35,0.07,0.49,0.21c0.14,0.14,0.21,0.3,0.21,0.48c0,0.18-0.07,0.35-0.21,0.48
	c-0.14,0.14-0.3,0.21-0.49,0.21c-0.19,0-0.35-0.07-0.47-0.21C19.24,19.6,19.17,19.44,19.17,19.25z M19.17,9.54
	c0-0.18,0.07-0.35,0.21-0.48c0.12-0.14,0.28-0.21,0.47-0.21c0.19,0,0.35,0.07,0.49,0.21c0.14,0.14,0.21,0.3,0.21,0.48
	s-0.07,0.35-0.21,0.49c-0.14,0.14-0.3,0.21-0.49,0.21c-0.19,0-0.35-0.07-0.47-0.21C19.24,9.89,19.17,9.72,19.17,9.54z M21.17,14.41
	c0-0.19,0.07-0.36,0.2-0.5c0.13-0.14,0.3-0.21,0.49-0.21c0.18,0,0.34,0.07,0.47,0.21c0.13,0.14,0.2,0.3,0.2,0.5
	c0,0.18-0.07,0.34-0.2,0.47c-0.13,0.13-0.29,0.2-0.47,0.2c-0.19,0-0.36-0.07-0.49-0.2C21.24,14.75,21.17,14.59,21.17,14.41z`}}]})(n)}function ak(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.64,16.91c0-1.15,0.36-2.17,1.08-3.07c0.72-0.9,1.63-1.47,2.73-1.73c0.31-1.36,1.01-2.48,2.1-3.35s2.35-1.31,3.76-1.31
	c1.38,0,2.6,0.43,3.68,1.27c1.07,0.85,1.78,1.94,2.11,3.28h0.31c0.89,0,1.72,0.22,2.48,0.65s1.37,1.03,1.81,1.78
	c0.44,0.75,0.67,1.58,0.67,2.47c0,1.34-0.46,2.49-1.38,3.45s-2.05,1.47-3.38,1.51c-0.13,0-0.2-0.06-0.2-0.17v-1.33
	c0-0.12,0.07-0.18,0.2-0.18c0.86-0.04,1.58-0.38,2.18-1.02s0.9-1.39,0.9-2.26s-0.32-1.62-0.98-2.26c-0.65-0.64-1.42-0.96-2.31-0.96
	h-1.6c-0.12,0-0.19-0.06-0.19-0.17l-0.07-0.58c-0.11-1.07-0.57-1.98-1.38-2.71c-0.82-0.73-1.77-1.1-2.85-1.1
	c-1.09,0-2.05,0.36-2.86,1.09c-0.81,0.73-1.27,1.63-1.38,2.71l-0.06,0.54c0,0.12-0.07,0.18-0.2,0.18l-0.53,0.03
	c-0.82,0.04-1.51,0.37-2.09,1s-0.86,1.37-0.86,2.22c0,0.87,0.3,1.62,0.9,2.26s1.33,0.98,2.18,1.02c0.11,0,0.17,0.06,0.17,0.18v1.33
	c0,0.11-0.06,0.17-0.17,0.17c-1.34-0.06-2.47-0.57-3.4-1.53S4.64,18.24,4.64,16.91z M10.57,17.79c0-0.24,0.12-0.57,0.37-0.99
	c0.24-0.42,0.47-0.75,0.68-1.01c0.21-0.24,0.34-0.38,0.38-0.42l0.36,0.4c0.26,0.28,0.5,0.61,0.72,1.02c0.22,0.4,0.33,0.74,0.33,1
	c0,0.39-0.13,0.72-0.4,0.98c-0.27,0.26-0.6,0.39-1,0.39c-0.39,0-0.73-0.13-1.01-0.4C10.71,18.5,10.57,18.17,10.57,17.79z
	 M13.55,21.78c0-0.28,0.08-0.59,0.24-0.96s0.35-0.7,0.59-1.02c0.18-0.26,0.4-0.54,0.67-0.84c0.26-0.3,0.46-0.52,0.6-0.65
	c0.07-0.06,0.15-0.14,0.24-0.23l0.24,0.23c0.38,0.33,0.8,0.82,1.27,1.46c0.24,0.33,0.43,0.68,0.59,1.04s0.23,0.68,0.23,0.97
	c0,0.64-0.23,1.19-0.68,1.65s-1.01,0.68-1.66,0.68c-0.64,0-1.19-0.23-1.65-0.67C13.77,22.98,13.55,22.43,13.55,21.78z M15.02,15.12
	c0-0.42,0.32-0.95,0.97-1.6l0.24,0.25c0.18,0.21,0.33,0.45,0.48,0.71c0.14,0.26,0.22,0.47,0.22,0.64c0,0.26-0.09,0.48-0.28,0.66
	c-0.18,0.18-0.4,0.28-0.66,0.28c-0.27,0-0.5-0.09-0.69-0.28C15.11,15.6,15.02,15.38,15.02,15.12z`}}]})(n)}function ok(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.63,16.91c0,1.11,0.33,2.1,0.99,2.97s1.52,1.47,2.58,1.79l-0.66,1.68c-0.03,0.14,0.02,0.22,0.14,0.22h2.13l-0.98,4.3h0.28
	l3.92-5.75c0.04-0.04,0.04-0.09,0.01-0.14c-0.03-0.05-0.08-0.07-0.15-0.07h-2.18l2.48-4.64c0.07-0.14,0.02-0.22-0.14-0.22h-2.94
	c-0.09,0-0.17,0.05-0.23,0.15l-1.07,2.87c-0.71-0.18-1.3-0.57-1.77-1.16c-0.47-0.59-0.7-1.26-0.7-2.01c0-0.83,0.28-1.55,0.85-2.17
	c0.57-0.61,1.27-0.97,2.1-1.07l0.53-0.07c0.13,0,0.2-0.06,0.2-0.18l0.07-0.51c0.11-1.08,0.56-1.99,1.37-2.72
	c0.81-0.73,1.76-1.1,2.85-1.1c1.09,0,2.04,0.37,2.85,1.1c0.82,0.73,1.28,1.64,1.4,2.72l0.07,0.58c0,0.11,0.06,0.17,0.18,0.17h1.6
	c0.91,0,1.68,0.32,2.32,0.95c0.64,0.63,0.97,1.4,0.97,2.28c0,0.85-0.3,1.59-0.89,2.21c-0.59,0.62-1.33,0.97-2.2,1.04
	c-0.13,0-0.2,0.06-0.2,0.18v1.37c0,0.11,0.07,0.17,0.2,0.17c1.33-0.04,2.46-0.55,3.39-1.51s1.39-2.11,1.39-3.45
	c0-0.9-0.22-1.73-0.67-2.49c-0.44-0.76-1.05-1.36-1.81-1.8c-0.77-0.44-1.6-0.66-2.5-0.66H20.1c-0.33-1.33-1.04-2.42-2.11-3.26
	s-2.3-1.27-3.68-1.27c-1.41,0-2.67,0.44-3.76,1.31s-1.79,1.99-2.1,3.36c-1.11,0.26-2.02,0.83-2.74,1.73S4.63,15.76,4.63,16.91z
	 M12.77,26.62c0,0.39,0.19,0.65,0.58,0.77c0.01,0,0.05,0,0.11,0.01c0.06,0.01,0.11,0.01,0.14,0.01c0.17,0,0.33-0.05,0.49-0.15
	c0.16-0.1,0.27-0.26,0.32-0.48l2.25-8.69c0.06-0.24,0.04-0.45-0.07-0.65c-0.11-0.19-0.27-0.32-0.5-0.39
	c-0.17-0.02-0.26-0.03-0.26-0.03c-0.16,0-0.32,0.05-0.47,0.15c-0.15,0.1-0.26,0.25-0.31,0.45l-2.26,8.72
	C12.78,26.44,12.77,26.53,12.77,26.62z M16.93,23.56c0,0.13,0.03,0.26,0.1,0.38c0.14,0.22,0.31,0.37,0.51,0.44
	c0.11,0.03,0.21,0.05,0.3,0.05s0.2-0.02,0.32-0.08c0.21-0.09,0.35-0.28,0.42-0.57l1.44-5.67c0.03-0.14,0.05-0.23,0.05-0.27
	c0-0.15-0.05-0.3-0.16-0.45s-0.26-0.26-0.46-0.32c-0.17-0.02-0.26-0.03-0.26-0.03c-0.17,0-0.33,0.05-0.47,0.15
	c-0.14,0.1-0.24,0.25-0.3,0.45l-1.46,5.7c0,0.02,0,0.05-0.01,0.11C16.93,23.5,16.93,23.53,16.93,23.56z`}}]})(n)}function lk(n){return hn({tag:"svg",attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.13,15.19c0,0.69,0.36,1.28,1.08,1.77c1.32,0.93,3.31,1.39,5.98,1.39c1.2,0,2.31-0.1,3.34-0.31
	c1.08-0.23,1.97-0.6,2.65-1.1s1.03-1.08,1.03-1.76c0-0.21-0.04-0.41-0.12-0.62c1.39-0.34,2.48-0.8,3.27-1.38s1.19-1.25,1.19-2
	c0-0.19-0.03-0.39-0.09-0.6c2.29-0.81,3.43-1.9,3.43-3.28c0-0.88-0.5-1.66-1.49-2.34c-1.95-1.3-4.81-1.95-8.58-1.95
	c-1.78,0-3.39,0.16-4.83,0.47C9.42,3.8,8.16,4.3,7.2,4.98S5.76,6.44,5.76,7.31c0,0.52,0.16,0.99,0.48,1.42
	c-1.18,0.67-1.77,1.49-1.77,2.46c0,0.75,0.37,1.41,1.1,1.98C4.61,13.73,4.13,14.4,4.13,15.19z M4.73,19.69
	c0,0.73,0.45,1.31,1.35,1.72s2.04,0.62,3.41,0.62c1.39,0,2.53-0.21,3.44-0.62s1.36-0.99,1.36-1.72c0-0.27-0.09-0.5-0.26-0.69
	s-0.4-0.28-0.67-0.28c-0.22,0-0.42,0.08-0.6,0.23s-0.29,0.35-0.34,0.57c-0.2,0.16-0.56,0.3-1.1,0.43s-1.15,0.2-1.83,0.2
	c-1.1,0-2-0.16-2.68-0.47c0.16-0.16,0.24-0.36,0.26-0.6s-0.04-0.45-0.15-0.62c-0.16-0.21-0.36-0.35-0.61-0.4s-0.48,0-0.7,0.13
	C5.02,18.6,4.73,19.09,4.73,19.69z M6.01,15.19c0-0.01,0.06-0.07,0.19-0.18c0.09-0.09,0.28-0.2,0.56-0.34s0.61-0.25,0.96-0.35
	l0.12-0.06c1.62,0.54,3.51,0.81,5.67,0.81c0.95,0,1.81-0.05,2.58-0.16l0.26,0.23c-0.09,0.16-0.3,0.32-0.63,0.5
	c-0.4,0.21-1.02,0.41-1.86,0.57s-1.73,0.25-2.67,0.25s-1.83-0.08-2.67-0.25s-1.47-0.36-1.88-0.57C6.3,15.5,6.09,15.35,6.01,15.19z
	 M6.12,23.61c0,0.63,0.36,1.12,1.08,1.46s1.61,0.51,2.67,0.51c1.08,0,1.99-0.17,2.72-0.51s1.1-0.83,1.1-1.46
	c0-0.25-0.09-0.48-0.28-0.67s-0.41-0.29-0.66-0.29c-0.47,0-0.78,0.24-0.92,0.72c-0.39,0.24-1.04,0.37-1.96,0.37
	c-0.8,0-1.44-0.12-1.92-0.37c-0.15-0.48-0.45-0.72-0.92-0.72c-0.25,0-0.47,0.09-0.64,0.28S6.12,23.34,6.12,23.61z M6.33,11.19
	c0-0.08,0.05-0.17,0.15-0.28c0.24-0.3,0.72-0.6,1.42-0.88c1.92,1.03,4.56,1.54,7.91,1.54c1.71,0,3.32-0.16,4.82-0.47v0.09
	c0,0.15-0.09,0.3-0.28,0.45c-0.41,0.36-1.17,0.7-2.29,1.03c-1.21,0.36-2.73,0.54-4.56,0.54c-1.84,0-3.36-0.18-4.57-0.54
	C7.77,12.35,7,12.01,6.61,11.65C6.42,11.5,6.33,11.35,6.33,11.19z M7.63,7.31c0-0.18,0.12-0.37,0.35-0.59
	C8.43,6.3,9.33,5.9,10.66,5.51c1.43-0.42,3.14-0.63,5.14-0.63c2.01,0,3.74,0.21,5.19,0.63c1.35,0.39,2.24,0.8,2.68,1.22
	c0.22,0.22,0.34,0.42,0.34,0.59s-0.11,0.35-0.34,0.56c-0.44,0.42-1.33,0.83-2.68,1.23c-1.45,0.42-3.17,0.63-5.19,0.63
	c-2,0-3.72-0.21-5.14-0.63C9.32,8.71,8.42,8.3,7.98,7.87C7.75,7.66,7.63,7.48,7.63,7.31z`}}]})(n)}class ck extends en.Component{constructor(e){super(e),this.state={temperature:this.props.temperature,location:this.props.location,icon:this.props.icon,desc:this.props.desc,link:this.props.link}}fetchData(e,t,s,a){return fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&appid=${s}&units=${a}`).then(l=>l.json()).then(l=>{this.getWeather(l)})}getWeather(e){this.setState({location:e.name});let t=[{weather:"Clear",icon_day:Te(KT,{}),icon_night:Te(nk,{})},{weather:"Clouds",icon_few_day:Te(N0,{}),icon_few_night:Te(F0,{}),icon_scatter_day:Te(N0,{}),icon_scatter_night:Te(F0,{}),icon_broken:Te(ZT,{}),icon_overcast:Te(JT,{})},{weather:"Drizzle",icon:Te(ak,{})},{weather:"Rain",icon:Te(ik,{})},{weather:"Thunderstorm",icon:Te(ok,{})},{weather:"Snow",icon:Te(sk,{})},{weather:"Fog",icon:Te(tk,{})},{weather:"Mist",icon:Te(rk,{})},{weather:"Haze",icon:Te(QT,{})},{weather:"Tornado",icon:Te(lk,{})},{weather:"Dust",icon:Te(ek,{})}],s="",a=t.find(p=>p.weather===e.weather[0].main);if(a.weather==="Clear"?s=this.isDay()?a.icon_day:a.icon_night:a.weather==="Clouds"?e.weather[0].id===801?s=this.isDay()?a.icon_few_day:a.icon_few_night:e.weather[0].id===802?s=this.isDay()?a.icon_scatter_day:a.icon_scatter_night:e.weather[0].id===803?s=a.icon_broken:e.weather[0].id===804&&(s=a.icon_overcast):s=a.icon,e.sys.country==="US")var l=String(Math.round(e.main.temp))+"\xB0 F";else var l=String(Math.round(e.main.temp))+"\xB0 C";let d=`https://darksky.net/forecast/${String(Rt.latitude)},${String(Rt.longitude)}/us12/en`;this.setState({temperature:l,icon:s,desc:e.main.description,link:d})}isDay(){return new Date().getHours()>=6&&new Date().getHours()<18}componentDidMount(){const e=Rt.units,t=Rt.openWeatherCredential;this.fetchData(Rt.latitude,Rt.longitude,t,e)}render(){return Te(Hr,{children:Br("div",{class:"text-center items-center justify-center translate-x-0 translate-y-0",children:[Te("h1",{title:this.state.desc,class:"text-3xl pt-5 text-off-white1",children:this.state.temperature}),Te("a",{class:"flex justify-center text-5xl text-off-white1",href:"",children:Te("span",{class:"text-grey group-hover:text-blue-500",children:this.state.icon})}),Te("p",{class:"text-xl text-off-white1",children:this.state.location})]})})}}var Jy={},Wd={exports:{}};/*!
 * ApexCharts v3.36.2
 * (c) 2018-2022 ApexCharts
 * Released under the MIT License.
 */(function(n,e){function t(F,i){var r=Object.keys(F);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(F);i&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(F,c).enumerable})),r.push.apply(r,o)}return r}function s(F){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?t(Object(r),!0).forEach(function(o){v(F,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(o){Object.defineProperty(F,o,Object.getOwnPropertyDescriptor(r,o))})}return F}function a(F){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},a(F)}function l(F,i){if(!(F instanceof i))throw new TypeError("Cannot call a class as a function")}function d(F,i){for(var r=0;r<i.length;r++){var o=i[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(F,o.key,o)}}function p(F,i,r){return i&&d(F.prototype,i),r&&d(F,r),F}function v(F,i,r){return i in F?Object.defineProperty(F,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):F[i]=r,F}function y(F,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(i&&i.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),i&&E(F,i)}function M(F){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},M(F)}function E(F,i){return E=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},E(F,i)}function T(F,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(F)}function L(F){var i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,o=M(F);if(i){var c=M(this).constructor;r=Reflect.construct(o,arguments,c)}else r=o.apply(this,arguments);return T(this,r)}}function D(F,i){return function(r){if(Array.isArray(r))return r}(F)||function(r,o){var c=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(c!=null){var h,f,u=[],g=!0,x=!1;try{for(c=c.call(r);!(g=(h=c.next()).done)&&(u.push(h.value),!o||u.length!==o);g=!0);}catch(b){x=!0,f=b}finally{try{g||c.return==null||c.return()}finally{if(x)throw f}}return u}}(F,i)||z(F,i)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function N(F){return function(i){if(Array.isArray(i))return C(i)}(F)||function(i){if(typeof Symbol!="undefined"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(F)||z(F)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function z(F,i){if(F){if(typeof F=="string")return C(F,i);var r=Object.prototype.toString.call(F).slice(8,-1);return r==="Object"&&F.constructor&&(r=F.constructor.name),r==="Map"||r==="Set"?Array.from(F):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(F,i):void 0}}function C(F,i){(i==null||i>F.length)&&(i=F.length);for(var r=0,o=new Array(i);r<i;r++)o[r]=F[r];return o}var S=function(){function F(){l(this,F)}return p(F,[{key:"shadeRGBColor",value:function(i,r){var o=r.split(","),c=i<0?0:255,h=i<0?-1*i:i,f=parseInt(o[0].slice(4),10),u=parseInt(o[1],10),g=parseInt(o[2],10);return"rgb("+(Math.round((c-f)*h)+f)+","+(Math.round((c-u)*h)+u)+","+(Math.round((c-g)*h)+g)+")"}},{key:"shadeHexColor",value:function(i,r){var o=parseInt(r.slice(1),16),c=i<0?0:255,h=i<0?-1*i:i,f=o>>16,u=o>>8&255,g=255&o;return"#"+(16777216+65536*(Math.round((c-f)*h)+f)+256*(Math.round((c-u)*h)+u)+(Math.round((c-g)*h)+g)).toString(16).slice(1)}},{key:"shadeColor",value:function(i,r){return F.isColorHex(r)?this.shadeHexColor(i,r):this.shadeRGBColor(i,r)}}],[{key:"bind",value:function(i,r){return function(){return i.apply(r,arguments)}}},{key:"isObject",value:function(i){return i&&a(i)==="object"&&!Array.isArray(i)&&i!=null}},{key:"is",value:function(i,r){return Object.prototype.toString.call(r)==="[object "+i+"]"}},{key:"listToArray",value:function(i){var r,o=[];for(r=0;r<i.length;r++)o[r]=i[r];return o}},{key:"extend",value:function(i,r){var o=this;typeof Object.assign!="function"&&(Object.assign=function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(h),u=1;u<arguments.length;u++){var g=arguments[u];if(g!=null)for(var x in g)g.hasOwnProperty(x)&&(f[x]=g[x])}return f});var c=Object.assign({},i);return this.isObject(i)&&this.isObject(r)&&Object.keys(r).forEach(function(h){o.isObject(r[h])&&h in i?c[h]=o.extend(i[h],r[h]):Object.assign(c,v({},h,r[h]))}),c}},{key:"extendArray",value:function(i,r){var o=[];return i.map(function(c){o.push(F.extend(r,c))}),i=o}},{key:"monthMod",value:function(i){return i%12}},{key:"clone",value:function(i){if(F.is("Array",i)){for(var r=[],o=0;o<i.length;o++)r[o]=this.clone(i[o]);return r}if(F.is("Null",i))return null;if(F.is("Date",i))return i;if(a(i)==="object"){var c={};for(var h in i)i.hasOwnProperty(h)&&(c[h]=this.clone(i[h]));return c}return i}},{key:"log10",value:function(i){return Math.log(i)/Math.LN10}},{key:"roundToBase10",value:function(i){return Math.pow(10,Math.floor(Math.log10(i)))}},{key:"roundToBase",value:function(i,r){return Math.pow(r,Math.floor(Math.log(i)/Math.log(r)))}},{key:"parseNumber",value:function(i){return i===null?i:parseFloat(i)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(i){var r=String(i).split(/[eE]/);if(r.length===1)return r[0];var o="",c=i<0?"-":"",h=r[0].replace(".",""),f=Number(r[1])+1;if(f<0){for(o=c+"0.";f++;)o+="0";return o+h.replace(/^-/,"")}for(f-=h.length;f--;)o+="0";return h+o}},{key:"getDimensions",value:function(i){var r=getComputedStyle(i,null),o=i.clientHeight,c=i.clientWidth;return o-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),[c-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),o]}},{key:"getBoundingClientRect",value:function(i){var r=i.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:i.clientWidth,height:i.clientHeight,x:r.left,y:r.top}}},{key:"getLargestStringFromArr",value:function(i){return i.reduce(function(r,o){return Array.isArray(o)&&(o=o.reduce(function(c,h){return c.length>h.length?c:h})),r.length>o.length?r:o},0)}},{key:"hexToRgba",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;i.substring(0,1)!=="#"&&(i="#999999");var o=i.replace("#","");o=o.match(new RegExp("(.{"+o.length/3+"})","g"));for(var c=0;c<o.length;c++)o[c]=parseInt(o[c].length===1?o[c]+o[c]:o[c],16);return r!==void 0&&o.push(r),"rgba("+o.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(i){return parseFloat(i.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(i){return(i=i.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&i.length===4?"#"+("0"+parseInt(i[1],10).toString(16)).slice(-2)+("0"+parseInt(i[2],10).toString(16)).slice(-2)+("0"+parseInt(i[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(i)}},{key:"getPolygonPos",value:function(i,r){for(var o=[],c=2*Math.PI/r,h=0;h<r;h++){var f={};f.x=i*Math.sin(h*c),f.y=-i*Math.cos(h*c),o.push(f)}return o}},{key:"polarToCartesian",value:function(i,r,o,c){var h=(c-90)*Math.PI/180;return{x:i+o*Math.cos(h),y:r+o*Math.sin(h)}}},{key:"escapeString",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",o=i.toString().slice();return o=o.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,r)}},{key:"negToZero",value:function(i){return i<0?0:i}},{key:"moveIndexInArray",value:function(i,r,o){if(o>=i.length)for(var c=o-i.length+1;c--;)i.push(void 0);return i.splice(o,0,i.splice(r,1)[0]),i}},{key:"extractNumber",value:function(i){return parseFloat(i.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(i,r){for(;(i=i.parentElement)&&!i.classList.contains(r););return i}},{key:"setELstyles",value:function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i.style.key=r[o])}},{key:"isNumber",value:function(i){return!isNaN(i)&&parseFloat(Number(i))===i&&!isNaN(parseInt(i,10))}},{key:"isFloat",value:function(i){return Number(i)===i&&i%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var i=window.navigator.userAgent,r=i.indexOf("MSIE ");if(r>0)return parseInt(i.substring(r+5,i.indexOf(".",r)),10);if(i.indexOf("Trident/")>0){var o=i.indexOf("rv:");return parseInt(i.substring(o+3,i.indexOf(".",o)),10)}var c=i.indexOf("Edge/");return c>0&&parseInt(i.substring(c+5,i.indexOf(".",c)),10)}}]),F}(),G=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.setEasingFunctions()}return p(F,[{key:"setEasingFunctions",value:function(){var i;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":i="-";break;case"easein":i="<";break;case"easeout":i=">";break;case"easeinout":default:i="<>";break;case"swing":i=function(r){var o=1.70158;return(r-=1)*r*((o+1)*r+o)+1};break;case"bounce":i=function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375};break;case"elastic":i=function(r){return r===!!r?r:Math.pow(2,-10*r)*Math.sin((r-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=i}}},{key:"animateLine",value:function(i,r,o,c){i.attr(r).animate(c).attr(o)}},{key:"animateMarker",value:function(i,r,o,c,h,f){r||(r=0),i.attr({r,width:r,height:r}).animate(c,h).attr({r:o,width:o.width,height:o.height}).afterAll(function(){f()})}},{key:"animateCircle",value:function(i,r,o,c,h){i.attr({r:r.r,cx:r.cx,cy:r.cy}).animate(c,h).attr({r:o.r,cx:o.cx,cy:o.cy})}},{key:"animateRect",value:function(i,r,o,c,h){i.attr(r).animate(c).attr(o).afterAll(function(){return h()})}},{key:"animatePathsGradually",value:function(i){var r=i.el,o=i.realIndex,c=i.j,h=i.fill,f=i.pathFrom,u=i.pathTo,g=i.speed,x=i.delay,b=this.w,w=0;b.config.chart.animations.animateGradually.enabled&&(w=b.config.chart.animations.animateGradually.delay),b.config.chart.animations.dynamicAnimation.enabled&&b.globals.dataChanged&&b.config.chart.type!=="bar"&&(w=0),this.morphSVG(r,o,c,b.config.chart.type!=="line"||b.globals.comboCharts?h:"stroke",f,u,g,x*w)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(i){i.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(i){var r=this.w;r.globals.animationEnded||(r.globals.animationEnded=!0,this.showDelayedElements(),typeof r.config.chart.events.animationEnd=="function"&&r.config.chart.events.animationEnd(this.ctx,{el:i,w:r}))}},{key:"morphSVG",value:function(i,r,o,c,h,f,u,g){var x=this,b=this.w;h||(h=i.attr("pathFrom")),f||(f=i.attr("pathTo"));var w=function(_){return b.config.chart.type==="radar"&&(u=1),"M 0 ".concat(b.globals.gridHeight)};(!h||h.indexOf("undefined")>-1||h.indexOf("NaN")>-1)&&(h=w()),(!f||f.indexOf("undefined")>-1||f.indexOf("NaN")>-1)&&(f=w()),b.globals.shouldAnimate||(u=1),i.plot(h).animate(1,b.globals.easing,g).plot(h).animate(u,b.globals.easing,g).plot(f).afterAll(function(){S.isNumber(o)?o===b.globals.series[b.globals.maxValsInArrayIndex].length-2&&b.globals.shouldAnimate&&x.animationCompleted(i):c!=="none"&&b.globals.shouldAnimate&&(!b.globals.comboCharts&&r===b.globals.series.length-1||b.globals.comboCharts)&&x.animationCompleted(i),x.showDelayedElements()})}}]),F}(),W=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"getDefaultFilter",value:function(i,r){var o=this.w;i.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),o.config.states.normal.filter!=="none"?this.applyFilter(i,r,o.config.states.normal.filter.type,o.config.states.normal.filter.value):o.config.chart.dropShadow.enabled&&this.dropShadow(i,o.config.chart.dropShadow,r)}},{key:"addNormalFilter",value:function(i,r){var o=this.w;o.config.chart.dropShadow.enabled&&!i.node.classList.contains("apexcharts-marker")&&this.dropShadow(i,o.config.chart.dropShadow,r)}},{key:"addLightenFilter",value:function(i,r,o){var c=this,h=this.w,f=o.intensity;i.unfilter(!0),new window.SVG.Filter,i.filter(function(u){var g=h.config.chart.dropShadow;(g.enabled?c.addShadow(u,r,g):u).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:f}})}),i.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(i.filterer.node)}},{key:"addDarkenFilter",value:function(i,r,o){var c=this,h=this.w,f=o.intensity;i.unfilter(!0),new window.SVG.Filter,i.filter(function(u){var g=h.config.chart.dropShadow;(g.enabled?c.addShadow(u,r,g):u).componentTransfer({rgb:{type:"linear",slope:f}})}),i.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(i.filterer.node)}},{key:"applyFilter",value:function(i,r,o){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(o){case"none":this.addNormalFilter(i,r);break;case"lighten":this.addLightenFilter(i,r,{intensity:c});break;case"darken":this.addDarkenFilter(i,r,{intensity:c})}}},{key:"addShadow",value:function(i,r,o){var c=o.blur,h=o.top,f=o.left,u=o.color,g=o.opacity,x=i.flood(Array.isArray(u)?u[r]:u,g).composite(i.sourceAlpha,"in").offset(f,h).gaussianBlur(c).merge(i.source);return i.blend(i.source,x)}},{key:"dropShadow",value:function(i,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=r.top,h=r.left,f=r.blur,u=r.color,g=r.opacity,x=r.noUserSpaceOnUse,b=this.w;return i.unfilter(!0),S.isIE()&&b.config.chart.type==="radialBar"||(u=Array.isArray(u)?u[o]:u,i.filter(function(w){var _=null;_=S.isSafari()||S.isFirefox()||S.isIE()?w.flood(u,g).composite(w.sourceAlpha,"in").offset(h,c).gaussianBlur(f):w.flood(u,g).composite(w.sourceAlpha,"in").offset(h,c).gaussianBlur(f).merge(w.source),w.blend(w.source,_)}),x||i.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(i.filterer.node)),i}},{key:"setSelectionFilter",value:function(i,r,o){var c=this.w;if(c.globals.selectedDataPoints[r]!==void 0&&c.globals.selectedDataPoints[r].indexOf(o)>-1){i.node.setAttribute("selected",!0);var h=c.config.states.active.filter;h!=="none"&&this.applyFilter(i,r,h.type,h.value)}}},{key:"_scaleFilterSize",value:function(i){(function(r){for(var o in r)r.hasOwnProperty(o)&&i.setAttribute(o,r[o])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),F}(),H=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"roundPathCorners",value:function(i,r){function o(X,te,ee){var Se=te.x-X.x,_e=te.y-X.y,Le=Math.sqrt(Se*Se+_e*_e);return c(X,te,Math.min(1,ee/Le))}function c(X,te,ee){return{x:X.x+(te.x-X.x)*ee,y:X.y+(te.y-X.y)*ee}}function h(X,te){X.length>2&&(X[X.length-2]=te.x,X[X.length-1]=te.y)}function f(X){return{x:parseFloat(X[X.length-2]),y:parseFloat(X[X.length-1])}}var u=i.split(/[,\s]/).reduce(function(X,te){var ee=te.match("([a-zA-Z])(.+)");return ee?(X.push(ee[1]),X.push(ee[2])):X.push(te),X},[]).reduce(function(X,te){return parseFloat(te)==te&&X.length?X[X.length-1].push(te):X.push([te]),X},[]),g=[];if(u.length>1){var x=f(u[0]),b=null;u[u.length-1][0]=="Z"&&u[0].length>2&&(b=["L",x.x,x.y],u[u.length-1]=b),g.push(u[0]);for(var w=1;w<u.length;w++){var _=g[g.length-1],k=u[w],P=k==b?u[1]:u[w+1];if(P&&_&&_.length>2&&k[0]=="L"&&P.length>2&&P[0]=="L"){var R,B,V=f(_),j=f(k),U=f(P);R=o(j,V,r),B=o(j,U,r),h(k,R),k.origPoint=j,g.push(k);var m=c(R,j,.5),A=c(j,B,.5),I=["C",m.x,m.y,A.x,A.y,B.x,B.y];I.origPoint=j,g.push(I)}else g.push(k)}if(b){var O=f(g[g.length-1]);g.push(["Z"]),h(g[0],O)}}else g=u;return g.reduce(function(X,te){return X+te.join(" ")+" "},"")}},{key:"drawLine",value:function(i,r,o,c){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt",x=this.w,b=x.globals.dom.Paper.line().attr({x1:i,y1:r,x2:o,y2:c,stroke:h,"stroke-dasharray":f,"stroke-width":u,"stroke-linecap":g});return b}},{key:"drawRect",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,x=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,b=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,w=this.w,_=w.globals.dom.Paper.rect();return _.attr({x:i,y:r,width:o>0?o:0,height:c>0?c:0,rx:h,ry:h,opacity:u,"stroke-width":g!==null?g:0,stroke:x!==null?x:"none","stroke-dasharray":b}),_.node.setAttribute("fill",f),_}},{key:"drawPolygon",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",h=this.w,f=h.globals.dom.Paper.polygon(i).attr({fill:c,stroke:r,"stroke-width":o});return f}},{key:"drawCircle",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=this.w;i<0&&(i=0);var c=o.globals.dom.Paper.circle(2*i);return r!==null&&c.attr(r),c}},{key:"drawPath",value:function(i){var r=i.d,o=r===void 0?"":r,c=i.stroke,h=c===void 0?"#a8a8a8":c,f=i.strokeWidth,u=f===void 0?1:f,g=i.fill,x=i.fillOpacity,b=x===void 0?1:x,w=i.strokeOpacity,_=w===void 0?1:w,k=i.classes,P=i.strokeLinecap,R=P===void 0?null:P,B=i.strokeDashArray,V=B===void 0?0:B,j=this.w;return R===null&&(R=j.config.stroke.lineCap),(o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o="M 0 ".concat(j.globals.gridHeight)),j.globals.dom.Paper.path(o).attr({fill:g,"fill-opacity":b,stroke:h,"stroke-opacity":_,"stroke-linecap":R,"stroke-width":u,"stroke-dasharray":V,class:k})}},{key:"group",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.w,o=r.globals.dom.Paper.group();return i!==null&&o.attr(i),o}},{key:"move",value:function(i,r){var o=["M",i,r].join(" ");return o}},{key:"line",value:function(i,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=null;return o===null?c=[" L",i,r].join(" "):o==="H"?c=[" H",i].join(" "):o==="V"&&(c=[" V",r].join(" ")),c}},{key:"curve",value:function(i,r,o,c,h,f){var u=["C",i,r,o,c,h,f].join(" ");return u}},{key:"quadraticCurve",value:function(i,r,o,c){return["Q",i,r,o,c].join(" ")}},{key:"arc",value:function(i,r,o,c,h,f,u){var g=arguments.length>7&&arguments[7]!==void 0&&arguments[7],x="A";g&&(x="a");var b=[x,i,r,o,c,h,f,u].join(" ");return b}},{key:"renderPaths",value:function(i){var r,o=i.j,c=i.realIndex,h=i.pathFrom,f=i.pathTo,u=i.stroke,g=i.strokeWidth,x=i.strokeLinecap,b=i.fill,w=i.animationDelay,_=i.initialSpeed,k=i.dataChangeSpeed,P=i.className,R=i.shouldClipToGrid,B=R===void 0||R,V=i.bindEventsOnPaths,j=V===void 0||V,U=i.drawShadow,m=U===void 0||U,A=this.w,I=new W(this.ctx),O=new G(this.ctx),X=this.w.config.chart.animations.enabled,te=X&&this.w.config.chart.animations.dynamicAnimation.enabled,ee=!!(X&&!A.globals.resized||te&&A.globals.dataChanged&&A.globals.shouldAnimate);ee?r=h:(r=f,A.globals.animationEnded=!0);var Se=A.config.stroke.dashArray,_e=0;_e=Array.isArray(Se)?Se[c]:A.config.stroke.dashArray;var Le=this.drawPath({d:r,stroke:u,strokeWidth:g,fill:b,fillOpacity:1,classes:P,strokeLinecap:x,strokeDashArray:_e});if(Le.attr("index",c),B&&Le.attr({"clip-path":"url(#gridRectMask".concat(A.globals.cuid,")")}),A.config.states.normal.filter.type!=="none")I.getDefaultFilter(Le,c);else if(A.config.chart.dropShadow.enabled&&m&&(!A.config.chart.dropShadow.enabledOnSeries||A.config.chart.dropShadow.enabledOnSeries&&A.config.chart.dropShadow.enabledOnSeries.indexOf(c)!==-1)){var Oe=A.config.chart.dropShadow;I.dropShadow(Le,Oe,c)}j&&(Le.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Le)),Le.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Le)),Le.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Le))),Le.attr({pathTo:f,pathFrom:h});var St={el:Le,j:o,realIndex:c,pathFrom:h,pathTo:f,fill:b,strokeWidth:g,delay:w};return!X||A.globals.resized||A.globals.dataChanged?!A.globals.resized&&A.globals.dataChanged||O.showDelayedElements():O.animatePathsGradually(s(s({},St),{},{speed:_})),A.globals.dataChanged&&te&&ee&&O.animatePathsGradually(s(s({},St),{},{speed:k})),Le}},{key:"drawPattern",value:function(i,r,o){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,f=this.w,u=f.globals.dom.Paper.pattern(r,o,function(g){i==="horizontalLines"?g.line(0,0,o,0).stroke({color:c,width:h+1}):i==="verticalLines"?g.line(0,0,0,r).stroke({color:c,width:h+1}):i==="slantedLines"?g.line(0,0,r,o).stroke({color:c,width:h}):i==="squares"?g.rect(r,o).fill("none").stroke({color:c,width:h}):i==="circles"&&g.circle(r).fill("none").stroke({color:c,width:h})});return u}},{key:"drawGradient",value:function(i,r,o,c,h){var f,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,x=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,b=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,w=this.w;r.length<9&&r.indexOf("#")===0&&(r=S.hexToRgba(r,c)),o.length<9&&o.indexOf("#")===0&&(o=S.hexToRgba(o,h));var _=0,k=1,P=1,R=null;g!==null&&(_=g[0]!==void 0?g[0]/100:0,k=g[1]!==void 0?g[1]/100:1,P=g[2]!==void 0?g[2]/100:1,R=g[3]!==void 0?g[3]/100:null);var B=!(w.config.chart.type!=="donut"&&w.config.chart.type!=="pie"&&w.config.chart.type!=="polarArea"&&w.config.chart.type!=="bubble");if(f=x===null||x.length===0?w.globals.dom.Paper.gradient(B?"radial":"linear",function(U){U.at(_,r,c),U.at(k,o,h),U.at(P,o,h),R!==null&&U.at(R,r,c)}):w.globals.dom.Paper.gradient(B?"radial":"linear",function(U){(Array.isArray(x[b])?x[b]:x).forEach(function(m){U.at(m.offset/100,m.color,m.opacity)})}),B){var V=w.globals.gridWidth/2,j=w.globals.gridHeight/2;w.config.chart.type!=="bubble"?f.attr({gradientUnits:"userSpaceOnUse",cx:V,cy:j,r:u}):f.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else i==="vertical"?f.from(0,0).to(0,1):i==="diagonal"?f.from(0,0).to(1,1):i==="horizontal"?f.from(0,1).to(1,1):i==="diagonal2"&&f.from(1,0).to(0,1);return f}},{key:"getTextBasedOnMaxWidth",value:function(i){var r=i.text,o=i.maxWidth,c=i.fontSize,h=i.fontFamily,f=this.getTextRects(r,c,h),u=f.width/r.length,g=Math.floor(o/u);return o<f.width?r.slice(0,g-3)+"...":r}},{key:"drawText",value:function(i){var r=this,o=i.x,c=i.y,h=i.text,f=i.textAnchor,u=i.fontSize,g=i.fontFamily,x=i.fontWeight,b=i.foreColor,w=i.opacity,_=i.maxWidth,k=i.cssClass,P=k===void 0?"":k,R=i.isPlainText,B=R===void 0||R,V=this.w;h===void 0&&(h="");var j=h;f||(f="start"),b&&b.length||(b=V.config.chart.foreColor),g=g||V.config.chart.fontFamily,x=x||"regular";var U,m={maxWidth:_,fontSize:u=u||"11px",fontFamily:g};return Array.isArray(h)?U=V.globals.dom.Paper.text(function(A){for(var I=0;I<h.length;I++)j=h[I],_&&(j=r.getTextBasedOnMaxWidth(s({text:h[I]},m))),I===0?A.tspan(j):A.tspan(j).newLine()}):(_&&(j=this.getTextBasedOnMaxWidth(s({text:h},m))),U=B?V.globals.dom.Paper.plain(h):V.globals.dom.Paper.text(function(A){return A.tspan(j)})),U.attr({x:o,y:c,"text-anchor":f,"dominant-baseline":"auto","font-size":u,"font-family":g,"font-weight":x,fill:b,class:"apexcharts-text "+P}),U.node.style.fontFamily=g,U.node.style.opacity=w,U}},{key:"drawMarker",value:function(i,r,o){i=i||0;var c=o.pSize||0,h=null;if(o.shape==="square"||o.shape==="rect"){var f=o.pRadius===void 0?c/2:o.pRadius;r!==null&&c||(c=0,f=0);var u=1.2*c+f,g=this.drawRect(u,u,u,u,f);g.attr({x:i-u/2,y:r-u/2,cx:i,cy:r,class:o.class?o.class:"",fill:o.pointFillColor,"fill-opacity":o.pointFillOpacity?o.pointFillOpacity:1,stroke:o.pointStrokeColor,"stroke-width":o.pointStrokeWidth?o.pointStrokeWidth:0,"stroke-opacity":o.pointStrokeOpacity?o.pointStrokeOpacity:1}),h=g}else o.shape!=="circle"&&o.shape||(S.isNumber(r)||(c=0,r=0),h=this.drawCircle(c,{cx:i,cy:r,class:o.class?o.class:"",stroke:o.pointStrokeColor,fill:o.pointFillColor,"fill-opacity":o.pointFillOpacity?o.pointFillOpacity:1,"stroke-width":o.pointStrokeWidth?o.pointStrokeWidth:0,"stroke-opacity":o.pointStrokeOpacity?o.pointStrokeOpacity:1}));return h}},{key:"pathMouseEnter",value:function(i,r){var o=this.w,c=new W(this.ctx),h=parseInt(i.node.getAttribute("index"),10),f=parseInt(i.node.getAttribute("j"),10);if(typeof o.config.chart.events.dataPointMouseEnter=="function"&&o.config.chart.events.dataPointMouseEnter(r,this.ctx,{seriesIndex:h,dataPointIndex:f,w:o}),this.ctx.events.fireEvent("dataPointMouseEnter",[r,this.ctx,{seriesIndex:h,dataPointIndex:f,w:o}]),(o.config.states.active.filter.type==="none"||i.node.getAttribute("selected")!=="true")&&o.config.states.hover.filter.type!=="none"&&!o.globals.isTouchDevice){var u=o.config.states.hover.filter;c.applyFilter(i,h,u.type,u.value)}}},{key:"pathMouseLeave",value:function(i,r){var o=this.w,c=new W(this.ctx),h=parseInt(i.node.getAttribute("index"),10),f=parseInt(i.node.getAttribute("j"),10);typeof o.config.chart.events.dataPointMouseLeave=="function"&&o.config.chart.events.dataPointMouseLeave(r,this.ctx,{seriesIndex:h,dataPointIndex:f,w:o}),this.ctx.events.fireEvent("dataPointMouseLeave",[r,this.ctx,{seriesIndex:h,dataPointIndex:f,w:o}]),o.config.states.active.filter.type!=="none"&&i.node.getAttribute("selected")==="true"||o.config.states.hover.filter.type!=="none"&&c.getDefaultFilter(i,h)}},{key:"pathMouseDown",value:function(i,r){var o=this.w,c=new W(this.ctx),h=parseInt(i.node.getAttribute("index"),10),f=parseInt(i.node.getAttribute("j"),10),u="false";if(i.node.getAttribute("selected")==="true"){if(i.node.setAttribute("selected","false"),o.globals.selectedDataPoints[h].indexOf(f)>-1){var g=o.globals.selectedDataPoints[h].indexOf(f);o.globals.selectedDataPoints[h].splice(g,1)}}else{if(!o.config.states.active.allowMultipleDataPointsSelection&&o.globals.selectedDataPoints.length>0){o.globals.selectedDataPoints=[];var x=o.globals.dom.Paper.select(".apexcharts-series path").members,b=o.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,w=function(P){Array.prototype.forEach.call(P,function(R){R.node.setAttribute("selected","false"),c.getDefaultFilter(R,h)})};w(x),w(b)}i.node.setAttribute("selected","true"),u="true",o.globals.selectedDataPoints[h]===void 0&&(o.globals.selectedDataPoints[h]=[]),o.globals.selectedDataPoints[h].push(f)}if(u==="true"){var _=o.config.states.active.filter;if(_!=="none")c.applyFilter(i,h,_.type,_.value);else if(o.config.states.hover.filter!=="none"&&!o.globals.isTouchDevice){var k=o.config.states.hover.filter;c.applyFilter(i,h,k.type,k.value)}}else o.config.states.active.filter.type!=="none"&&(o.config.states.hover.filter.type==="none"||o.globals.isTouchDevice?c.getDefaultFilter(i,h):(k=o.config.states.hover.filter,c.applyFilter(i,h,k.type,k.value)));typeof o.config.chart.events.dataPointSelection=="function"&&o.config.chart.events.dataPointSelection(r,this.ctx,{selectedDataPoints:o.globals.selectedDataPoints,seriesIndex:h,dataPointIndex:f,w:o}),r&&this.ctx.events.fireEvent("dataPointSelection",[r,this.ctx,{selectedDataPoints:o.globals.selectedDataPoints,seriesIndex:h,dataPointIndex:f,w:o}])}},{key:"rotateAroundCenter",value:function(i){var r={};return i&&typeof i.getBBox=="function"&&(r=i.getBBox()),{x:r.x+r.width/2,y:r.y+r.height/2}}},{key:"getTextRects",value:function(i,r,o,c){var h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],f=this.w,u=this.drawText({x:-200,y:-200,text:i,textAnchor:"start",fontSize:r,fontFamily:o,foreColor:"#fff",opacity:0});c&&u.attr("transform",c),f.globals.dom.Paper.add(u);var g=u.bbox();return h||(g=u.node.getBoundingClientRect()),u.remove(),{width:g.width,height:g.height}}},{key:"placeTextWithEllipsis",value:function(i,r,o){if(typeof i.getComputedTextLength=="function"&&(i.textContent=r,r.length>0&&i.getComputedTextLength()>=o/1.1)){for(var c=r.length-3;c>0;c-=3)if(i.getSubStringLength(0,c)<=o/1.1)return void(i.textContent=r.substring(0,c)+"...");i.textContent="."}}}],[{key:"setAttrs",value:function(i,r){for(var o in r)r.hasOwnProperty(o)&&i.setAttribute(o,r[o])}}]),F}(),$=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"getStackedSeriesTotals",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=this.w,o=[];if(r.globals.series.length===0)return o;for(var c=0;c<r.globals.series[r.globals.maxValsInArrayIndex].length;c++){for(var h=0,f=0;f<r.globals.series.length;f++)r.globals.series[f][c]!==void 0&&i.indexOf(f)===-1&&(h+=r.globals.series[f][c]);o.push(h)}return o}},{key:"getSeriesTotalByIndex",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return i===null?this.w.config.series.reduce(function(r,o){return r+o},0):this.w.globals.series[i].reduce(function(r,o){return r+o},0)}},{key:"isSeriesNull",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(i===null?this.w.config.series.filter(function(r){return r!==null}):this.w.config.series[i].data.filter(function(r){return r!==null})).length===0}},{key:"seriesHaveSameValues",value:function(i){return this.w.globals.series[i].every(function(r,o,c){return r===c[0]})}},{key:"getCategoryLabels",value:function(i){var r=this.w,o=i.slice();return r.config.xaxis.convertedCatToNumeric&&(o=i.map(function(c,h){return r.config.xaxis.labels.formatter(c-r.globals.minX+1)})),o}},{key:"getLargestSeries",value:function(){var i=this.w;i.globals.maxValsInArrayIndex=i.globals.series.map(function(r){return r.length}).indexOf(Math.max.apply(Math,i.globals.series.map(function(r){return r.length})))}},{key:"getLargestMarkerSize",value:function(){var i=this.w,r=0;return i.globals.markers.size.forEach(function(o){r=Math.max(r,o)}),i.config.markers.discrete&&i.config.markers.discrete.length&&i.config.markers.discrete.forEach(function(o){r=Math.max(r,o.size)}),r>0&&(r+=i.config.markers.hover.sizeOffset+1),i.globals.markers.largestSize=r,r}},{key:"getSeriesTotals",value:function(){var i=this.w;i.globals.seriesTotals=i.globals.series.map(function(r,o){var c=0;if(Array.isArray(r))for(var h=0;h<r.length;h++)c+=r[h];else c+=r;return c})}},{key:"getSeriesTotalsXRange",value:function(i,r){var o=this.w;return o.globals.series.map(function(c,h){for(var f=0,u=0;u<c.length;u++)o.globals.seriesX[h][u]>i&&o.globals.seriesX[h][u]<r&&(f+=c[u]);return f})}},{key:"getPercentSeries",value:function(){var i=this.w;i.globals.seriesPercent=i.globals.series.map(function(r,o){var c=[];if(Array.isArray(r))for(var h=0;h<r.length;h++){var f=i.globals.stackedSeriesTotals[h],u=0;f&&(u=100*r[h]/f),c.push(u)}else{var g=100*r/i.globals.seriesTotals.reduce(function(x,b){return x+b},0);c.push(g)}return c})}},{key:"getCalculatedRatios",value:function(){var i,r,o,c,h=this.w.globals,f=[],u=0,g=[],x=.1,b=0;if(h.yRange=[],h.isMultipleYAxis)for(var w=0;w<h.minYArr.length;w++)h.yRange.push(Math.abs(h.minYArr[w]-h.maxYArr[w])),g.push(0);else h.yRange.push(Math.abs(h.minY-h.maxY));h.xRange=Math.abs(h.maxX-h.minX),h.zRange=Math.abs(h.maxZ-h.minZ);for(var _=0;_<h.yRange.length;_++)f.push(h.yRange[_]/h.gridHeight);if(r=h.xRange/h.gridWidth,o=Math.abs(h.initialMaxX-h.initialMinX)/h.gridWidth,i=h.yRange/h.gridWidth,c=h.xRange/h.gridHeight,(u=h.zRange/h.gridHeight*16)||(u=1),h.minY!==Number.MIN_VALUE&&Math.abs(h.minY)!==0&&(h.hasNegs=!0),h.isMultipleYAxis){g=[];for(var k=0;k<f.length;k++)g.push(-h.minYArr[k]/f[k])}else g.push(-h.minY/f[0]),h.minY!==Number.MIN_VALUE&&Math.abs(h.minY)!==0&&(x=-h.minY/i,b=h.minX/r);return{yRatio:f,invertedYRatio:i,zRatio:u,xRatio:r,initialXRatio:o,invertedXRatio:c,baseLineInvertedY:x,baseLineY:g,baseLineX:b}}},{key:"getLogSeries",value:function(i){var r=this,o=this.w;return o.globals.seriesLog=i.map(function(c,h){return o.config.yaxis[h]&&o.config.yaxis[h].logarithmic?c.map(function(f){return f===null?null:r.getLogVal(o.config.yaxis[h].logBase,f,h)}):c}),o.globals.invalidLogScale?i:o.globals.seriesLog}},{key:"getBaseLog",value:function(i,r){return Math.log(r)/Math.log(i)}},{key:"getLogVal",value:function(i,r,o){if(r===0)return 0;var c=this.w,h=c.globals.minYArr[o]===0?-1:this.getBaseLog(i,c.globals.minYArr[o]),f=(c.globals.maxYArr[o]===0?0:this.getBaseLog(i,c.globals.maxYArr[o]))-h;return r<1?r/f:(this.getBaseLog(i,r)-h)/f}},{key:"getLogYRatios",value:function(i){var r=this,o=this.w,c=this.w.globals;return c.yLogRatio=i.slice(),c.logYRange=c.yRange.map(function(h,f){if(o.config.yaxis[f]&&r.w.config.yaxis[f].logarithmic){var u,g=-Number.MAX_VALUE,x=Number.MIN_VALUE;return c.seriesLog.forEach(function(b,w){b.forEach(function(_){o.config.yaxis[w]&&o.config.yaxis[w].logarithmic&&(g=Math.max(_,g),x=Math.min(_,x))})}),u=Math.pow(c.yRange[f],Math.abs(x-g)/c.yRange[f]),c.yLogRatio[f]=u/c.gridHeight,u}}),c.invalidLogScale?i.slice():c.yLogRatio}}],[{key:"checkComboSeries",value:function(i){var r=!1,o=0,c=0;return i.length&&i[0].type!==void 0&&i.forEach(function(h){h.type!=="bar"&&h.type!=="column"&&h.type!=="candlestick"&&h.type!=="boxPlot"||o++,h.type!==void 0&&c++}),c>0&&(r=!0),{comboBarCount:o,comboCharts:r}}},{key:"extendArrayProps",value:function(i,r,o){return r.yaxis&&(r=i.extendYAxis(r,o)),r.annotations&&(r.annotations.yaxis&&(r=i.extendYAxisAnnotations(r)),r.annotations.xaxis&&(r=i.extendXAxisAnnotations(r)),r.annotations.points&&(r=i.extendPointAnnotations(r))),r}}]),F}(),K=function(){function F(i){l(this,F),this.w=i.w,this.annoCtx=i}return p(F,[{key:"setOrientations",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=this.w;if(i.label.orientation==="vertical"){var c=r!==null?r:0,h=o.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(c,"']"));if(h!==null){var f=h.getBoundingClientRect();h.setAttribute("x",parseFloat(h.getAttribute("x"))-f.height+4),i.label.position==="top"?h.setAttribute("y",parseFloat(h.getAttribute("y"))+f.width):h.setAttribute("y",parseFloat(h.getAttribute("y"))-f.width);var u=this.annoCtx.graphics.rotateAroundCenter(h),g=u.x,x=u.y;h.setAttribute("transform","rotate(-90 ".concat(g," ").concat(x,")"))}}}},{key:"addBackgroundToAnno",value:function(i,r){var o=this.w;if(!i||r.label.text===void 0||r.label.text!==void 0&&!String(r.label.text).trim())return null;var c=o.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),h=i.getBoundingClientRect(),f=r.label.style.padding.left,u=r.label.style.padding.right,g=r.label.style.padding.top,x=r.label.style.padding.bottom;r.label.orientation==="vertical"&&(g=r.label.style.padding.left,x=r.label.style.padding.right,f=r.label.style.padding.top,u=r.label.style.padding.bottom);var b=h.left-c.left-f,w=h.top-c.top-g,_=this.annoCtx.graphics.drawRect(b-o.globals.barPadForNumericAxis,w,h.width+f+u,h.height+g+x,r.label.borderRadius,r.label.style.background,1,r.label.borderWidth,r.label.borderColor,0);return r.id&&_.node.classList.add(r.id),_}},{key:"annotationsBackground",value:function(){var i=this,r=this.w,o=function(c,h,f){var u=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(f,"-annotations .apexcharts-").concat(f,"-annotation-label[rel='").concat(h,"']"));if(u){var g=u.parentNode,x=i.addBackgroundToAnno(u,c);x&&(g.insertBefore(x.node,u),c.label.mouseEnter&&x.node.addEventListener("mouseenter",c.label.mouseEnter.bind(i,c)),c.label.mouseLeave&&x.node.addEventListener("mouseleave",c.label.mouseLeave.bind(i,c)),c.label.click&&x.node.addEventListener("click",c.label.click.bind(i,c)))}};r.config.annotations.xaxis.map(function(c,h){o(c,h,"xaxis")}),r.config.annotations.yaxis.map(function(c,h){o(c,h,"yaxis")}),r.config.annotations.points.map(function(c,h){o(c,h,"point")})}},{key:"getY1Y2",value:function(i,r){var o,c=i==="y1"?r.y:r.y2,h=this.w;if(this.annoCtx.invertAxis){var f=h.globals.labels.indexOf(c);h.config.xaxis.convertedCatToNumeric&&(f=h.globals.categoryLabels.indexOf(c));var u=h.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(f+1)+")");u&&(o=parseFloat(u.getAttribute("y")))}else{var g;h.config.yaxis[r.yAxisIndex].logarithmic?g=(c=new $(this.annoCtx.ctx).getLogVal(c,r.yAxisIndex))/h.globals.yLogRatio[r.yAxisIndex]:g=(c-h.globals.minYArr[r.yAxisIndex])/(h.globals.yRange[r.yAxisIndex]/h.globals.gridHeight),o=h.globals.gridHeight-g,!r.marker||r.y!==void 0&&r.y!==null||(o=0),h.config.yaxis[r.yAxisIndex]&&h.config.yaxis[r.yAxisIndex].reversed&&(o=g)}return typeof c=="string"&&c.indexOf("px")>-1&&(o=parseFloat(c)),o}},{key:"getX1X2",value:function(i,r){var o=this.w,c=this.annoCtx.invertAxis?o.globals.minY:o.globals.minX,h=this.annoCtx.invertAxis?o.globals.maxY:o.globals.maxX,f=this.annoCtx.invertAxis?o.globals.yRange[0]:o.globals.xRange,u=(r.x-c)/(f/o.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(u=(h-r.x)/(f/o.globals.gridWidth)),o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||o.globals.dataFormatXNumeric||(u=this.getStringX(r.x));var g=(r.x2-c)/(f/o.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(g=(h-r.x2)/(f/o.globals.gridWidth)),o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||o.globals.dataFormatXNumeric||(g=this.getStringX(r.x2)),r.x!==void 0&&r.x!==null||!r.marker||(u=o.globals.gridWidth),i==="x1"&&typeof r.x=="string"&&r.x.indexOf("px")>-1&&(u=parseFloat(r.x)),i==="x2"&&typeof r.x2=="string"&&r.x2.indexOf("px")>-1&&(g=parseFloat(r.x2)),i==="x1"?u:g}},{key:"getStringX",value:function(i){var r=this.w,o=i;r.config.xaxis.convertedCatToNumeric&&r.globals.categoryLabels.length&&(i=r.globals.categoryLabels.indexOf(i)+1);var c=r.globals.labels.indexOf(i),h=r.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(c+1)+")");return h&&(o=parseFloat(h.getAttribute("x"))),o}}]),F}(),le=function(){function F(i){l(this,F),this.w=i.w,this.annoCtx=i,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new K(this.annoCtx)}return p(F,[{key:"addXaxisAnnotation",value:function(i,r,o){var c,h=this.w,f=this.helpers.getX1X2("x1",i),u=i.label.text,g=i.strokeDashArray;if(S.isNumber(f)){if(i.x2===null||i.x2===void 0){var x=this.annoCtx.graphics.drawLine(f+i.offsetX,0+i.offsetY,f+i.offsetX,h.globals.gridHeight+i.offsetY,i.borderColor,g,i.borderWidth);r.appendChild(x.node),i.id&&x.node.classList.add(i.id)}else{if((c=this.helpers.getX1X2("x2",i))<f){var b=f;f=c,c=b}var w=this.annoCtx.graphics.drawRect(f+i.offsetX,0+i.offsetY,c-f,h.globals.gridHeight+i.offsetY,0,i.fillColor,i.opacity,1,i.borderColor,g);w.node.classList.add("apexcharts-annotation-rect"),w.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),r.appendChild(w.node),i.id&&w.node.classList.add(i.id)}var _=this.annoCtx.graphics.getTextRects(u,parseFloat(i.label.style.fontSize)),k=i.label.position==="top"?4:i.label.position==="center"?h.globals.gridHeight/2+(i.label.orientation==="vertical"?_.width/2:0):h.globals.gridHeight,P=this.annoCtx.graphics.drawText({x:f+i.label.offsetX,y:k+i.label.offsetY-(i.label.orientation==="vertical"?i.label.position==="top"?_.width/2-12:-_.width/2:0),text:u,textAnchor:i.label.textAnchor,fontSize:i.label.style.fontSize,fontFamily:i.label.style.fontFamily,fontWeight:i.label.style.fontWeight,foreColor:i.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(i.label.style.cssClass," ").concat(i.id?i.id:"")});P.attr({rel:o}),r.appendChild(P.node),this.annoCtx.helpers.setOrientations(i,o)}}},{key:"drawXAxisAnnotations",value:function(){var i=this,r=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return r.config.annotations.xaxis.map(function(c,h){i.addXaxisAnnotation(c,o.node,h)}),o}}]),F}(),ge=function(){function F(i){l(this,F),this.w=i.w,this.annoCtx=i,this.helpers=new K(this.annoCtx)}return p(F,[{key:"addYaxisAnnotation",value:function(i,r,o){var c,h=this.w,f=i.strokeDashArray,u=this.helpers.getY1Y2("y1",i),g=i.label.text;if(i.y2===null||i.y2===void 0){var x=this.annoCtx.graphics.drawLine(0+i.offsetX,u+i.offsetY,this._getYAxisAnnotationWidth(i),u+i.offsetY,i.borderColor,f,i.borderWidth);r.appendChild(x.node),i.id&&x.node.classList.add(i.id)}else{if((c=this.helpers.getY1Y2("y2",i))>u){var b=u;u=c,c=b}var w=this.annoCtx.graphics.drawRect(0+i.offsetX,c+i.offsetY,this._getYAxisAnnotationWidth(i),u-c,0,i.fillColor,i.opacity,1,i.borderColor,f);w.node.classList.add("apexcharts-annotation-rect"),w.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),r.appendChild(w.node),i.id&&w.node.classList.add(i.id)}var _=i.label.position==="right"?h.globals.gridWidth:i.label.position==="center"?h.globals.gridWidth/2:0,k=this.annoCtx.graphics.drawText({x:_+i.label.offsetX,y:(c!=null?c:u)+i.label.offsetY-3,text:g,textAnchor:i.label.textAnchor,fontSize:i.label.style.fontSize,fontFamily:i.label.style.fontFamily,fontWeight:i.label.style.fontWeight,foreColor:i.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(i.label.style.cssClass," ").concat(i.id?i.id:"")});k.attr({rel:o}),r.appendChild(k.node)}},{key:"_getYAxisAnnotationWidth",value:function(i){var r=this.w;return r.globals.gridWidth,(i.width.indexOf("%")>-1?r.globals.gridWidth*parseInt(i.width,10)/100:parseInt(i.width,10))+i.offsetX}},{key:"drawYAxisAnnotations",value:function(){var i=this,r=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return r.config.annotations.yaxis.map(function(c,h){i.addYaxisAnnotation(c,o.node,h)}),o}}]),F}(),me=function(){function F(i){l(this,F),this.w=i.w,this.annoCtx=i,this.helpers=new K(this.annoCtx)}return p(F,[{key:"addPointAnnotation",value:function(i,r,o){this.w;var c=this.helpers.getX1X2("x1",i),h=this.helpers.getY1Y2("y1",i);if(S.isNumber(c)){var f={pSize:i.marker.size,pointStrokeWidth:i.marker.strokeWidth,pointFillColor:i.marker.fillColor,pointStrokeColor:i.marker.strokeColor,shape:i.marker.shape,pRadius:i.marker.radius,class:"apexcharts-point-annotation-marker ".concat(i.marker.cssClass," ").concat(i.id?i.id:"")},u=this.annoCtx.graphics.drawMarker(c+i.marker.offsetX,h+i.marker.offsetY,f);r.appendChild(u.node);var g=i.label.text?i.label.text:"",x=this.annoCtx.graphics.drawText({x:c+i.label.offsetX,y:h+i.label.offsetY-i.marker.size-parseFloat(i.label.style.fontSize)/1.6,text:g,textAnchor:i.label.textAnchor,fontSize:i.label.style.fontSize,fontFamily:i.label.style.fontFamily,fontWeight:i.label.style.fontWeight,foreColor:i.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(i.label.style.cssClass," ").concat(i.id?i.id:"")});if(x.attr({rel:o}),r.appendChild(x.node),i.customSVG.SVG){var b=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+i.customSVG.cssClass});b.attr({transform:"translate(".concat(c+i.customSVG.offsetX,", ").concat(h+i.customSVG.offsetY,")")}),b.node.innerHTML=i.customSVG.SVG,r.appendChild(b.node)}if(i.image.path){var w=i.image.width?i.image.width:20,_=i.image.height?i.image.height:20;u=this.annoCtx.addImage({x:c+i.image.offsetX-w/2,y:h+i.image.offsetY-_/2,width:w,height:_,path:i.image.path,appendTo:".apexcharts-point-annotations"})}i.mouseEnter&&u.node.addEventListener("mouseenter",i.mouseEnter.bind(this,i)),i.mouseLeave&&u.node.addEventListener("mouseleave",i.mouseLeave.bind(this,i)),i.click&&u.node.addEventListener("click",i.click.bind(this,i))}}},{key:"drawPointAnnotations",value:function(){var i=this,r=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return r.config.annotations.points.map(function(c,h){i.addPointAnnotation(c,o.node,h)}),o}}]),F}(),Y={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},re=function(){function F(){l(this,F),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return p(F,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Y],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(i){return new Date(i).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(i){return i}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(i){return i+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(i){return i.globals.seriesTotals.reduce(function(r,o){return r+o},0)/i.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(i){return i}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(i){return i}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(i){return i.globals.seriesTotals.reduce(function(r,o){return r+o},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(i){return i!==null?i:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(i){return i?i+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),F}(),se=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.graphics=new H(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new K(this),this.xAxisAnnotations=new le(this),this.yAxisAnnotations=new ge(this),this.pointsAnnotations=new me(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return p(F,[{key:"drawAxesAnnotations",value:function(){var i=this.w;if(i.globals.axisCharts){for(var r=this.yAxisAnnotations.drawYAxisAnnotations(),o=this.xAxisAnnotations.drawXAxisAnnotations(),c=this.pointsAnnotations.drawPointAnnotations(),h=i.config.chart.animations.enabled,f=[r,o,c],u=[o.node,r.node,c.node],g=0;g<3;g++)i.globals.dom.elGraphical.add(f[g]),!h||i.globals.resized||i.globals.dataChanged||i.config.chart.type!=="scatter"&&i.config.chart.type!=="bubble"&&i.globals.dataPoints>1&&u[g].classList.add("apexcharts-element-hidden"),i.globals.delayedElements.push({el:u[g],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var i=this;this.w.config.annotations.images.map(function(r,o){i.addImage(r,o)})}},{key:"drawTextAnnos",value:function(){var i=this;this.w.config.annotations.texts.map(function(r,o){i.addText(r,o)})}},{key:"addXaxisAnnotation",value:function(i,r,o){this.xAxisAnnotations.addXaxisAnnotation(i,r,o)}},{key:"addYaxisAnnotation",value:function(i,r,o){this.yAxisAnnotations.addYaxisAnnotation(i,r,o)}},{key:"addPointAnnotation",value:function(i,r,o){this.pointsAnnotations.addPointAnnotation(i,r,o)}},{key:"addText",value:function(i,r){var o=i.x,c=i.y,h=i.text,f=i.textAnchor,u=i.foreColor,g=i.fontSize,x=i.fontFamily,b=i.fontWeight,w=i.cssClass,_=i.backgroundColor,k=i.borderWidth,P=i.strokeDashArray,R=i.borderRadius,B=i.borderColor,V=i.appendTo,j=V===void 0?".apexcharts-annotations":V,U=i.paddingLeft,m=U===void 0?4:U,A=i.paddingRight,I=A===void 0?4:A,O=i.paddingBottom,X=O===void 0?2:O,te=i.paddingTop,ee=te===void 0?2:te,Se=this.w,_e=this.graphics.drawText({x:o,y:c,text:h,textAnchor:f||"start",fontSize:g||"12px",fontWeight:b||"regular",fontFamily:x||Se.config.chart.fontFamily,foreColor:u||Se.config.chart.foreColor,cssClass:w}),Le=Se.globals.dom.baseEl.querySelector(j);Le&&Le.appendChild(_e.node);var Oe=_e.bbox();if(h){var St=this.graphics.drawRect(Oe.x-m,Oe.y-ee,Oe.width+m+I,Oe.height+X+ee,R,_||"transparent",1,k,B,P);Le.insertBefore(St.node,_e.node)}}},{key:"addImage",value:function(i,r){var o=this.w,c=i.path,h=i.x,f=h===void 0?0:h,u=i.y,g=u===void 0?0:u,x=i.width,b=x===void 0?20:x,w=i.height,_=w===void 0?20:w,k=i.appendTo,P=k===void 0?".apexcharts-annotations":k,R=o.globals.dom.Paper.image(c);R.size(b,_).move(f,g);var B=o.globals.dom.baseEl.querySelector(P);return B&&B.appendChild(R.node),R}},{key:"addXaxisAnnotationExternal",value:function(i,r,o){return this.addAnnotationExternal({params:i,pushToMemory:r,context:o,type:"xaxis",contextMethod:o.addXaxisAnnotation}),o}},{key:"addYaxisAnnotationExternal",value:function(i,r,o){return this.addAnnotationExternal({params:i,pushToMemory:r,context:o,type:"yaxis",contextMethod:o.addYaxisAnnotation}),o}},{key:"addPointAnnotationExternal",value:function(i,r,o){return this.invertAxis===void 0&&(this.invertAxis=o.w.globals.isBarHorizontal),this.addAnnotationExternal({params:i,pushToMemory:r,context:o,type:"point",contextMethod:o.addPointAnnotation}),o}},{key:"addAnnotationExternal",value:function(i){var r=i.params,o=i.pushToMemory,c=i.context,h=i.type,f=i.contextMethod,u=c,g=u.w,x=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations")),b=x.childNodes.length+1,w=new re,_=Object.assign({},h==="xaxis"?w.xAxisAnnotation:h==="yaxis"?w.yAxisAnnotation:w.pointAnnotation),k=S.extend(_,r);switch(h){case"xaxis":this.addXaxisAnnotation(k,x,b);break;case"yaxis":this.addYaxisAnnotation(k,x,b);break;case"point":this.addPointAnnotation(k,x,b)}var P=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations .apexcharts-").concat(h,"-annotation-label[rel='").concat(b,"']")),R=this.helpers.addBackgroundToAnno(P,k);return R&&x.insertBefore(R.node,P),o&&g.globals.memory.methodsToExec.push({context:u,id:k.id?k.id:S.randomId(),method:f,label:"addAnnotation",params:r}),c}},{key:"clearAnnotations",value:function(i){var r=i.w,o=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");r.globals.memory.methodsToExec.map(function(c,h){c.label!=="addText"&&c.label!=="addAnnotation"||r.globals.memory.methodsToExec.splice(h,1)}),o=S.listToArray(o),Array.prototype.forEach.call(o,function(c){for(;c.firstChild;)c.removeChild(c.firstChild)})}},{key:"removeAnnotation",value:function(i,r){var o=i.w,c=o.globals.dom.baseEl.querySelectorAll(".".concat(r));c&&(o.globals.memory.methodsToExec.map(function(h,f){h.id===r&&o.globals.memory.methodsToExec.splice(f,1)}),Array.prototype.forEach.call(c,function(h){h.parentElement.removeChild(h)}))}}]),F}(),ae=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return p(F,[{key:"isValidDate",value:function(i){return!isNaN(this.parseDate(i))}},{key:"getTimeStamp",value:function(i){return Date.parse(i)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(i).toISOString().substr(0,25)).getTime():new Date(i).getTime():i}},{key:"getDate",value:function(i){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(i).toUTCString()):new Date(i)}},{key:"parseDate",value:function(i){var r=Date.parse(i);if(!isNaN(r))return this.getTimeStamp(i);var o=Date.parse(i.replace(/-/g,"/").replace(/[a-z]+/gi," "));return o=this.getTimeStamp(o)}},{key:"parseDateWithTimezone",value:function(i){return Date.parse(i.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(i,r){var o=this.w.globals.locale,c=this.w.config.xaxis.labels.datetimeUTC,h=["\0"].concat(N(o.months)),f=[""].concat(N(o.shortMonths)),u=[""].concat(N(o.days)),g=[""].concat(N(o.shortDays));function x(X,te){var ee=X+"";for(te=te||2;ee.length<te;)ee="0"+ee;return ee}var b=c?i.getUTCFullYear():i.getFullYear();r=(r=(r=r.replace(/(^|[^\\])yyyy+/g,"$1"+b)).replace(/(^|[^\\])yy/g,"$1"+b.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+b);var w=(c?i.getUTCMonth():i.getMonth())+1;r=(r=(r=(r=r.replace(/(^|[^\\])MMMM+/g,"$1"+h[0])).replace(/(^|[^\\])MMM/g,"$1"+f[0])).replace(/(^|[^\\])MM/g,"$1"+x(w))).replace(/(^|[^\\])M/g,"$1"+w);var _=c?i.getUTCDate():i.getDate();r=(r=(r=(r=r.replace(/(^|[^\\])dddd+/g,"$1"+u[0])).replace(/(^|[^\\])ddd/g,"$1"+g[0])).replace(/(^|[^\\])dd/g,"$1"+x(_))).replace(/(^|[^\\])d/g,"$1"+_);var k=c?i.getUTCHours():i.getHours(),P=k>12?k-12:k===0?12:k;r=(r=(r=(r=r.replace(/(^|[^\\])HH+/g,"$1"+x(k))).replace(/(^|[^\\])H/g,"$1"+k)).replace(/(^|[^\\])hh+/g,"$1"+x(P))).replace(/(^|[^\\])h/g,"$1"+P);var R=c?i.getUTCMinutes():i.getMinutes();r=(r=r.replace(/(^|[^\\])mm+/g,"$1"+x(R))).replace(/(^|[^\\])m/g,"$1"+R);var B=c?i.getUTCSeconds():i.getSeconds();r=(r=r.replace(/(^|[^\\])ss+/g,"$1"+x(B))).replace(/(^|[^\\])s/g,"$1"+B);var V=c?i.getUTCMilliseconds():i.getMilliseconds();r=r.replace(/(^|[^\\])fff+/g,"$1"+x(V,3)),V=Math.round(V/10),r=r.replace(/(^|[^\\])ff/g,"$1"+x(V)),V=Math.round(V/10);var j=k<12?"AM":"PM";r=(r=(r=r.replace(/(^|[^\\])f/g,"$1"+V)).replace(/(^|[^\\])TT+/g,"$1"+j)).replace(/(^|[^\\])T/g,"$1"+j.charAt(0));var U=j.toLowerCase();r=(r=r.replace(/(^|[^\\])tt+/g,"$1"+U)).replace(/(^|[^\\])t/g,"$1"+U.charAt(0));var m=-i.getTimezoneOffset(),A=c||!m?"Z":m>0?"+":"-";if(!c){var I=(m=Math.abs(m))%60;A+=x(Math.floor(m/60))+":"+x(I)}r=r.replace(/(^|[^\\])K/g,"$1"+A);var O=(c?i.getUTCDay():i.getDay())+1;return r=(r=(r=(r=(r=r.replace(new RegExp(u[0],"g"),u[O])).replace(new RegExp(g[0],"g"),g[O])).replace(new RegExp(h[0],"g"),h[w])).replace(new RegExp(f[0],"g"),f[w])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(i,r,o){var c=this.w;c.config.xaxis.min!==void 0&&(i=c.config.xaxis.min),c.config.xaxis.max!==void 0&&(r=c.config.xaxis.max);var h=this.getDate(i),f=this.getDate(r),u=this.formatDate(h,"yyyy MM dd HH mm ss fff").split(" "),g=this.formatDate(f,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(u[6],10),maxMillisecond:parseInt(g[6],10),minSecond:parseInt(u[5],10),maxSecond:parseInt(g[5],10),minMinute:parseInt(u[4],10),maxMinute:parseInt(g[4],10),minHour:parseInt(u[3],10),maxHour:parseInt(g[3],10),minDate:parseInt(u[2],10),maxDate:parseInt(g[2],10),minMonth:parseInt(u[1],10)-1,maxMonth:parseInt(g[1],10)-1,minYear:parseInt(u[0],10),maxYear:parseInt(g[0],10)}}},{key:"isLeapYear",value:function(i){return i%4==0&&i%100!=0||i%400==0}},{key:"calculcateLastDaysOfMonth",value:function(i,r,o){return this.determineDaysOfMonths(i,r)-o}},{key:"determineDaysOfYear",value:function(i){var r=365;return this.isLeapYear(i)&&(r=366),r}},{key:"determineRemainingDaysOfYear",value:function(i,r,o){var c=this.daysCntOfYear[r]+o;return r>1&&this.isLeapYear()&&c++,c}},{key:"determineDaysOfMonths",value:function(i,r){var o=30;switch(i=S.monthMod(i),!0){case this.months30.indexOf(i)>-1:i===2&&(o=this.isLeapYear(r)?29:28);break;case this.months31.indexOf(i)>-1:default:o=31}return o}}]),F}(),he=function(F){var i,r=F.ctx,o=F.seriesIndex,c=F.dataPointIndex,h=F.y1,f=F.y2,u=F.w,g=u.globals.seriesRangeStart[o][c],x=u.globals.seriesRangeEnd[o][c],b=u.globals.labels[c],w=u.config.series[o].name?u.config.series[o].name:"",_=u.config.tooltip.y.formatter,k=u.config.tooltip.y.title.formatter,P={w:u,seriesIndex:o,dataPointIndex:c,start:g,end:x};typeof k=="function"&&(w=k(w,P)),(i=u.config.series[o].data[c])!==null&&i!==void 0&&i.x&&(b=u.config.series[o].data[c].x+":"),typeof _=="function"&&(b=_(b,P)),Number.isFinite(h)&&Number.isFinite(f)&&(g=h,x=f);var R="",B="",V=u.globals.colors[o];if(u.config.tooltip.x.formatter===void 0)if(u.config.xaxis.type==="datetime"){var j=new ae(r);R=j.formatDate(j.getDate(g),u.config.tooltip.x.format),B=j.formatDate(j.getDate(x),u.config.tooltip.x.format)}else R=g,B=x;else R=u.config.tooltip.x.formatter(g),B=u.config.tooltip.x.formatter(x);return{start:g,end:x,startVal:R,endVal:B,ylabel:b,color:V,seriesName:w}},ue=function(F){var i=F.color,r=F.seriesName,o=F.ylabel,c=F.start,h=F.end,f=F.seriesIndex,u=F.dataPointIndex,g=F.ctx.tooltip.tooltipLabels.getFormatters(f);c=g.yLbFormatter(c),h=g.yLbFormatter(h);var x=g.yLbFormatter(F.w.globals.series[f][u]),b=`<span class="value start-value">
  `.concat(c,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(h,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+i+'">'+(r||"")+'</span></div><div> <span class="category">'+o+" </span> "+(F.w.globals.comboCharts?F.w.config.series[f].type==="rangeArea"||F.w.config.series[f].type==="rangeBar"?b:"<span>".concat(x,"</span>"):b)+" </div></div>"},pe=function(){function F(i){l(this,F),this.opts=i}return p(F,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(i){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,S.extend(i,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var i=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(r){var o=r.seriesIndex,c=r.dataPointIndex,h=r.w;return i._getBoxTooltip(h,o,c,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var i=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(r){var o=r.seriesIndex,c=r.dataPointIndex,h=r.w;return i._getBoxTooltip(h,o,c,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(i,r){r.ctx;var o=r.seriesIndex,c=r.dataPointIndex,h=r.w,f=function(){var u=h.globals.seriesRangeStart[o][c];return h.globals.seriesRangeEnd[o][c]-u};return h.globals.comboCharts?h.config.series[o].type==="rangeBar"||h.config.series[o].type==="rangeArea"?f():i:f()},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(i){return i.w.config.plotOptions&&i.w.config.plotOptions.bar&&i.w.config.plotOptions.bar.horizontal?function(r){var o=he(r),c=o.color,h=o.seriesName,f=o.ylabel,u=o.startVal,g=o.endVal;return ue(s(s({},r),{},{color:c,seriesName:h,ylabel:f,start:u,end:g}))}(i):function(r){var o=he(r),c=o.color,h=o.seriesName,f=o.ylabel,u=o.start,g=o.end;return ue(s(s({},r),{},{color:c,seriesName:h,ylabel:f,start:u,end:g}))}(i)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(i){return function(r){var o=he(r),c=o.color,h=o.seriesName,f=o.ylabel,u=o.start,g=o.end;return ue(s(s({},r),{},{color:c,seriesName:h,ylabel:f,start:u,end:g}))}(i)}}}}},{key:"brush",value:function(i){return S.extend(i,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(i){i.dataLabels=i.dataLabels||{},i.dataLabels.formatter=i.dataLabels.formatter||void 0;var r=i.dataLabels.formatter;return i.yaxis.forEach(function(o,c){i.yaxis[c].min=0,i.yaxis[c].max=100}),i.chart.type==="bar"&&(i.dataLabels.formatter=r||function(o){return typeof o=="number"&&o?o.toFixed(0)+"%":o}),i}},{key:"convertCatToNumeric",value:function(i){return i.xaxis.convertedCatToNumeric=!0,i}},{key:"convertCatToNumericXaxis",value:function(i,r,o){i.xaxis.type="numeric",i.xaxis.labels=i.xaxis.labels||{},i.xaxis.labels.formatter=i.xaxis.labels.formatter||function(f){return S.isNumber(f)?Math.floor(f):f};var c=i.xaxis.labels.formatter,h=i.xaxis.categories&&i.xaxis.categories.length?i.xaxis.categories:i.labels;return o&&o.length&&(h=o.map(function(f){return Array.isArray(f)?f:String(f)})),h&&h.length&&(i.xaxis.labels.formatter=function(f){return S.isNumber(f)?c(h[Math.floor(f)-1]):c(f)}),i.xaxis.categories=[],i.labels=[],i.xaxis.tickAmount=i.xaxis.tickAmount||"dataPoints",i}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(i){return i.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(i){return i.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(i){return i.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(i){return i},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(i,r,o,c,h){var f=i.globals.seriesCandleO[r][o],u=i.globals.seriesCandleH[r][o],g=i.globals.seriesCandleM[r][o],x=i.globals.seriesCandleL[r][o],b=i.globals.seriesCandleC[r][o];return i.config.series[r].type&&i.config.series[r].type!==h?`<div class="apexcharts-custom-tooltip">
          `.concat(i.config.series[r].name?i.config.series[r].name:"series-"+(r+1),": <strong>").concat(i.globals.series[r][o],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(i.config.chart.type,'">')+"<div>".concat(c[0],': <span class="value">')+f+"</span></div>"+"<div>".concat(c[1],': <span class="value">')+u+"</span></div>"+(g?"<div>".concat(c[2],': <span class="value">')+g+"</span></div>":"")+"<div>".concat(c[3],': <span class="value">')+x+"</span></div>"+"<div>".concat(c[4],': <span class="value">')+b+"</span></div></div>"}}]),F}(),Ce=function(){function F(i){l(this,F),this.opts=i}return p(F,[{key:"init",value:function(i){var r=i.responsiveOverride,o=this.opts,c=new re,h=new pe(o);this.chartType=o.chart.type,this.chartType==="histogram"&&(o.chart.type="bar",o=S.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},o)),o=this.extendYAxis(o),o=this.extendAnnotations(o);var f=c.init(),u={};if(o&&a(o)==="object"){var g={};g=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(o.chart.type)!==-1?h[o.chart.type]():h.line(),o.chart.brush&&o.chart.brush.enabled&&(g=h.brush(g)),o.chart.stacked&&o.chart.stackType==="100%"&&(o=h.stacked100(o)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(o),o.xaxis=o.xaxis||window.Apex.xaxis||{},r||(o.xaxis.convertedCatToNumeric=!1),((o=this.checkForCatToNumericXAxis(this.chartType,g,o)).chart.sparkline&&o.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(g=h.sparkline(g)),u=S.extend(f,g)}var x=S.extend(u,window.Apex);return f=S.extend(x,o),f=this.handleUserInputErrors(f)}},{key:"checkForCatToNumericXAxis",value:function(i,r,o){var c=new pe(o),h=(i==="bar"||i==="boxPlot")&&o.plotOptions&&o.plotOptions.bar&&o.plotOptions.bar.horizontal,f=i==="pie"||i==="polarArea"||i==="donut"||i==="radar"||i==="radialBar"||i==="heatmap",u=o.xaxis.type!=="datetime"&&o.xaxis.type!=="numeric",g=o.xaxis.tickPlacement?o.xaxis.tickPlacement:r.xaxis&&r.xaxis.tickPlacement;return h||f||!u||g==="between"||(o=c.convertCatToNumeric(o)),o}},{key:"extendYAxis",value:function(i,r){var o=new re;(i.yaxis===void 0||!i.yaxis||Array.isArray(i.yaxis)&&i.yaxis.length===0)&&(i.yaxis={}),i.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(i.yaxis=S.extend(i.yaxis,window.Apex.yaxis)),i.yaxis.constructor!==Array?i.yaxis=[S.extend(o.yAxis,i.yaxis)]:i.yaxis=S.extendArray(i.yaxis,o.yAxis);var c=!1;i.yaxis.forEach(function(f){f.logarithmic&&(c=!0)});var h=i.series;return r&&!h&&(h=r.config.series),c&&h.length!==i.yaxis.length&&h.length&&(i.yaxis=h.map(function(f,u){if(f.name||(h[u].name="series-".concat(u+1)),i.yaxis[u])return i.yaxis[u].seriesName=h[u].name,i.yaxis[u];var g=S.extend(o.yAxis,i.yaxis[0]);return g.show=!1,g})),c&&h.length>1&&h.length!==i.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),i}},{key:"extendAnnotations",value:function(i){return i.annotations===void 0&&(i.annotations={},i.annotations.yaxis=[],i.annotations.xaxis=[],i.annotations.points=[]),i=this.extendYAxisAnnotations(i),i=this.extendXAxisAnnotations(i),i=this.extendPointAnnotations(i)}},{key:"extendYAxisAnnotations",value:function(i){var r=new re;return i.annotations.yaxis=S.extendArray(i.annotations.yaxis!==void 0?i.annotations.yaxis:[],r.yAxisAnnotation),i}},{key:"extendXAxisAnnotations",value:function(i){var r=new re;return i.annotations.xaxis=S.extendArray(i.annotations.xaxis!==void 0?i.annotations.xaxis:[],r.xAxisAnnotation),i}},{key:"extendPointAnnotations",value:function(i){var r=new re;return i.annotations.points=S.extendArray(i.annotations.points!==void 0?i.annotations.points:[],r.pointAnnotation),i}},{key:"checkForDarkTheme",value:function(i){i.theme&&i.theme.mode==="dark"&&(i.tooltip||(i.tooltip={}),i.tooltip.theme!=="light"&&(i.tooltip.theme="dark"),i.chart.foreColor||(i.chart.foreColor="#f6f7f8"),i.chart.background||(i.chart.background="#424242"),i.theme.palette||(i.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(i){var r=i;if(r.tooltip.shared&&r.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(r.chart.type==="bar"&&r.plotOptions.bar.horizontal){if(r.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");r.yaxis[0].reversed&&(r.yaxis[0].opposite=!0),r.xaxis.tooltip.enabled=!1,r.yaxis[0].tooltip.enabled=!1,r.chart.zoom.enabled=!1}return r.chart.type!=="bar"&&r.chart.type!=="rangeBar"||r.tooltip.shared&&r.xaxis.crosshairs.width==="barWidth"&&r.series.length>1&&(r.xaxis.crosshairs.width="tickWidth"),r.chart.type!=="candlestick"&&r.chart.type!=="boxPlot"||r.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(r.chart.type," chart is not supported.")),r.yaxis[0].reversed=!1),r}}]),F}(),Ne=function(){function F(){l(this,F)}return p(F,[{key:"initGlobalVars",value:function(i){i.series=[],i.seriesCandleO=[],i.seriesCandleH=[],i.seriesCandleM=[],i.seriesCandleL=[],i.seriesCandleC=[],i.seriesRangeStart=[],i.seriesRangeEnd=[],i.seriesRange=[],i.seriesPercent=[],i.seriesGoals=[],i.seriesX=[],i.seriesZ=[],i.seriesNames=[],i.seriesTotals=[],i.seriesLog=[],i.seriesColors=[],i.stackedSeriesTotals=[],i.seriesXvalues=[],i.seriesYvalues=[],i.labels=[],i.hasGroups=!1,i.groups=[],i.categoryLabels=[],i.timescaleLabels=[],i.noLabelsProvided=!1,i.resizeTimer=null,i.selectionResizeTimer=null,i.delayedElements=[],i.pointsArray=[],i.dataLabelsRects=[],i.isXNumeric=!1,i.xaxisLabelsCount=0,i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1,i.isDataXYZ=!1,i.isMultiLineX=!1,i.isMultipleYAxis=!1,i.maxY=-Number.MAX_VALUE,i.minY=Number.MIN_VALUE,i.minYArr=[],i.maxYArr=[],i.maxX=-Number.MAX_VALUE,i.minX=Number.MAX_VALUE,i.initialMaxX=-Number.MAX_VALUE,i.initialMinX=Number.MAX_VALUE,i.maxDate=0,i.minDate=Number.MAX_VALUE,i.minZ=Number.MAX_VALUE,i.maxZ=-Number.MAX_VALUE,i.minXDiff=Number.MAX_VALUE,i.yAxisScale=[],i.xAxisScale=null,i.xAxisTicksPositions=[],i.yLabelsCoords=[],i.yTitleCoords=[],i.barPadForNumericAxis=0,i.padHorizontal=0,i.xRange=0,i.yRange=[],i.zRange=0,i.dataPoints=0,i.xTickAmount=0}},{key:"globalVars",value:function(i){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:i.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:i.chart.toolbar.autoSelected==="zoom"&&i.chart.toolbar.tools.zoom&&i.chart.zoom.enabled,panEnabled:i.chart.toolbar.autoSelected==="pan"&&i.chart.toolbar.tools.pan,selectionEnabled:i.chart.toolbar.autoSelected==="selection"&&i.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(i){var r=this.globalVars(i);return this.initGlobalVars(r),r.initialConfig=S.extend({},i),r.initialSeries=S.clone(i.series),r.lastXAxis=S.clone(r.initialConfig.xaxis),r.lastYAxis=S.clone(r.initialConfig.yaxis),r}}]),F}(),ve=function(){function F(i){l(this,F),this.opts=i}return p(F,[{key:"init",value:function(){var i=new Ce(this.opts).init({responsiveOverride:!1});return{config:i,globals:new Ne().init(i)}}}]),F}(),ne=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.opts=null,this.seriesIndex=0}return p(F,[{key:"clippedImgArea",value:function(i){var r=this.w,o=r.config,c=parseInt(r.globals.gridWidth,10),h=parseInt(r.globals.gridHeight,10),f=c>h?c:h,u=i.image,g=0,x=0;i.width===void 0&&i.height===void 0?o.fill.image.width!==void 0&&o.fill.image.height!==void 0?(g=o.fill.image.width+1,x=o.fill.image.height):(g=f+1,x=f):(g=i.width,x=i.height);var b=document.createElementNS(r.globals.SVGNS,"pattern");H.setAttrs(b,{id:i.patternID,patternUnits:i.patternUnits?i.patternUnits:"userSpaceOnUse",width:g+"px",height:x+"px"});var w=document.createElementNS(r.globals.SVGNS,"image");b.appendChild(w),w.setAttributeNS(window.SVG.xlink,"href",u),H.setAttrs(w,{x:0,y:0,preserveAspectRatio:"none",width:g+"px",height:x+"px"}),w.style.opacity=i.opacity,r.globals.dom.elDefs.node.appendChild(b)}},{key:"getSeriesIndex",value:function(i){var r=this.w;return(r.config.chart.type==="bar"||r.config.chart.type==="rangeBar")&&r.config.plotOptions.bar.distributed||r.config.chart.type==="heatmap"||r.config.chart.type==="treemap"?this.seriesIndex=i.seriesNumber:this.seriesIndex=i.seriesNumber%r.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(i){var r=this.w;this.opts=i;var o,c,h,f=this.w.config;this.seriesIndex=this.getSeriesIndex(i);var u=this.getFillColors()[this.seriesIndex];r.globals.seriesColors[this.seriesIndex]!==void 0&&(u=r.globals.seriesColors[this.seriesIndex]),typeof u=="function"&&(u=u({seriesIndex:this.seriesIndex,dataPointIndex:i.dataPointIndex,value:i.value,w:r}));var g=i.fillType?i.fillType:this.getFillType(this.seriesIndex),x=Array.isArray(f.fill.opacity)?f.fill.opacity[this.seriesIndex]:f.fill.opacity;i.color&&(u=i.color);var b=u;if(u.indexOf("rgb")===-1?u.length<9&&(b=S.hexToRgba(u,x)):u.indexOf("rgba")>-1&&(x=S.getOpacityFromRGBA(u)),i.opacity&&(x=i.opacity),g==="pattern"&&(c=this.handlePatternFill({fillConfig:i.fillConfig,patternFill:c,fillColor:u,fillOpacity:x,defaultColor:b})),g==="gradient"&&(h=this.handleGradientFill({fillConfig:i.fillConfig,fillColor:u,fillOpacity:x,i:this.seriesIndex})),g==="image"){var w=f.fill.image.src,_=i.patternID?i.patternID:"";this.clippedImgArea({opacity:x,image:Array.isArray(w)?i.seriesNumber<w.length?w[i.seriesNumber]:w[0]:w,width:i.width?i.width:void 0,height:i.height?i.height:void 0,patternUnits:i.patternUnits,patternID:"pattern".concat(r.globals.cuid).concat(i.seriesNumber+1).concat(_)}),o="url(#pattern".concat(r.globals.cuid).concat(i.seriesNumber+1).concat(_,")")}else o=g==="gradient"?h:g==="pattern"?c:b;return i.solid&&(o=b),o}},{key:"getFillType",value:function(i){var r=this.w;return Array.isArray(r.config.fill.type)?r.config.fill.type[i]:r.config.fill.type}},{key:"getFillColors",value:function(){var i=this.w,r=i.config,o=this.opts,c=[];return i.globals.comboCharts?i.config.series[this.seriesIndex].type==="line"?Array.isArray(i.globals.stroke.colors)?c=i.globals.stroke.colors:c.push(i.globals.stroke.colors):Array.isArray(i.globals.fill.colors)?c=i.globals.fill.colors:c.push(i.globals.fill.colors):r.chart.type==="line"?Array.isArray(i.globals.stroke.colors)?c=i.globals.stroke.colors:c.push(i.globals.stroke.colors):Array.isArray(i.globals.fill.colors)?c=i.globals.fill.colors:c.push(i.globals.fill.colors),o.fillColors!==void 0&&(c=[],Array.isArray(o.fillColors)?c=o.fillColors.slice():c.push(o.fillColors)),c}},{key:"handlePatternFill",value:function(i){var r=i.fillConfig,o=i.patternFill,c=i.fillColor,h=i.fillOpacity,f=i.defaultColor,u=this.w.config.fill;r&&(u=r);var g=this.opts,x=new H(this.ctx),b=Array.isArray(u.pattern.strokeWidth)?u.pattern.strokeWidth[this.seriesIndex]:u.pattern.strokeWidth,w=c;return Array.isArray(u.pattern.style)?o=u.pattern.style[g.seriesNumber]!==void 0?x.drawPattern(u.pattern.style[g.seriesNumber],u.pattern.width,u.pattern.height,w,b,h):f:o=x.drawPattern(u.pattern.style,u.pattern.width,u.pattern.height,w,b,h),o}},{key:"handleGradientFill",value:function(i){var r=i.fillColor,o=i.fillOpacity,c=i.fillConfig,h=i.i,f=this.w.config.fill;c&&(f=s(s({},f),c));var u,g=this.opts,x=new H(this.ctx),b=new S,w=f.gradient.type,_=r,k=f.gradient.opacityFrom===void 0?o:Array.isArray(f.gradient.opacityFrom)?f.gradient.opacityFrom[h]:f.gradient.opacityFrom;_.indexOf("rgba")>-1&&(k=S.getOpacityFromRGBA(_));var P=f.gradient.opacityTo===void 0?o:Array.isArray(f.gradient.opacityTo)?f.gradient.opacityTo[h]:f.gradient.opacityTo;if(f.gradient.gradientToColors===void 0||f.gradient.gradientToColors.length===0)u=f.gradient.shade==="dark"?b.shadeColor(-1*parseFloat(f.gradient.shadeIntensity),r.indexOf("rgb")>-1?S.rgb2hex(r):r):b.shadeColor(parseFloat(f.gradient.shadeIntensity),r.indexOf("rgb")>-1?S.rgb2hex(r):r);else if(f.gradient.gradientToColors[g.seriesNumber]){var R=f.gradient.gradientToColors[g.seriesNumber];u=R,R.indexOf("rgba")>-1&&(P=S.getOpacityFromRGBA(R))}else u=r;if(f.gradient.gradientFrom&&(_=f.gradient.gradientFrom),f.gradient.gradientTo&&(u=f.gradient.gradientTo),f.gradient.inverseColors){var B=_;_=u,u=B}return _.indexOf("rgb")>-1&&(_=S.rgb2hex(_)),u.indexOf("rgb")>-1&&(u=S.rgb2hex(u)),x.drawGradient(w,_,u,k,P,g.size,f.gradient.stops,f.gradient.colorStops,h)}}]),F}(),xe=function(){function F(i,r){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"setGlobalMarkerSize",value:function(){var i=this.w;if(i.globals.markers.size=Array.isArray(i.config.markers.size)?i.config.markers.size:[i.config.markers.size],i.globals.markers.size.length>0){if(i.globals.markers.size.length<i.globals.series.length+1)for(var r=0;r<=i.globals.series.length;r++)i.globals.markers.size[r]===void 0&&i.globals.markers.size.push(i.globals.markers.size[0])}else i.globals.markers.size=i.config.series.map(function(o){return i.config.markers.size})}},{key:"plotChartMarkers",value:function(i,r,o,c){var h,f=arguments.length>4&&arguments[4]!==void 0&&arguments[4],u=this.w,g=r,x=i,b=null,w=new H(this.ctx),_=u.config.markers.discrete&&u.config.markers.discrete.length;if((u.globals.markers.size[r]>0||f||_)&&(b=w.group({class:f||_?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),Array.isArray(x.x))for(var k=0;k<x.x.length;k++){var P=o;o===1&&k===0&&(P=0),o===1&&k===1&&(P=1);var R="apexcharts-marker";u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(R+=" no-pointer-events");var B=Array.isArray(u.config.markers.size)?u.globals.markers.size[r]>0:u.config.markers.size>0;if(B||f||_){S.isNumber(x.y[k])?R+=" w".concat(S.randomId()):R="apexcharts-nullpoint";var V=this.getMarkerConfig({cssClass:R,seriesIndex:r,dataPointIndex:P});u.config.series[g].data[P]&&(u.config.series[g].data[P].fillColor&&(V.pointFillColor=u.config.series[g].data[P].fillColor),u.config.series[g].data[P].strokeColor&&(V.pointStrokeColor=u.config.series[g].data[P].strokeColor)),c&&(V.pSize=c),(h=w.drawMarker(x.x[k],x.y[k],V)).attr("rel",P),h.attr("j",P),h.attr("index",r),h.node.setAttribute("default-marker-size",V.pSize);var j=new W(this.ctx);j.setSelectionFilter(h,r,P),this.addEvents(h),b&&b.add(h)}else u.globals.pointsArray[r]===void 0&&(u.globals.pointsArray[r]=[]),u.globals.pointsArray[r].push([x.x[k],x.y[k]])}return b}},{key:"getMarkerConfig",value:function(i){var r=i.cssClass,o=i.seriesIndex,c=i.dataPointIndex,h=c===void 0?null:c,f=i.finishRadius,u=f===void 0?null:f,g=this.w,x=this.getMarkerStyle(o),b=g.globals.markers.size[o],w=g.config.markers;return h!==null&&w.discrete.length&&w.discrete.map(function(_){_.seriesIndex===o&&_.dataPointIndex===h&&(x.pointStrokeColor=_.strokeColor,x.pointFillColor=_.fillColor,b=_.size,x.pointShape=_.shape)}),{pSize:u===null?b:u,pRadius:w.radius,width:Array.isArray(w.width)?w.width[o]:w.width,height:Array.isArray(w.height)?w.height[o]:w.height,pointStrokeWidth:Array.isArray(w.strokeWidth)?w.strokeWidth[o]:w.strokeWidth,pointStrokeColor:x.pointStrokeColor,pointFillColor:x.pointFillColor,shape:x.pointShape||(Array.isArray(w.shape)?w.shape[o]:w.shape),class:r,pointStrokeOpacity:Array.isArray(w.strokeOpacity)?w.strokeOpacity[o]:w.strokeOpacity,pointStrokeDashArray:Array.isArray(w.strokeDashArray)?w.strokeDashArray[o]:w.strokeDashArray,pointFillOpacity:Array.isArray(w.fillOpacity)?w.fillOpacity[o]:w.fillOpacity,seriesIndex:o}}},{key:"addEvents",value:function(i){var r=this.w,o=new H(this.ctx);i.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this.ctx,i)),i.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this.ctx,i)),i.node.addEventListener("mousedown",o.pathMouseDown.bind(this.ctx,i)),i.node.addEventListener("click",r.config.markers.onClick),i.node.addEventListener("dblclick",r.config.markers.onDblClick),i.node.addEventListener("touchstart",o.pathMouseDown.bind(this.ctx,i),{passive:!0})}},{key:"getMarkerStyle",value:function(i){var r=this.w,o=r.globals.markers.colors,c=r.config.markers.strokeColor||r.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(c)?c[i]:c,pointFillColor:Array.isArray(o)?o[i]:o}}}]),F}(),Ee=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return p(F,[{key:"draw",value:function(i,r,o){var c=this.w,h=new H(this.ctx),f=o.realIndex,u=o.pointsPos,g=o.zRatio,x=o.elParent,b=h.group({class:"apexcharts-series-markers apexcharts-series-".concat(c.config.chart.type)});if(b.attr("clip-path","url(#gridRectMarkerMask".concat(c.globals.cuid,")")),Array.isArray(u.x))for(var w=0;w<u.x.length;w++){var _=r+1,k=!0;r===0&&w===0&&(_=0),r===0&&w===1&&(_=1);var P=0,R=c.globals.markers.size[f];if(g!==1/0){var B=c.config.plotOptions.bubble;R=c.globals.seriesZ[f][_],B.zScaling&&(R/=g),B.minBubbleRadius&&R<B.minBubbleRadius&&(R=B.minBubbleRadius),B.maxBubbleRadius&&R>B.maxBubbleRadius&&(R=B.maxBubbleRadius)}c.config.chart.animations.enabled||(P=R);var V=u.x[w],j=u.y[w];if(P=P||0,j!==null&&c.globals.series[f][_]!==void 0||(k=!1),k){var U=this.drawPoint(V,j,P,R,f,_,r);b.add(U)}x.add(b)}}},{key:"drawPoint",value:function(i,r,o,c,h,f,u){var g=this.w,x=h,b=new G(this.ctx),w=new W(this.ctx),_=new ne(this.ctx),k=new xe(this.ctx),P=new H(this.ctx),R=k.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:x,dataPointIndex:f,finishRadius:g.config.chart.type==="bubble"||g.globals.comboCharts&&g.config.series[h]&&g.config.series[h].type==="bubble"?c:null});c=R.pSize;var B,V=_.fillPath({seriesNumber:h,dataPointIndex:f,color:R.pointFillColor,patternUnits:"objectBoundingBox",value:g.globals.series[h][u]});if(R.shape==="circle"?B=P.drawCircle(o):R.shape!=="square"&&R.shape!=="rect"||(B=P.drawRect(0,0,R.width-R.pointStrokeWidth/2,R.height-R.pointStrokeWidth/2,R.pRadius)),g.config.series[x].data[f]&&g.config.series[x].data[f].fillColor&&(V=g.config.series[x].data[f].fillColor),B.attr({x:i-R.width/2-R.pointStrokeWidth/2,y:r-R.height/2-R.pointStrokeWidth/2,cx:i,cy:r,fill:V,"fill-opacity":R.pointFillOpacity,stroke:R.pointStrokeColor,r:c,"stroke-width":R.pointStrokeWidth,"stroke-dasharray":R.pointStrokeDashArray,"stroke-opacity":R.pointStrokeOpacity}),g.config.chart.dropShadow.enabled){var j=g.config.chart.dropShadow;w.dropShadow(B,j,h)}if(!this.initialAnim||g.globals.dataChanged||g.globals.resized)g.globals.animationEnded=!0;else{var U=g.config.chart.animations.speed;b.animateMarker(B,0,R.shape==="circle"?c:{width:R.width,height:R.height},U,g.globals.easing,function(){window.setTimeout(function(){b.animationCompleted(B)},100)})}if(g.globals.dataChanged&&R.shape==="circle")if(this.dynamicAnim){var m,A,I,O,X=g.config.chart.animations.dynamicAnimation.speed;(O=g.globals.previousPaths[h]&&g.globals.previousPaths[h][u])!=null&&(m=O.x,A=O.y,I=O.r!==void 0?O.r:c);for(var te=0;te<g.globals.collapsedSeries.length;te++)g.globals.collapsedSeries[te].index===h&&(X=1,c=0);i===0&&r===0&&(c=0),b.animateCircle(B,{cx:m,cy:A,r:I},{cx:i,cy:r,r:c},X,g.globals.easing)}else B.attr({r:c});return B.attr({rel:f,j:f,index:h,"default-marker-size":c}),w.setSelectionFilter(B,h,f),k.addEvents(B),B.node.classList.add("apexcharts-marker"),B}},{key:"centerTextInBubble",value:function(i){var r=this.w;return{y:i+=parseInt(r.config.dataLabels.style.fontSize,10)/4}}}]),F}(),Ie=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"dataLabelsCorrection",value:function(i,r,o,c,h,f,u){var g=this.w,x=!1,b=new H(this.ctx).getTextRects(o,u),w=b.width,_=b.height;r<0&&(r=0),r>g.globals.gridHeight+_&&(r=g.globals.gridHeight+_/2),g.globals.dataLabelsRects[c]===void 0&&(g.globals.dataLabelsRects[c]=[]),g.globals.dataLabelsRects[c].push({x:i,y:r,width:w,height:_});var k=g.globals.dataLabelsRects[c].length-2,P=g.globals.lastDrawnDataLabelsIndexes[c]!==void 0?g.globals.lastDrawnDataLabelsIndexes[c][g.globals.lastDrawnDataLabelsIndexes[c].length-1]:0;if(g.globals.dataLabelsRects[c][k]!==void 0){var R=g.globals.dataLabelsRects[c][P];(i>R.x+R.width+2||r>R.y+R.height+2||i+w<R.x)&&(x=!0)}return(h===0||f)&&(x=!0),{x:i,y:r,textRects:b,drawnextLabel:x}}},{key:"drawDataLabel",value:function(i){var r=this,o=i.type,c=i.pos,h=i.i,f=i.j,u=i.isRangeStart,g=i.strokeWidth,x=g===void 0?2:g,b=this.w,w=new H(this.ctx),_=b.config.dataLabels,k=0,P=0,R=f,B=null;if(!_.enabled||!Array.isArray(c.x))return B;B=w.group({class:"apexcharts-data-labels"});for(var V=0;V<c.x.length;V++)if(k=c.x[V]+_.offsetX,P=c.y[V]+_.offsetY+x,!isNaN(k)){f===1&&V===0&&(R=0),f===1&&V===1&&(R=1);var j=b.globals.series[h][R];o==="rangeArea"&&(j=u?b.globals.seriesRangeStart[h][R]:b.globals.seriesRangeEnd[h][R]);var U="",m=function(A){return b.config.dataLabels.formatter(A,{ctx:r.ctx,seriesIndex:h,dataPointIndex:R,w:b})};b.config.chart.type==="bubble"?(U=m(j=b.globals.seriesZ[h][R]),P=c.y[V],P=new Ee(this.ctx).centerTextInBubble(P,h,R).y):j!==void 0&&(U=m(j)),this.plotDataLabelsText({x:k,y:P,text:U,i:h,j:R,parent:B,offsetCorrection:!0,dataLabelsConfig:b.config.dataLabels})}return B}},{key:"plotDataLabelsText",value:function(i){var r=this.w,o=new H(this.ctx),c=i.x,h=i.y,f=i.i,u=i.j,g=i.text,x=i.textAnchor,b=i.fontSize,w=i.parent,_=i.dataLabelsConfig,k=i.color,P=i.alwaysDrawDataLabel,R=i.offsetCorrection;if(!(Array.isArray(r.config.dataLabels.enabledOnSeries)&&r.config.dataLabels.enabledOnSeries.indexOf(f)<0)){var B={x:c,y:h,drawnextLabel:!0,textRects:null};R&&(B=this.dataLabelsCorrection(c,h,g,f,u,P,parseInt(_.style.fontSize,10))),r.globals.zoomed||(c=B.x,h=B.y),B.textRects&&(c<-10-B.textRects.width||c>r.globals.gridWidth+B.textRects.width+10)&&(g="");var V=r.globals.dataLabels.style.colors[f];((r.config.chart.type==="bar"||r.config.chart.type==="rangeBar")&&r.config.plotOptions.bar.distributed||r.config.dataLabels.distributed)&&(V=r.globals.dataLabels.style.colors[u]),typeof V=="function"&&(V=V({series:r.globals.series,seriesIndex:f,dataPointIndex:u,w:r})),k&&(V=k);var j=_.offsetX,U=_.offsetY;if(r.config.chart.type!=="bar"&&r.config.chart.type!=="rangeBar"||(j=0,U=0),B.drawnextLabel){var m=o.drawText({width:100,height:parseInt(_.style.fontSize,10),x:c+j,y:h+U,foreColor:V,textAnchor:x||_.textAnchor,text:g,fontSize:b||_.style.fontSize,fontFamily:_.style.fontFamily,fontWeight:_.style.fontWeight||"normal"});if(m.attr({class:"apexcharts-datalabel",cx:c,cy:h}),_.dropShadow.enabled){var A=_.dropShadow;new W(this.ctx).dropShadow(m,A)}w.add(m),r.globals.lastDrawnDataLabelsIndexes[f]===void 0&&(r.globals.lastDrawnDataLabelsIndexes[f]=[]),r.globals.lastDrawnDataLabelsIndexes[f].push(u)}}}},{key:"addBackgroundToDataLabel",value:function(i,r){var o=this.w,c=o.config.dataLabels.background,h=c.padding,f=c.padding/2,u=r.width,g=r.height,x=new H(this.ctx).drawRect(r.x-h,r.y-f/2,u+2*h,g+f,c.borderRadius,o.config.chart.background==="transparent"?"#fff":o.config.chart.background,c.opacity,c.borderWidth,c.borderColor);return c.dropShadow.enabled&&new W(this.ctx).dropShadow(x,c.dropShadow),x}},{key:"dataLabelsBackground",value:function(){var i=this.w;if(i.config.chart.type!=="bubble")for(var r=i.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),o=0;o<r.length;o++){var c=r[o],h=c.getBBox(),f=null;if(h.width&&h.height&&(f=this.addBackgroundToDataLabel(c,h)),f){c.parentNode.insertBefore(f.node,c);var u=c.getAttribute("fill");i.config.chart.animations.enabled&&!i.globals.resized&&!i.globals.dataChanged?f.animate().attr({fill:u}):f.attr({fill:u}),c.setAttribute("fill",i.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var i=this.w,r=i.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),o=i.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),c=0;c<r.length;c++)o&&o.insertBefore(r[c],o.nextSibling)}}]),F}(),ce=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.legendInactiveClass="legend-mouseover-inactive"}return p(F,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(i){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(S.escapeString(i),"']"))}},{key:"isSeriesHidden",value:function(i){var r=this.getSeriesByName(i),o=parseInt(r.getAttribute("data:realIndex"),10);return{isHidden:r.classList.contains("apexcharts-series-collapsed"),realIndex:o}}},{key:"addCollapsedClassToSeries",value:function(i,r){var o=this.w;function c(h){for(var f=0;f<h.length;f++)h[f].index===r&&i.node.classList.add("apexcharts-series-collapsed")}c(o.globals.collapsedSeries),c(o.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(i){var r=this.isSeriesHidden(i);return this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,r.isHidden),r.isHidden}},{key:"showSeries",value:function(i){var r=this.isSeriesHidden(i);r.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,!0)}},{key:"hideSeries",value:function(i){var r=this.isSeriesHidden(i);r.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,!1)}},{key:"resetSeries",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=this.w,h=S.clone(c.globals.initialSeries);c.globals.previousPaths=[],o?(c.globals.collapsedSeries=[],c.globals.ancillaryCollapsedSeries=[],c.globals.collapsedSeriesIndices=[],c.globals.ancillaryCollapsedSeriesIndices=[]):h=this.emptyCollapsedSeries(h),c.config.series=h,i&&(r&&(c.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(h,c.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(i){for(var r=this.w,o=0;o<i.length;o++)r.globals.collapsedSeriesIndices.indexOf(o)>-1&&(i[o].data=[]);return i}},{key:"toggleSeriesOnHover",value:function(i,r){var o=this.w;r||(r=i.target);var c=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if(i.type==="mousemove"){var h=parseInt(r.getAttribute("rel"),10)-1,f=null,u=null;o.globals.axisCharts||o.config.chart.type==="radialBar"?o.globals.axisCharts?(f=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(h,"']")),u=o.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(h,"']"))):f=o.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(h+1,"']")):f=o.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(h+1,"'] path"));for(var g=0;g<c.length;g++)c[g].classList.add(this.legendInactiveClass);f!==null&&(o.globals.axisCharts||f.parentNode.classList.remove(this.legendInactiveClass),f.classList.remove(this.legendInactiveClass),u!==null&&u.classList.remove(this.legendInactiveClass))}else if(i.type==="mouseout")for(var x=0;x<c.length;x++)c[x].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(i,r){var o=this,c=this.w,h=c.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),f=function(g){for(var x=0;x<h.length;x++)h[x].classList[g](o.legendInactiveClass)};if(i.type==="mousemove"){var u=parseInt(r.getAttribute("rel"),10)-1;f("add"),function(g){for(var x=0;x<h.length;x++){var b=parseInt(h[x].getAttribute("val"),10);b>=g.from&&b<=g.to&&h[x].classList.remove(o.legendInactiveClass)}}(c.config.plotOptions.heatmap.colorScale.ranges[u])}else i.type==="mouseout"&&f("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=this.w,c=0;if(o.config.series.length>1){for(var h=o.config.series.map(function(u,g){return u.data&&u.data.length>0&&o.globals.collapsedSeriesIndices.indexOf(g)===-1&&(!o.globals.comboCharts||r.length===0||r.length&&r.indexOf(o.config.series[g].type)>-1)?g:-1}),f=i==="asc"?0:h.length-1;i==="asc"?f<h.length:f>=0;i==="asc"?f++:f--)if(h[f]!==-1){c=h[f];break}}return c}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(i,r){return i.type==="bar"||i.type==="column"?r:-1}).filter(function(i){return i!==-1}):this.w.config.series.map(function(i,r){return r})}},{key:"getPreviousPaths",value:function(){var i=this.w;function r(f,u,g){for(var x=f[u].childNodes,b={type:g,paths:[],realIndex:f[u].getAttribute("data:realIndex")},w=0;w<x.length;w++)if(x[w].hasAttribute("pathTo")){var _=x[w].getAttribute("pathTo");b.paths.push({d:_})}i.globals.previousPaths.push(b)}i.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(f){for(var u,g=(u=f,i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(u,"-series .apexcharts-series"))),x=0;x<g.length;x++)r(g,x,f)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var o=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i.config.chart.type," .apexcharts-series"));if(o.length>0)for(var c=function(f){for(var u=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(f,"'] rect")),g=[],x=function(w){var _=function(P){return u[w].getAttribute(P)},k={x:parseFloat(_("x")),y:parseFloat(_("y")),width:parseFloat(_("width")),height:parseFloat(_("height"))};g.push({rect:k,color:u[w].getAttribute("color")})},b=0;b<u.length;b++)x(b);i.globals.previousPaths.push(g)},h=0;h<o.length;h++)c(h);i.globals.axisCharts||(i.globals.previousPaths=i.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(i){var r=this.w,o=r.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i,"-series .apexcharts-series"));if(o.length>0)for(var c=0;c<o.length;c++){for(var h=r.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i,"-series .apexcharts-series[data\\:realIndex='").concat(c,"'] circle")),f=[],u=0;u<h.length;u++)f.push({x:h[u].getAttribute("cx"),y:h[u].getAttribute("cy"),r:h[u].getAttribute("r")});r.globals.previousPaths.push(f)}}},{key:"clearPreviousPaths",value:function(){var i=this.w;i.globals.previousPaths=[],i.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var i=this.w,r=i.config.noData,o=new H(this.ctx),c=i.globals.svgWidth/2,h=i.globals.svgHeight/2,f="middle";if(i.globals.noData=!0,i.globals.animationEnded=!0,r.align==="left"?(c=10,f="start"):r.align==="right"&&(c=i.globals.svgWidth-10,f="end"),r.verticalAlign==="top"?h=50:r.verticalAlign==="bottom"&&(h=i.globals.svgHeight-50),c+=r.offsetX,h=h+parseInt(r.style.fontSize,10)+2+r.offsetY,r.text!==void 0&&r.text!==""){var u=o.drawText({x:c,y:h,text:r.text,textAnchor:f,fontSize:r.style.fontSize,fontFamily:r.style.fontFamily,foreColor:r.style.color,opacity:1,class:"apexcharts-text-nodata"});i.globals.dom.Paper.add(u)}}},{key:"setNullSeriesToZeroValues",value:function(i){for(var r=this.w,o=0;o<i.length;o++)if(i[o].length===0)for(var c=0;c<i[r.globals.maxValsInArrayIndex].length;c++)i[o].push(0);return i}},{key:"hasAllSeriesEqualX",value:function(){for(var i=!0,r=this.w,o=this.filteredSeriesX(),c=0;c<o.length-1;c++)if(o[c][0]!==o[c+1][0]){i=!1;break}return r.globals.allSeriesHasEqualX=i,i}},{key:"filteredSeriesX",value:function(){var i=this.w.globals.seriesX.map(function(r){return r.length>0?r:[]});return i}}]),F}(),dt=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new $(this.ctx)}return p(F,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var i=this.w.config.series.slice(),r=new ce(this.ctx);if(this.activeSeriesIndex=r.getActiveConfigSeriesIndex(),i[this.activeSeriesIndex].data!==void 0&&i[this.activeSeriesIndex].data.length>0&&i[this.activeSeriesIndex].data[0]!==null&&i[this.activeSeriesIndex].data[0].x!==void 0&&i[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var i=this.w.config.series.slice(),r=new ce(this.ctx);if(this.activeSeriesIndex=r.getActiveConfigSeriesIndex(),i[this.activeSeriesIndex].data!==void 0&&i[this.activeSeriesIndex].data.length>0&&i[this.activeSeriesIndex].data[0]!==void 0&&i[this.activeSeriesIndex].data[0]!==null&&i[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(i,r){for(var o=this.w.config,c=this.w.globals,h=o.chart.type==="boxPlot"||o.series[r].type==="boxPlot",f=0;f<i[r].data.length;f++)if(i[r].data[f][1]!==void 0&&(Array.isArray(i[r].data[f][1])&&i[r].data[f][1].length===4&&!h?this.twoDSeries.push(S.parseNumber(i[r].data[f][1][3])):i[r].data[f].length>=5?this.twoDSeries.push(S.parseNumber(i[r].data[f][4])):this.twoDSeries.push(S.parseNumber(i[r].data[f][1])),c.dataFormatXNumeric=!0),o.xaxis.type==="datetime"){var u=new Date(i[r].data[f][0]);u=new Date(u).getTime(),this.twoDSeriesX.push(u)}else this.twoDSeriesX.push(i[r].data[f][0]);for(var g=0;g<i[r].data.length;g++)i[r].data[g][2]!==void 0&&(this.threeDSeries.push(i[r].data[g][2]),c.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(i,r){var o=this.w.config,c=this.w.globals,h=new ae(this.ctx),f=r;c.collapsedSeriesIndices.indexOf(r)>-1&&(f=this.activeSeriesIndex);for(var u=0;u<i[r].data.length;u++)i[r].data[u].y!==void 0&&(Array.isArray(i[r].data[u].y)?this.twoDSeries.push(S.parseNumber(i[r].data[u].y[i[r].data[u].y.length-1])):this.twoDSeries.push(S.parseNumber(i[r].data[u].y))),i[r].data[u].goals!==void 0&&Array.isArray(i[r].data[u].goals)?(this.seriesGoals[r]===void 0&&(this.seriesGoals[r]=[]),this.seriesGoals[r].push(i[r].data[u].goals)):(this.seriesGoals[r]===void 0&&(this.seriesGoals[r]=[]),this.seriesGoals[r].push(null));for(var g=0;g<i[f].data.length;g++){var x=typeof i[f].data[g].x=="string",b=Array.isArray(i[f].data[g].x),w=!b&&!!h.isValidDate(i[f].data[g].x.toString());if(x||w)if(x||o.xaxis.convertedCatToNumeric){var _=c.isBarHorizontal&&c.isRangeData;o.xaxis.type!=="datetime"||_?(this.fallbackToCategory=!0,this.twoDSeriesX.push(i[f].data[g].x)):this.twoDSeriesX.push(h.parseDate(i[f].data[g].x))}else o.xaxis.type==="datetime"?this.twoDSeriesX.push(h.parseDate(i[f].data[g].x.toString())):(c.dataFormatXNumeric=!0,c.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(i[f].data[g].x)));else b?(this.fallbackToCategory=!0,this.twoDSeriesX.push(i[f].data[g].x)):(c.isXNumeric=!0,c.dataFormatXNumeric=!0,this.twoDSeriesX.push(i[f].data[g].x))}if(i[r].data[0]&&i[r].data[0].z!==void 0){for(var k=0;k<i[r].data.length;k++)this.threeDSeries.push(i[r].data[k].z);c.isDataXYZ=!0}}},{key:"handleRangeData",value:function(i,r){var o=this.w.globals,c={};return this.isFormat2DArray()?c=this.handleRangeDataFormat("array",i,r):this.isFormatXY()&&(c=this.handleRangeDataFormat("xy",i,r)),o.seriesRangeStart.push(c.start),o.seriesRangeEnd.push(c.end),o.seriesRange.push(c.rangeUniques),o.seriesRange.forEach(function(h,f){h&&h.forEach(function(u,g){u.y.forEach(function(x,b){for(var w=0;w<u.y.length;w++)if(b!==w){var _=x.y1,k=x.y2,P=u.y[w].y1;_<=u.y[w].y2&&P<=k&&(u.overlaps.indexOf(x.rangeName)<0&&u.overlaps.push(x.rangeName),u.overlaps.indexOf(u.y[w].rangeName)<0&&u.overlaps.push(u.y[w].rangeName))}})})}),c}},{key:"handleCandleStickBoxData",value:function(i,r){var o=this.w.globals,c={};return this.isFormat2DArray()?c=this.handleCandleStickBoxDataFormat("array",i,r):this.isFormatXY()&&(c=this.handleCandleStickBoxDataFormat("xy",i,r)),o.seriesCandleO[r]=c.o,o.seriesCandleH[r]=c.h,o.seriesCandleM[r]=c.m,o.seriesCandleL[r]=c.l,o.seriesCandleC[r]=c.c,c}},{key:"handleRangeDataFormat",value:function(i,r,o){var c=[],h=[],f=r[o].data.filter(function(b,w,_){return w===_.findIndex(function(k){return k.x===b.x})}).map(function(b,w){return{x:b.x,overlaps:[],y:[]}});if(i==="array")for(var u=0;u<r[o].data.length;u++)Array.isArray(r[o].data[u])?(c.push(r[o].data[u][1][0]),h.push(r[o].data[u][1][1])):(c.push(r[o].data[u]),h.push(r[o].data[u]));else if(i==="xy")for(var g=function(b){var w=Array.isArray(r[o].data[b].y),_=S.randomId(),k=r[o].data[b].x,P={y1:w?r[o].data[b].y[0]:r[o].data[b].y,y2:w?r[o].data[b].y[1]:r[o].data[b].y,rangeName:_};r[o].data[b].rangeName=_;var R=f.findIndex(function(B){return B.x===k});f[R].y.push(P),c.push(P.y1),h.push(P.y2)},x=0;x<r[o].data.length;x++)g(x);return{start:c,end:h,rangeUniques:f}}},{key:"handleCandleStickBoxDataFormat",value:function(i,r,o){var c=this.w,h=c.config.chart.type==="boxPlot"||c.config.series[o].type==="boxPlot",f=[],u=[],g=[],x=[],b=[];if(i==="array")if(h&&r[o].data[0].length===6||!h&&r[o].data[0].length===5)for(var w=0;w<r[o].data.length;w++)f.push(r[o].data[w][1]),u.push(r[o].data[w][2]),h?(g.push(r[o].data[w][3]),x.push(r[o].data[w][4]),b.push(r[o].data[w][5])):(x.push(r[o].data[w][3]),b.push(r[o].data[w][4]));else for(var _=0;_<r[o].data.length;_++)Array.isArray(r[o].data[_][1])&&(f.push(r[o].data[_][1][0]),u.push(r[o].data[_][1][1]),h?(g.push(r[o].data[_][1][2]),x.push(r[o].data[_][1][3]),b.push(r[o].data[_][1][4])):(x.push(r[o].data[_][1][2]),b.push(r[o].data[_][1][3])));else if(i==="xy")for(var k=0;k<r[o].data.length;k++)Array.isArray(r[o].data[k].y)&&(f.push(r[o].data[k].y[0]),u.push(r[o].data[k].y[1]),h?(g.push(r[o].data[k].y[2]),x.push(r[o].data[k].y[3]),b.push(r[o].data[k].y[4])):(x.push(r[o].data[k].y[2]),b.push(r[o].data[k].y[3])));return{o:f,h:u,m:g,l:x,c:b}}},{key:"parseDataAxisCharts",value:function(i){var r=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,c=this.w.config,h=this.w.globals,f=new ae(o),u=c.labels.length>0?c.labels.slice():c.xaxis.categories.slice();h.isRangeBar=c.chart.type==="rangeBar"&&h.isBarHorizontal,h.hasGroups=c.xaxis.type==="category"&&c.xaxis.group.groups.length>0,h.hasGroups&&(h.groups=c.xaxis.group.groups);for(var g=function(){for(var w=0;w<u.length;w++)if(typeof u[w]=="string"){if(!f.isValidDate(u[w]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");r.twoDSeriesX.push(f.parseDate(u[w]))}else r.twoDSeriesX.push(u[w])},x=0;x<i.length;x++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],i[x].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(c.chart.type!=="rangeBar"&&c.chart.type!=="rangeArea"&&i[x].type!=="rangeBar"&&i[x].type!=="rangeArea"||(h.isRangeData=!0,h.isComboCharts?i[x].type!=="rangeBar"&&i[x].type!=="rangeArea"||this.handleRangeData(i,x):c.chart.type!=="rangeBar"&&c.chart.type!=="rangeArea"||this.handleRangeData(i,x)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(i,x):this.isFormatXY()&&this.handleFormatXY(i,x),c.chart.type!=="candlestick"&&i[x].type!=="candlestick"&&c.chart.type!=="boxPlot"&&i[x].type!=="boxPlot"||this.handleCandleStickBoxData(i,x),h.series.push(this.twoDSeries),h.labels.push(this.twoDSeriesX),h.seriesX.push(this.twoDSeriesX),h.seriesGoals=this.seriesGoals,x!==this.activeSeriesIndex||this.fallbackToCategory||(h.isXNumeric=!0);else{c.xaxis.type==="datetime"?(h.isXNumeric=!0,g(),h.seriesX.push(this.twoDSeriesX)):c.xaxis.type==="numeric"&&(h.isXNumeric=!0,u.length>0&&(this.twoDSeriesX=u,h.seriesX.push(this.twoDSeriesX))),h.labels.push(this.twoDSeriesX);var b=i[x].data.map(function(w){return S.parseNumber(w)});h.series.push(b)}h.seriesZ.push(this.threeDSeries),i[x].name!==void 0?h.seriesNames.push(i[x].name):h.seriesNames.push("series-"+parseInt(x+1,10)),i[x].color!==void 0?h.seriesColors.push(i[x].color):h.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(i){var r=this.w.globals,o=this.w.config;r.series=i.slice(),r.seriesNames=o.labels.slice();for(var c=0;c<r.series.length;c++)r.seriesNames[c]===void 0&&r.seriesNames.push("series-"+(c+1));return this.w}},{key:"handleExternalLabelsData",value:function(i){var r=this.w.config,o=this.w.globals;r.xaxis.categories.length>0?o.labels=r.xaxis.categories:r.labels.length>0?o.labels=r.labels.slice():this.fallbackToCategory?(o.labels=o.labels[0],o.seriesRange.length&&(o.seriesRange.map(function(c){c.forEach(function(h){o.labels.indexOf(h.x)<0&&h.x&&o.labels.push(h.x)})}),o.labels=o.labels.filter(function(c,h,f){return f.indexOf(c)===h})),r.xaxis.convertedCatToNumeric&&(new pe(r).convertCatToNumericXaxis(r,this.ctx,o.seriesX[0]),this._generateExternalLabels(i))):this._generateExternalLabels(i)}},{key:"_generateExternalLabels",value:function(i){var r=this.w.globals,o=this.w.config,c=[];if(r.axisCharts){if(r.series.length>0)if(this.isFormatXY())for(var h=o.series.map(function(w,_){return w.data.filter(function(k,P,R){return R.findIndex(function(B){return B.x===k.x})===P})}),f=h.reduce(function(w,_,k,P){return P[w].length>_.length?w:k},0),u=0;u<h[f].length;u++)c.push(u+1);else for(var g=0;g<r.series[r.maxValsInArrayIndex].length;g++)c.push(g+1);r.seriesX=[];for(var x=0;x<i.length;x++)r.seriesX.push(c);r.isXNumeric=!0}if(c.length===0){c=r.axisCharts?[]:r.series.map(function(w,_){return _+1});for(var b=0;b<i.length;b++)r.seriesX.push(c)}r.labels=c,o.xaxis.convertedCatToNumeric&&(r.categoryLabels=c.map(function(w){return o.xaxis.labels.formatter(w)})),r.noLabelsProvided=!0}},{key:"parseData",value:function(i){var r=this.w,o=r.config,c=r.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),c.axisCharts?(this.parseDataAxisCharts(i),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(i),o.chart.type==="bar"&&o.chart.stacked){var h=new ce(this.ctx);c.series=h.setNullSeriesToZeroValues(c.series)}this.coreUtils.getSeriesTotals(),c.axisCharts&&(c.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),c.dataFormatXNumeric||c.isXNumeric&&(o.xaxis.type!=="numeric"||o.labels.length!==0||o.xaxis.categories.length!==0)||this.handleExternalLabelsData(i);for(var f=this.coreUtils.getCategoryLabels(c.labels),u=0;u<f.length;u++)if(Array.isArray(f[u])){c.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var i=this,r=this.w;r.globals.ignoreYAxisIndexes=r.globals.collapsedSeries.map(function(o,c){if(i.w.globals.isMultipleYAxis&&!r.config.chart.stacked)return o.index})}}]),F}(),Ue=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.tooltipKeyFormat="dd MMM"}return p(F,[{key:"xLabelFormat",value:function(i,r,o,c){var h=this.w;if(h.config.xaxis.type==="datetime"&&h.config.xaxis.labels.formatter===void 0&&h.config.tooltip.x.formatter===void 0){var f=new ae(this.ctx);return f.formatDate(f.getDate(r),h.config.tooltip.x.format)}return i(r,o,c)}},{key:"defaultGeneralFormatter",value:function(i){return Array.isArray(i)?i.map(function(r){return r}):i}},{key:"defaultYFormatter",value:function(i,r,o){var c=this.w;return S.isNumber(i)&&(i=c.globals.yValueDecimal!==0?i.toFixed(r.decimalsInFloat!==void 0?r.decimalsInFloat:c.globals.yValueDecimal):c.globals.maxYArr[o]-c.globals.minYArr[o]<5?i.toFixed(1):i.toFixed(0)),i}},{key:"setLabelFormatters",value:function(){var i=this,r=this.w;return r.globals.xaxisTooltipFormatter=function(o){return i.defaultGeneralFormatter(o)},r.globals.ttKeyFormatter=function(o){return i.defaultGeneralFormatter(o)},r.globals.ttZFormatter=function(o){return o},r.globals.legendFormatter=function(o){return i.defaultGeneralFormatter(o)},r.config.xaxis.labels.formatter!==void 0?r.globals.xLabelFormatter=r.config.xaxis.labels.formatter:r.globals.xLabelFormatter=function(o){if(S.isNumber(o)){if(!r.config.xaxis.convertedCatToNumeric&&r.config.xaxis.type==="numeric"){if(S.isNumber(r.config.xaxis.decimalsInFloat))return o.toFixed(r.config.xaxis.decimalsInFloat);var c=r.globals.maxX-r.globals.minX;return c>0&&c<100?o.toFixed(1):o.toFixed(0)}return r.globals.isBarHorizontal&&r.globals.maxY-r.globals.minYArr<4?o.toFixed(1):o.toFixed(0)}return o},typeof r.config.tooltip.x.formatter=="function"?r.globals.ttKeyFormatter=r.config.tooltip.x.formatter:r.globals.ttKeyFormatter=r.globals.xLabelFormatter,typeof r.config.xaxis.tooltip.formatter=="function"&&(r.globals.xaxisTooltipFormatter=r.config.xaxis.tooltip.formatter),(Array.isArray(r.config.tooltip.y)||r.config.tooltip.y.formatter!==void 0)&&(r.globals.ttVal=r.config.tooltip.y),r.config.tooltip.z.formatter!==void 0&&(r.globals.ttZFormatter=r.config.tooltip.z.formatter),r.config.legend.formatter!==void 0&&(r.globals.legendFormatter=r.config.legend.formatter),r.config.yaxis.forEach(function(o,c){o.labels.formatter!==void 0?r.globals.yLabelFormatters[c]=o.labels.formatter:r.globals.yLabelFormatters[c]=function(h){return r.globals.xyCharts?Array.isArray(h)?h.map(function(f){return i.defaultYFormatter(f,o,c)}):i.defaultYFormatter(h,o,c):h}}),r.globals}},{key:"heatmapLabelFormatters",value:function(){var i=this.w;if(i.config.chart.type==="heatmap"){i.globals.yAxisScale[0].result=i.globals.seriesNames.slice();var r=i.globals.seriesNames.reduce(function(o,c){return o.length>c.length?o:c},0);i.globals.yAxisScale[0].niceMax=r,i.globals.yAxisScale[0].niceMin=r}}}]),F}(),$e=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"getLabel",value:function(i,r,o,c){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",u=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],g=this.w,x=i[c]===void 0?"":i[c],b=x,w=g.globals.xLabelFormatter,_=g.config.xaxis.labels.formatter,k=!1,P=new Ue(this.ctx),R=x;u&&(b=P.xLabelFormat(w,x,R,{i:c,dateFormatter:new ae(this.ctx).formatDate,w:g}),_!==void 0&&(b=_(x,i[c],{i:c,dateFormatter:new ae(this.ctx).formatDate,w:g})));var B=function(m){var A=null;return r.forEach(function(I){I.unit==="month"?A="year":I.unit==="day"?A="month":I.unit==="hour"?A="day":I.unit==="minute"&&(A="hour")}),A===m};r.length>0?(k=B(r[c].unit),o=r[c].position,b=r[c].value):g.config.xaxis.type==="datetime"&&_===void 0&&(b=""),b===void 0&&(b=""),b=Array.isArray(b)?b:b.toString();var V=new H(this.ctx),j={};j=g.globals.rotateXLabels&&u?V.getTextRects(b,parseInt(f,10),null,"rotate(".concat(g.config.xaxis.labels.rotate," 0 0)"),!1):V.getTextRects(b,parseInt(f,10));var U=!g.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(b)&&(b.indexOf("NaN")===0||b.toLowerCase().indexOf("invalid")===0||b.toLowerCase().indexOf("infinity")>=0||h.indexOf(b)>=0&&U)&&(b=""),{x:o,text:b,textRect:j,isBold:k}}},{key:"checkLabelBasedOnTickamount",value:function(i,r,o){var c=this.w,h=c.config.xaxis.tickAmount;return h==="dataPoints"&&(h=Math.round(c.globals.gridWidth/120)),h>o||i%Math.round(o/(h+1))==0||(r.text=""),r}},{key:"checkForOverflowingLabels",value:function(i,r,o,c,h){var f=this.w;if(i===0&&f.globals.skipFirstTimelinelabel&&(r.text=""),i===o-1&&f.globals.skipLastTimelinelabel&&(r.text=""),f.config.xaxis.labels.hideOverlappingLabels&&c.length>0){var u=h[h.length-1];r.x<u.textRect.width/(f.globals.rotateXLabels?Math.abs(f.config.xaxis.labels.rotate)/12:1.01)+u.x&&(r.text="")}return r}},{key:"checkForReversedLabels",value:function(i,r){var o=this.w;return o.config.yaxis[i]&&o.config.yaxis[i].reversed&&r.reverse(),r}},{key:"isYAxisHidden",value:function(i){var r=this.w,o=new $(this.ctx);return!r.config.yaxis[i].show||!r.config.yaxis[i].showForNullSeries&&o.isSeriesNull(i)&&r.globals.collapsedSeriesIndices.indexOf(i)===-1}},{key:"getYAxisForeColor",value:function(i,r){var o=this.w;return Array.isArray(i)&&o.globals.yAxisScale[r]&&this.ctx.theme.pushExtraColors(i,o.globals.yAxisScale[r].result.length,!1),i}},{key:"drawYAxisTicks",value:function(i,r,o,c,h,f,u){var g=this.w,x=new H(this.ctx),b=g.globals.translateY;if(c.show&&r>0){g.config.yaxis[h].opposite===!0&&(i+=c.width);for(var w=r;w>=0;w--){var _=b+r/10+g.config.yaxis[h].labels.offsetY-1;g.globals.isBarHorizontal&&(_=f*w),g.config.chart.type==="heatmap"&&(_+=f/2);var k=x.drawLine(i+o.offsetX-c.width+c.offsetX,_+c.offsetY,i+o.offsetX+c.offsetX,_+c.offsetY,c.color);u.add(k),b+=f}}}}]),F}(),Fe=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"scaleSvgNode",value:function(i,r){var o=parseFloat(i.getAttributeNS(null,"width")),c=parseFloat(i.getAttributeNS(null,"height"));i.setAttributeNS(null,"width",o*r),i.setAttributeNS(null,"height",c*r),i.setAttributeNS(null,"viewBox","0 0 "+o+" "+c)}},{key:"fixSvgStringForIe11",value:function(i){if(!S.isIE11())return i.replace(/&nbsp;/g,"&#160;");var r=0,o=i.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(c){return++r===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':c});return o=(o=o.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(i){i==null&&(i=1);var r=this.w.globals.dom.Paper.svg();if(i!==1){var o=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(o,i),r=new XMLSerializer().serializeToString(o)}return this.fixSvgStringForIe11(r)}},{key:"cleanup",value:function(){var i=this.w,r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),c=i.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(c,function(h){h.setAttribute("width",0)}),r&&r[0]&&(r[0].setAttribute("x",-500),r[0].setAttribute("x1",-500),r[0].setAttribute("x2",-500)),o&&o[0]&&(o[0].setAttribute("y",-100),o[0].setAttribute("y1",-100),o[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var i=this.getSvgString(),r=new Blob([i],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(r)}},{key:"dataURI",value:function(i){var r=this;return new Promise(function(o){var c=r.w,h=i?i.scale||i.width/c.globals.svgWidth:1;r.cleanup();var f=document.createElement("canvas");f.width=c.globals.svgWidth*h,f.height=parseInt(c.globals.dom.elWrap.style.height,10)*h;var u=c.config.chart.background==="transparent"?"#fff":c.config.chart.background,g=f.getContext("2d");g.fillStyle=u,g.fillRect(0,0,f.width*h,f.height*h);var x=r.getSvgString(h);if(window.canvg&&S.isIE11()){var b=window.canvg.Canvg.fromString(g,x,{ignoreClear:!0,ignoreDimensions:!0});b.start();var w=f.msToBlob();b.stop(),o({blob:w})}else{var _="data:image/svg+xml,"+encodeURIComponent(x),k=new Image;k.crossOrigin="anonymous",k.onload=function(){if(g.drawImage(k,0,0),f.msToBlob){var P=f.msToBlob();o({blob:P})}else{var R=f.toDataURL("image/png");o({imgURI:R})}},k.src=_}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var i=this;this.dataURI().then(function(r){var o=r.imgURI,c=r.blob;c?navigator.msSaveOrOpenBlob(c,i.w.globals.chartID+".png"):i.triggerDownload(o,i.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(i){var r=this,o=i.series,c=i.fileName,h=i.columnDelimiter,f=h===void 0?",":h,u=i.lineDelimiter,g=u===void 0?`
`:u,x=this.w;o||(o=x.config.series);var b=[],w=[],_="",k=x.globals.series.map(function(U,m){return x.globals.collapsedSeriesIndices.indexOf(m)===-1?U:[]}),P=Math.max.apply(Math,N(o.map(function(U){return U.data?U.data.length:0}))),R=new dt(this.ctx),B=new $e(this.ctx),V=function(U){var m="";if(x.globals.axisCharts){if(x.config.xaxis.type==="category"||x.config.xaxis.convertedCatToNumeric)if(x.globals.isBarHorizontal){var A=x.globals.yLabelFormatters[0],I=new ce(r.ctx).getActiveConfigSeriesIndex();m=A(x.globals.labels[U],{seriesIndex:I,dataPointIndex:U,w:x})}else m=B.getLabel(x.globals.labels,x.globals.timescaleLabels,0,U).text;x.config.xaxis.type==="datetime"&&(x.config.xaxis.categories.length?m=x.config.xaxis.categories[U]:x.config.labels.length&&(m=x.config.labels[U]))}else m=x.config.labels[U];return Array.isArray(m)&&(m=m.join(" ")),S.isNumber(m)?m:m.split(f).join("")},j=function(U,m){if(b.length&&m===0&&w.push(b.join(f)),U.data){U.data=U.data.length&&U.data||N(Array(P)).map(function(){return""});for(var A=0;A<U.data.length;A++){b=[];var I=V(A);if(I||(R.isFormatXY()?I=o[m].data[A].x:R.isFormat2DArray()&&(I=o[m].data[A]?o[m].data[A][0]:"")),m===0){b.push((X=I,x.config.xaxis.type==="datetime"&&String(X).length>=10?x.config.chart.toolbar.export.csv.dateFormatter(I):S.isNumber(I)?I:I.split(f).join("")));for(var O=0;O<x.globals.series.length;O++)R.isFormatXY()?b.push(o[O].data[A].y):b.push(k[O][A])}(x.config.chart.type==="candlestick"||U.type&&U.type==="candlestick")&&(b.pop(),b.push(x.globals.seriesCandleO[m][A]),b.push(x.globals.seriesCandleH[m][A]),b.push(x.globals.seriesCandleL[m][A]),b.push(x.globals.seriesCandleC[m][A])),(x.config.chart.type==="boxPlot"||U.type&&U.type==="boxPlot")&&(b.pop(),b.push(x.globals.seriesCandleO[m][A]),b.push(x.globals.seriesCandleH[m][A]),b.push(x.globals.seriesCandleM[m][A]),b.push(x.globals.seriesCandleL[m][A]),b.push(x.globals.seriesCandleC[m][A])),x.config.chart.type==="rangeBar"&&(b.pop(),b.push(x.globals.seriesRangeStart[m][A]),b.push(x.globals.seriesRangeEnd[m][A])),b.length&&w.push(b.join(f))}}var X};b.push(x.config.chart.toolbar.export.csv.headerCategory),x.config.chart.type==="boxPlot"?(b.push("minimum"),b.push("q1"),b.push("median"),b.push("q3"),b.push("maximum")):x.config.chart.type==="candlestick"?(b.push("open"),b.push("high"),b.push("low"),b.push("close")):x.config.chart.type==="rangeBar"?(b.push("minimum"),b.push("maximum")):o.map(function(U,m){var A=U.name?U.name:"series-".concat(m);x.globals.axisCharts&&b.push(A.split(f).join("")?A.split(f).join(""):"series-".concat(m))}),x.globals.axisCharts||(b.push(x.config.chart.toolbar.export.csv.headerValue),w.push(b.join(f))),o.map(function(U,m){x.globals.axisCharts?j(U,m):((b=[]).push(x.globals.labels[m].split(f).join("")),b.push(k[m]),w.push(b.join(f)))}),_+=w.join(g),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+_),c||x.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(i,r,o){var c=document.createElement("a");c.href=i,c.download=(r||this.w.globals.chartID)+o,document.body.appendChild(c),c.click(),document.body.removeChild(c)}}]),F}(),ct=function(){function F(i,r){l(this,F),this.ctx=i,this.elgrid=r,this.w=i.w;var o=this.w;this.axesUtils=new $e(i),this.xaxisLabels=o.globals.labels.slice(),o.globals.timescaleLabels.length>0&&!o.globals.isBarHorizontal&&(this.xaxisLabels=o.globals.timescaleLabels.slice()),o.config.xaxis.overwriteCategories&&(this.xaxisLabels=o.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],o.config.xaxis.position==="top"?this.offY=0:this.offY=o.globals.gridHeight+1,this.offY=this.offY+o.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=o.config.chart.type==="bar"&&o.config.plotOptions.bar.horizontal,this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.xaxisBorderWidth=o.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=o.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=o.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=o.config.xaxis.axisBorder.height,this.yaxis=o.config.yaxis[0]}return p(F,[{key:"drawXaxis",value:function(){var i=this.w,r=new H(this.ctx),o=r.group({class:"apexcharts-xaxis",transform:"translate(".concat(i.config.xaxis.offsetX,", ").concat(i.config.xaxis.offsetY,")")}),c=r.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(i.globals.translateXAxisX,", ").concat(i.globals.translateXAxisY,")")});o.add(c);for(var h=[],f=0;f<this.xaxisLabels.length;f++)h.push(this.xaxisLabels[f]);if(this.drawXAxisLabelAndGroup(!0,r,c,h,i.globals.isXNumeric,function(P,R){return R}),i.globals.hasGroups){var u=i.globals.groups;h=[];for(var g=0;g<u.length;g++)h.push(u[g].title);var x={};i.config.xaxis.group.style&&(x.xaxisFontSize=i.config.xaxis.group.style.fontSize,x.xaxisFontFamily=i.config.xaxis.group.style.fontFamily,x.xaxisForeColors=i.config.xaxis.group.style.colors,x.fontWeight=i.config.xaxis.group.style.fontWeight,x.cssClass=i.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,r,c,h,!1,function(P,R){return u[P].cols*R},x)}if(i.config.xaxis.title.text!==void 0){var b=r.group({class:"apexcharts-xaxis-title"}),w=r.drawText({x:i.globals.gridWidth/2+i.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(i.config.xaxis.title.position==="bottom"?i.globals.xAxisLabelsHeight:-i.globals.xAxisLabelsHeight-10)+i.config.xaxis.title.offsetY,text:i.config.xaxis.title.text,textAnchor:"middle",fontSize:i.config.xaxis.title.style.fontSize,fontFamily:i.config.xaxis.title.style.fontFamily,fontWeight:i.config.xaxis.title.style.fontWeight,foreColor:i.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+i.config.xaxis.title.style.cssClass});b.add(w),o.add(b)}if(i.config.xaxis.axisBorder.show){var _=i.globals.barPadForNumericAxis,k=r.drawLine(i.globals.padHorizontal+i.config.xaxis.axisBorder.offsetX-_,this.offY,this.xaxisBorderWidth+_,this.offY,i.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(k):o.add(k)}return o}},{key:"drawXAxisLabelAndGroup",value:function(i,r,o,c,h,f){var u,g=this,x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},b=[],w=[],_=this.w,k=x.xaxisFontSize||this.xaxisFontSize,P=x.xaxisFontFamily||this.xaxisFontFamily,R=x.xaxisForeColors||this.xaxisForeColors,B=x.fontWeight||_.config.xaxis.labels.style.fontWeight,V=x.cssClass||_.config.xaxis.labels.style.cssClass,j=_.globals.padHorizontal,U=c.length,m=_.config.xaxis.type==="category"?_.globals.dataPoints:U;if(m===0&&U>m&&(m=U),h){var A=m>1?m-1:m;u=_.globals.gridWidth/A,j=j+f(0,u)/2+_.config.xaxis.labels.offsetX}else u=_.globals.gridWidth/m,j=j+f(0,u)+_.config.xaxis.labels.offsetX;for(var I=function(X){var te=j-f(X,u)/2+_.config.xaxis.labels.offsetX;X===0&&U===1&&u/2===j&&m===1&&(te=_.globals.gridWidth/2);var ee=g.axesUtils.getLabel(c,_.globals.timescaleLabels,te,X,b,k,i),Se=28;if(_.globals.rotateXLabels&&i&&(Se=22),_.config.xaxis.title.text&&_.config.xaxis.position==="top"&&(Se+=parseFloat(_.config.xaxis.title.style.fontSize)+2),i||(Se=Se+parseFloat(k)+(_.globals.xAxisLabelsHeight-_.globals.xAxisGroupLabelsHeight)+(_.globals.rotateXLabels?10:0)),ee=_.config.xaxis.tickAmount!==void 0&&_.config.xaxis.tickAmount!=="dataPoints"&&_.config.xaxis.type!=="datetime"?g.axesUtils.checkLabelBasedOnTickamount(X,ee,U):g.axesUtils.checkForOverflowingLabels(X,ee,U,b,w),i&&ee.text&&_.globals.xaxisLabelsCount++,_.config.xaxis.labels.show){var _e=r.drawText({x:ee.x,y:g.offY+_.config.xaxis.labels.offsetY+Se-(_.config.xaxis.position==="top"?_.globals.xAxisHeight+_.config.xaxis.axisTicks.height-2:0),text:ee.text,textAnchor:"middle",fontWeight:ee.isBold?600:B,fontSize:k,fontFamily:P,foreColor:Array.isArray(R)?i&&_.config.xaxis.convertedCatToNumeric?R[_.globals.minX+X-1]:R[X]:R,isPlainText:!1,cssClass:(i?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+V});if(o.add(_e),_e.on("click",function(Oe){if(typeof _.config.chart.events.xAxisLabelClick=="function"){var St=Object.assign({},_,{labelIndex:X});_.config.chart.events.xAxisLabelClick(Oe,g.ctx,St)}}),i){var Le=document.createElementNS(_.globals.SVGNS,"title");Le.textContent=Array.isArray(ee.text)?ee.text.join(" "):ee.text,_e.node.appendChild(Le),ee.text!==""&&(b.push(ee.text),w.push(ee))}}X<U-1&&(j+=f(X+1,u))},O=0;O<=U-1;O++)I(O)}},{key:"drawXaxisInversed",value:function(i){var r,o,c=this,h=this.w,f=new H(this.ctx),u=h.config.yaxis[0].opposite?h.globals.translateYAxisX[i]:0,g=f.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:i}),x=f.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+u+", 0)"});g.add(x);var b=[];if(h.config.yaxis[i].show)for(var w=0;w<this.xaxisLabels.length;w++)b.push(this.xaxisLabels[w]);r=h.globals.gridHeight/b.length,o=-r/2.2;var _=h.globals.yLabelFormatters[0],k=h.config.yaxis[0].labels;if(k.show)for(var P=function(A){var I=b[A]===void 0?"":b[A];I=_(I,{seriesIndex:i,dataPointIndex:A,w:h});var O=c.axesUtils.getYAxisForeColor(k.style.colors,i),X=0;Array.isArray(I)&&(X=I.length/2*parseInt(k.style.fontSize,10));var te=f.drawText({x:k.offsetX-15,y:o+r+k.offsetY-X,text:I,textAnchor:c.yaxis.opposite?"start":"end",foreColor:Array.isArray(O)?O[A]:O,fontSize:k.style.fontSize,fontFamily:k.style.fontFamily,fontWeight:k.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+k.style.cssClass,maxWidth:k.maxWidth});x.add(te),te.on("click",function(_e){if(typeof h.config.chart.events.xAxisLabelClick=="function"){var Le=Object.assign({},h,{labelIndex:A});h.config.chart.events.xAxisLabelClick(_e,c.ctx,Le)}});var ee=document.createElementNS(h.globals.SVGNS,"title");if(ee.textContent=Array.isArray(I)?I.join(" "):I,te.node.appendChild(ee),h.config.yaxis[i].labels.rotate!==0){var Se=f.rotateAroundCenter(te.node);te.node.setAttribute("transform","rotate(".concat(h.config.yaxis[i].labels.rotate," 0 ").concat(Se.y,")"))}o+=r},R=0;R<=b.length-1;R++)P(R);if(h.config.yaxis[0].title.text!==void 0){var B=f.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+u+", 0)"}),V=f.drawText({x:h.config.yaxis[0].title.offsetX,y:h.globals.gridHeight/2+h.config.yaxis[0].title.offsetY,text:h.config.yaxis[0].title.text,textAnchor:"middle",foreColor:h.config.yaxis[0].title.style.color,fontSize:h.config.yaxis[0].title.style.fontSize,fontWeight:h.config.yaxis[0].title.style.fontWeight,fontFamily:h.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+h.config.yaxis[0].title.style.cssClass});B.add(V),g.add(B)}var j=0;this.isCategoryBarHorizontal&&h.config.yaxis[0].opposite&&(j=h.globals.gridWidth);var U=h.config.xaxis.axisBorder;if(U.show){var m=f.drawLine(h.globals.padHorizontal+U.offsetX+j,1+U.offsetY,h.globals.padHorizontal+U.offsetX+j,h.globals.gridHeight+U.offsetY,U.color,0);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(m):g.add(m)}return h.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(j,b.length,h.config.yaxis[0].axisBorder,h.config.yaxis[0].axisTicks,0,r,g),g}},{key:"drawXaxisTicks",value:function(i,r,o){var c=this.w,h=i;if(!(i<0||i-2>c.globals.gridWidth)){var f=this.offY+c.config.xaxis.axisTicks.offsetY;if(r=r+f+c.config.xaxis.axisTicks.height,c.config.xaxis.position==="top"&&(r=f-c.config.xaxis.axisTicks.height),c.config.xaxis.axisTicks.show){var u=new H(this.ctx).drawLine(i+c.config.xaxis.axisTicks.offsetX,f+c.config.xaxis.offsetY,h+c.config.xaxis.axisTicks.offsetX,r+c.config.xaxis.offsetY,c.config.xaxis.axisTicks.color);o.add(u),u.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var i=this.w,r=[],o=this.xaxisLabels.length,c=i.globals.padHorizontal;if(i.globals.timescaleLabels.length>0)for(var h=0;h<o;h++)c=this.xaxisLabels[h].position,r.push(c);else for(var f=o,u=0;u<f;u++){var g=f;i.globals.isXNumeric&&i.config.chart.type!=="bar"&&(g-=1),c+=i.globals.gridWidth/g,r.push(c)}return r}},{key:"xAxisLabelCorrections",value:function(){var i=this.w,r=new H(this.ctx),o=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),c=i.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),h=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),f=i.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(i.globals.rotateXLabels||i.config.xaxis.labels.rotateAlways)for(var u=0;u<c.length;u++){var g=r.rotateAroundCenter(c[u]);g.y=g.y-1,g.x=g.x+1,c[u].setAttribute("transform","rotate(".concat(i.config.xaxis.labels.rotate," ").concat(g.x," ").concat(g.y,")")),c[u].setAttribute("text-anchor","end"),o.setAttribute("transform","translate(0, ".concat(-10,")"));var x=c[u].childNodes;i.config.xaxis.labels.trim&&Array.prototype.forEach.call(x,function(k){r.placeTextWithEllipsis(k,k.textContent,i.globals.xAxisLabelsHeight-(i.config.legend.position==="bottom"?20:10))})}else(function(){for(var k=i.globals.gridWidth/(i.globals.labels.length+1),P=0;P<c.length;P++){var R=c[P].childNodes;i.config.xaxis.labels.trim&&i.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(R,function(B){r.placeTextWithEllipsis(B,B.textContent,k)})}})();if(h.length>0){var b=h[h.length-1].getBBox(),w=h[0].getBBox();b.x<-20&&h[h.length-1].parentNode.removeChild(h[h.length-1]),w.x+w.width>i.globals.gridWidth&&!i.globals.isBarHorizontal&&h[0].parentNode.removeChild(h[0]);for(var _=0;_<f.length;_++)r.placeTextWithEllipsis(f[_],f[_].textContent,i.config.yaxis[0].labels.maxWidth-(i.config.yaxis[0].title.text?2*parseFloat(i.config.yaxis[0].title.style.fontSize):0)-15)}}}]),F}(),it=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w;var r=this.w;this.xaxisLabels=r.globals.labels.slice(),this.axesUtils=new $e(i),this.isRangeBar=r.globals.seriesRange.length,r.globals.timescaleLabels.length>0&&(this.xaxisLabels=r.globals.timescaleLabels.slice())}return p(F,[{key:"drawGridArea",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.w,o=new H(this.ctx);i===null&&(i=o.group({class:"apexcharts-grid"}));var c=o.drawLine(r.globals.padHorizontal,1,r.globals.padHorizontal,r.globals.gridHeight,"transparent"),h=o.drawLine(r.globals.padHorizontal,r.globals.gridHeight,r.globals.gridWidth,r.globals.gridHeight,"transparent");return i.add(h),i.add(c),i}},{key:"drawGrid",value:function(){var i=null;return this.w.globals.axisCharts&&(i=this.renderGrid(),this.drawGridArea(i.el)),i}},{key:"createGridMask",value:function(){var i=this.w,r=i.globals,o=new H(this.ctx),c=Array.isArray(i.config.stroke.width)?0:i.config.stroke.width;if(Array.isArray(i.config.stroke.width)){var h=0;i.config.stroke.width.forEach(function(w){h=Math.max(h,w)}),c=h}r.dom.elGridRectMask=document.createElementNS(r.SVGNS,"clipPath"),r.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(r.cuid)),r.dom.elGridRectMarkerMask=document.createElementNS(r.SVGNS,"clipPath"),r.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(r.cuid)),r.dom.elForecastMask=document.createElementNS(r.SVGNS,"clipPath"),r.dom.elForecastMask.setAttribute("id","forecastMask".concat(r.cuid)),r.dom.elNonForecastMask=document.createElementNS(r.SVGNS,"clipPath"),r.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(r.cuid));var f=i.config.chart.type,u=0,g=0;(f==="bar"||f==="rangeBar"||f==="candlestick"||f==="boxPlot"||i.globals.comboBarCount>0)&&i.globals.isXNumeric&&!i.globals.isBarHorizontal&&(u=i.config.grid.padding.left,g=i.config.grid.padding.right,r.barPadForNumericAxis>u&&(u=r.barPadForNumericAxis,g=r.barPadForNumericAxis)),r.dom.elGridRect=o.drawRect(-c/2-u-2,-c/2,r.gridWidth+c+g+u+4,r.gridHeight+c,0,"#fff");var x=i.globals.markers.largestSize+1;r.dom.elGridRectMarker=o.drawRect(2*-x,2*-x,r.gridWidth+4*x,r.gridHeight+4*x,0,"#fff"),r.dom.elGridRectMask.appendChild(r.dom.elGridRect.node),r.dom.elGridRectMarkerMask.appendChild(r.dom.elGridRectMarker.node);var b=r.dom.baseEl.querySelector("defs");b.appendChild(r.dom.elGridRectMask),b.appendChild(r.dom.elForecastMask),b.appendChild(r.dom.elNonForecastMask),b.appendChild(r.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(i){var r=i.i,o=i.x1,c=i.y1,h=i.x2,f=i.y2,u=i.xCount,g=i.parent,x=this.w;if(!(r===0&&x.globals.skipFirstTimelinelabel||r===u-1&&x.globals.skipLastTimelinelabel&&!x.config.xaxis.labels.formatter||x.config.chart.type==="radar")){x.config.grid.xaxis.lines.show&&this._drawGridLine({i:r,x1:o,y1:c,x2:h,y2:f,xCount:u,parent:g});var b=0;if(x.globals.hasGroups&&x.config.xaxis.tickPlacement==="between"){var w=x.globals.groups;if(w){for(var _=0,k=0;_<r&&k<w.length;k++)_+=w[k].cols;_===r&&(b=.6*x.globals.xAxisLabelsHeight)}}new ct(this.ctx).drawXaxisTicks(o,b,x.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(i){var r=i.i,o=i.x1,c=i.y1,h=i.x2,f=i.y2,u=i.xCount,g=i.parent,x=this.w,b=!1,w=g.node.classList.contains("apexcharts-gridlines-horizontal"),_=x.config.grid.strokeDashArray,k=x.globals.barPadForNumericAxis;(c===0&&f===0||o===0&&h===0)&&(b=!0),c===x.globals.gridHeight&&f===x.globals.gridHeight&&(b=!0),!x.globals.isBarHorizontal||r!==0&&r!==u-1||(b=!0);var P=new H(this).drawLine(o-(w?k:0),c,h+(w?k:0),f,x.config.grid.borderColor,_);P.node.classList.add("apexcharts-gridline"),b?this.elGridBorders.add(P):g.add(P)}},{key:"_drawGridBandRect",value:function(i){var r=i.c,o=i.x1,c=i.y1,h=i.x2,f=i.y2,u=i.type,g=this.w,x=new H(this.ctx),b=g.globals.barPadForNumericAxis;if(u!=="column"||g.config.xaxis.type!=="datetime"){var w=g.config.grid[u].colors[r],_=x.drawRect(o-(u==="row"?b:0),c,h+(u==="row"?2*b:0),f,0,w,g.config.grid[u].opacity);this.elg.add(_),_.attr("clip-path","url(#gridRectMask".concat(g.globals.cuid,")")),_.node.classList.add("apexcharts-grid-".concat(u))}}},{key:"_drawXYLines",value:function(i){var r=this,o=i.xCount,c=i.tickAmount,h=this.w;if(h.config.grid.xaxis.lines.show||h.config.xaxis.axisTicks.show){var f,u=h.globals.padHorizontal,g=h.globals.gridHeight;h.globals.timescaleLabels.length?function(P){for(var R=P.xC,B=P.x1,V=P.y1,j=P.x2,U=P.y2,m=0;m<R;m++)B=r.xaxisLabels[m].position,j=r.xaxisLabels[m].position,r._drawGridLines({i:m,x1:B,y1:V,x2:j,y2:U,xCount:o,parent:r.elgridLinesV})}({xC:o,x1:u,y1:0,x2:f,y2:g}):(h.globals.isXNumeric&&(o=h.globals.xAxisScale.result.length),h.config.xaxis.convertedCatToNumeric&&(o=h.globals.xaxisLabelsCount),function(P){var R=P.xC,B=P.x1,V=P.y1,j=P.x2,U=P.y2;if(h.config.xaxis.tickAmount!==void 0&&h.config.xaxis.tickAmount!=="dataPoints"&&h.config.xaxis.tickPlacement==="on")h.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(A,I){var O=A.getBBox();r._drawGridLines({i:I,x1:O.x+O.width/2,y1:V,x2:O.x+O.width/2,y2:U,xCount:o,parent:r.elgridLinesV})});else for(var m=0;m<R+(h.globals.isXNumeric?0:1);m++)m===0&&R===1&&h.globals.dataPoints===1&&(j=B=h.globals.gridWidth/2),r._drawGridLines({i:m,x1:B,y1:V,x2:j,y2:U,xCount:o,parent:r.elgridLinesV}),j=B+=h.globals.gridWidth/(h.globals.isXNumeric?R-1:R)}({xC:o,x1:u,y1:0,x2:f,y2:g}))}if(h.config.grid.yaxis.lines.show){var x=0,b=0,w=h.globals.gridWidth,_=c+1;this.isRangeBar&&(_=h.globals.labels.length);for(var k=0;k<_+(this.isRangeBar?1:0);k++)this._drawGridLine({i:k,xCount:_+(this.isRangeBar?1:0),x1:0,y1:x,x2:w,y2:b,parent:this.elgridLinesH}),b=x+=h.globals.gridHeight/(this.isRangeBar?_:c)}}},{key:"_drawInvertedXYLines",value:function(i){var r=i.xCount,o=this.w;if(o.config.grid.xaxis.lines.show||o.config.xaxis.axisTicks.show)for(var c,h=o.globals.padHorizontal,f=o.globals.gridHeight,u=0;u<r+1;u++)o.config.grid.xaxis.lines.show&&this._drawGridLine({i:u,xCount:r+1,x1:h,y1:0,x2:c,y2:f,parent:this.elgridLinesV}),new ct(this.ctx).drawXaxisTicks(h,0,o.globals.dom.elGraphical),c=h=h+o.globals.gridWidth/r+.3;if(o.config.grid.yaxis.lines.show)for(var g=0,x=0,b=o.globals.gridWidth,w=0;w<o.globals.dataPoints+1;w++)this._drawGridLine({i:w,xCount:o.globals.dataPoints+1,x1:0,y1:g,x2:b,y2:x,parent:this.elgridLinesH}),x=g+=o.globals.gridHeight/o.globals.dataPoints}},{key:"renderGrid",value:function(){var i=this.w,r=new H(this.ctx);this.elg=r.group({class:"apexcharts-grid"}),this.elgridLinesH=r.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=r.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=r.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),i.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var o,c=i.globals.yAxisScale.length?i.globals.yAxisScale[0].result.length-1:5,h=0;h<i.globals.series.length&&(i.globals.yAxisScale[h]!==void 0&&(c=i.globals.yAxisScale[h].result.length-1),!(c>2));h++);return!i.globals.isBarHorizontal||this.isRangeBar?(o=this.xaxisLabels.length,this.isRangeBar&&(c=i.globals.labels.length,i.config.xaxis.tickAmount&&i.config.xaxis.labels.formatter&&(o=i.config.xaxis.tickAmount)),this._drawXYLines({xCount:o,tickAmount:c})):(o=c,c=i.globals.xTickAmount,this._drawInvertedXYLines({xCount:o,tickAmount:c})),this.drawGridBands(o,c),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:i.globals.gridWidth/o}}},{key:"drawGridBands",value:function(i,r){var o=this.w;if(o.config.grid.row.colors!==void 0&&o.config.grid.row.colors.length>0)for(var c=0,h=o.globals.gridHeight/r,f=o.globals.gridWidth,u=0,g=0;u<r;u++,g++)g>=o.config.grid.row.colors.length&&(g=0),this._drawGridBandRect({c:g,x1:0,y1:c,x2:f,y2:h,type:"row"}),c+=o.globals.gridHeight/r;if(o.config.grid.column.colors!==void 0&&o.config.grid.column.colors.length>0)for(var x=o.globals.isBarHorizontal||o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric?i:i-1,b=o.globals.padHorizontal,w=o.globals.padHorizontal+o.globals.gridWidth/x,_=o.globals.gridHeight,k=0,P=0;k<i;k++,P++)P>=o.config.grid.column.colors.length&&(P=0),this._drawGridBandRect({c:P,x1:b,y1:0,x2:w,y2:_,type:"column"}),b+=o.globals.gridWidth/x}}]),F}(),ye=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"niceScale",value:function(i,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4?arguments[4]:void 0,f=this.w,u=Math.abs(r-i);if((o=this._adjustTicksForSmallRange(o,c,u))==="dataPoints"&&(o=f.globals.dataPoints-1),i===Number.MIN_VALUE&&r===0||!S.isNumber(i)&&!S.isNumber(r)||i===Number.MIN_VALUE&&r===-Number.MAX_VALUE){i=0,r=o;var g=this.linearScale(i,r,o);return g}i>r?(console.warn("axis.min cannot be greater than axis.max"),r=i+.1):i===r&&(i=i===0?0:i-.5,r=r===0?2:r+.5);var x=[];u<1&&h&&(f.config.chart.type==="candlestick"||f.config.series[c].type==="candlestick"||f.config.chart.type==="boxPlot"||f.config.series[c].type==="boxPlot"||f.globals.isRangeData)&&(r*=1.01);var b=o+1;b<2?b=2:b>2&&(b-=2);var w=u/b,_=Math.floor(S.log10(w)),k=Math.pow(10,_),P=Math.round(w/k);P<1&&(P=1);var R=P*k,B=R*Math.floor(i/R),V=R*Math.ceil(r/R),j=B;if(h&&u>2){for(;x.push(j),!((j+=R)>V););return{result:x,niceMin:x[0],niceMax:x[x.length-1]}}var U=i;(x=[]).push(U);for(var m=Math.abs(r-i)/o,A=0;A<=o;A++)U+=m,x.push(U);return x[x.length-2]>=r&&x.pop(),{result:x,niceMin:x[0],niceMax:x[x.length-1]}}},{key:"linearScale",value:function(i,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,c=arguments.length>3?arguments[3]:void 0,h=Math.abs(r-i);(o=this._adjustTicksForSmallRange(o,c,h))==="dataPoints"&&(o=this.w.globals.dataPoints-1);var f=h/o;o===Number.MAX_VALUE&&(o=10,f=1);for(var u=[],g=i;o>=0;)u.push(g),g+=f,o-=1;return{result:u,niceMin:u[0],niceMax:u[u.length-1]}}},{key:"logarithmicScaleNice",value:function(i,r,o){r<=0&&(r=Math.max(i,o)),i<=0&&(i=Math.min(r,o));for(var c=[],h=Math.ceil(Math.log(r)/Math.log(o)+1),f=Math.floor(Math.log(i)/Math.log(o));f<h;f++)c.push(Math.pow(o,f));return{result:c,niceMin:c[0],niceMax:c[c.length-1]}}},{key:"logarithmicScale",value:function(i,r,o){r<=0&&(r=Math.max(i,o)),i<=0&&(i=Math.min(r,o));for(var c=[],h=Math.log(r)/Math.log(o),f=Math.log(i)/Math.log(o),u=h-f,g=Math.round(u),x=u/g,b=0,w=f;b<g;b++,w+=x)c.push(Math.pow(o,w));return c.push(Math.pow(o,h)),{result:c,niceMin:i,niceMax:r}}},{key:"_adjustTicksForSmallRange",value:function(i,r,o){var c=i;if(r!==void 0&&this.w.config.yaxis[r].labels.formatter&&this.w.config.yaxis[r].tickAmount===void 0){var h=this.w.config.yaxis[r].labels.formatter(1);S.isNumber(Number(h))&&!S.isFloat(h)&&(c=Math.ceil(o))}return c<i?c:i}},{key:"setYScaleForIndex",value:function(i,r,o){var c=this.w.globals,h=this.w.config,f=c.isBarHorizontal?h.xaxis:h.yaxis[i];c.yAxisScale[i]===void 0&&(c.yAxisScale[i]=[]);var u=Math.abs(o-r);if(f.logarithmic&&u<=5&&(c.invalidLogScale=!0),f.logarithmic&&u>5)c.allSeriesCollapsed=!1,c.yAxisScale[i]=this.logarithmicScale(r,o,f.logBase),c.yAxisScale[i]=f.forceNiceScale?this.logarithmicScaleNice(r,o,f.logBase):this.logarithmicScale(r,o,f.logBase);else if(o!==-Number.MAX_VALUE&&S.isNumber(o))if(c.allSeriesCollapsed=!1,f.min===void 0&&f.max===void 0||f.forceNiceScale){var g=h.yaxis[i].max===void 0&&h.yaxis[i].min===void 0||h.yaxis[i].forceNiceScale;c.yAxisScale[i]=this.niceScale(r,o,f.tickAmount?f.tickAmount:u<5&&u>1?u+1:5,i,g)}else c.yAxisScale[i]=this.linearScale(r,o,f.tickAmount,i);else c.yAxisScale[i]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(i,r){var o=this.w,c=o.globals,h=o.config.xaxis,f=Math.abs(r-i);return r!==-Number.MAX_VALUE&&S.isNumber(r)?c.xAxisScale=this.linearScale(i,r,h.tickAmount?h.tickAmount:f<5&&f>1?f+1:5,0):c.xAxisScale=this.linearScale(0,5,5),c.xAxisScale}},{key:"setMultipleYScales",value:function(){var i=this,r=this.w.globals,o=this.w.config,c=r.minYArr.concat([]),h=r.maxYArr.concat([]),f=[];o.yaxis.forEach(function(u,g){var x=g;o.series.forEach(function(_,k){_.name===u.seriesName&&(x=k,g!==k?f.push({index:k,similarIndex:g,alreadyExists:!0}):f.push({index:k}))});var b=c[x],w=h[x];i.setYScaleForIndex(g,b,w)}),this.sameScaleInMultipleAxes(c,h,f)}},{key:"sameScaleInMultipleAxes",value:function(i,r,o){var c=this,h=this.w.config,f=this.w.globals,u=[];o.forEach(function(R){R.alreadyExists&&(u[R.index]===void 0&&(u[R.index]=[]),u[R.index].push(R.index),u[R.index].push(R.similarIndex))}),f.yAxisSameScaleIndices=u,u.forEach(function(R,B){u.forEach(function(V,j){var U,m;B!==j&&(U=R,m=V,U.filter(function(A){return m.indexOf(A)!==-1})).length>0&&(u[B]=u[B].concat(u[j]))})});var g=u.map(function(R){return R.filter(function(B,V){return R.indexOf(B)===V})}).map(function(R){return R.sort()});u=u.filter(function(R){return!!R});var x=g.slice(),b=x.map(function(R){return JSON.stringify(R)});x=x.filter(function(R,B){return b.indexOf(JSON.stringify(R))===B});var w=[],_=[];i.forEach(function(R,B){x.forEach(function(V,j){V.indexOf(B)>-1&&(w[j]===void 0&&(w[j]=[],_[j]=[]),w[j].push({key:B,value:R}),_[j].push({key:B,value:r[B]}))})});var k=Array.apply(null,Array(x.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),P=Array.apply(null,Array(x.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);w.forEach(function(R,B){R.forEach(function(V,j){k[B]=Math.min(V.value,k[B])})}),_.forEach(function(R,B){R.forEach(function(V,j){P[B]=Math.max(V.value,P[B])})}),i.forEach(function(R,B){_.forEach(function(V,j){var U=k[j],m=P[j];h.chart.stacked&&(m=0,V.forEach(function(A,I){A.value!==-Number.MAX_VALUE&&(m+=A.value),U!==Number.MIN_VALUE&&(U+=w[j][I].value)})),V.forEach(function(A,I){V[I].key===B&&(h.yaxis[B].min!==void 0&&(U=typeof h.yaxis[B].min=="function"?h.yaxis[B].min(f.minY):h.yaxis[B].min),h.yaxis[B].max!==void 0&&(m=typeof h.yaxis[B].max=="function"?h.yaxis[B].max(f.maxY):h.yaxis[B].max),c.setYScaleForIndex(B,U,m))})})})}},{key:"autoScaleY",value:function(i,r,o){i||(i=this);var c=i.w;if(c.globals.isMultipleYAxis||c.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),r;var h=c.globals.seriesX[0],f=c.config.chart.stacked;return r.forEach(function(u,g){for(var x=0,b=0;b<h.length;b++)if(h[b]>=o.xaxis.min){x=b;break}var w,_,k=c.globals.minYArr[g],P=c.globals.maxYArr[g],R=c.globals.stackedSeriesTotals;c.globals.series.forEach(function(B,V){var j=B[x];f?(j=R[x],w=_=j,R.forEach(function(U,m){h[m]<=o.xaxis.max&&h[m]>=o.xaxis.min&&(U>_&&U!==null&&(_=U),B[m]<w&&B[m]!==null&&(w=B[m]))})):(w=_=j,B.forEach(function(U,m){if(h[m]<=o.xaxis.max&&h[m]>=o.xaxis.min){var A=U,I=U;c.globals.series.forEach(function(O,X){U!==null&&(A=Math.min(O[m],A),I=Math.max(O[m],I))}),I>_&&I!==null&&(_=I),A<w&&A!==null&&(w=A)}})),w===void 0&&_===void 0&&(w=k,_=P),_*=_<0?.9:1.1,(w*=w<0?1.1:.9)===0&&_===0&&(w=-1,_=1),_<0&&_<P&&(_=P),w<0&&w>k&&(w=k),r.length>1?(r[V].min=u.min===void 0?w:u.min,r[V].max=u.max===void 0?_:u.max):(r[0].min=u.min===void 0?w:u.min,r[0].max=u.max===void 0?_:u.max)})}),r}}]),F}(),De=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.scales=new ye(i)}return p(F,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=this.w.config,f=this.w.globals,u=-Number.MAX_VALUE,g=Number.MIN_VALUE;c===null&&(c=i+1);var x=f.series,b=x,w=x;h.chart.type==="candlestick"?(b=f.seriesCandleL,w=f.seriesCandleH):h.chart.type==="boxPlot"?(b=f.seriesCandleO,w=f.seriesCandleC):f.isRangeData&&(b=f.seriesRangeStart,w=f.seriesRangeEnd);for(var _=i;_<c;_++){f.dataPoints=Math.max(f.dataPoints,x[_].length),f.categoryLabels.length&&(f.dataPoints=f.categoryLabels.filter(function(R){return R!==void 0}).length);for(var k=0;k<f.series[_].length;k++){var P=x[_][k];P!==null&&S.isNumber(P)?(w[_][k]!==void 0&&(u=Math.max(u,w[_][k]),r=Math.min(r,w[_][k])),b[_][k]!==void 0&&(r=Math.min(r,b[_][k]),o=Math.max(o,b[_][k])),this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"&&this.w.config.chart.type==="rangeArea"&&this.w.config.chart.type==="rangeBar"||(this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"||f.seriesCandleC[_][k]!==void 0&&(u=Math.max(u,f.seriesCandleO[_][k]),u=Math.max(u,f.seriesCandleH[_][k]),u=Math.max(u,f.seriesCandleL[_][k]),u=Math.max(u,f.seriesCandleC[_][k]),this.w.config.chart.type==="boxPlot"&&(u=Math.max(u,f.seriesCandleM[_][k]))),!h.series[_].type||h.series[_].type==="candlestick"&&h.series[_].type==="boxPlot"&&h.series[_].type==="rangeArea"&&h.series[_].type==="rangeBar"||(u=Math.max(u,f.series[_][k]),r=Math.min(r,f.series[_][k])),o=u),f.seriesGoals[_]&&f.seriesGoals[_][k]&&Array.isArray(f.seriesGoals[_][k])&&f.seriesGoals[_][k].forEach(function(R){g!==Number.MIN_VALUE&&(g=Math.min(g,R.value),r=g),u=Math.max(u,R.value),o=u}),S.isFloat(P)&&(P=S.noExponents(P),f.yValueDecimal=Math.max(f.yValueDecimal,P.toString().split(".")[1].length)),g>b[_][k]&&b[_][k]<0&&(g=b[_][k])):f.hasNullValues=!0}}return h.chart.type==="rangeBar"&&f.seriesRangeStart.length&&f.isBarHorizontal&&(g=r),h.chart.type==="bar"&&(g<0&&u<0&&(u=0),g===Number.MIN_VALUE&&(g=0)),{minY:g,maxY:u,lowestY:r,highestY:o}}},{key:"setYRange",value:function(){var i=this.w.globals,r=this.w.config;i.maxY=-Number.MAX_VALUE,i.minY=Number.MIN_VALUE;var o=Number.MAX_VALUE;if(i.isMultipleYAxis)for(var c=0;c<i.series.length;c++){var h=this.getMinYMaxY(c,o,null,c+1);i.minYArr.push(h.minY),i.maxYArr.push(h.maxY),o=h.lowestY}var f=this.getMinYMaxY(0,o,null,i.series.length);if(i.minY=f.minY,i.maxY=f.maxY,o=f.lowestY,r.chart.stacked&&this._setStackedMinMax(),(r.chart.type==="line"||r.chart.type==="area"||r.chart.type==="candlestick"||r.chart.type==="boxPlot"||r.chart.type==="rangeBar"&&!i.isBarHorizontal)&&i.minY===Number.MIN_VALUE&&o!==-Number.MAX_VALUE&&o!==i.maxY){var u=i.maxY-o;(o>=0&&o<=10||r.yaxis[0].min!==void 0||r.yaxis[0].max!==void 0)&&(u=0),i.minY=o-5*u/100,o>0&&i.minY<0&&(i.minY=0),i.maxY=i.maxY+5*u/100}return r.yaxis.forEach(function(g,x){g.max!==void 0&&(typeof g.max=="number"?i.maxYArr[x]=g.max:typeof g.max=="function"&&(i.maxYArr[x]=g.max(i.isMultipleYAxis?i.maxYArr[x]:i.maxY)),i.maxY=i.maxYArr[x]),g.min!==void 0&&(typeof g.min=="number"?i.minYArr[x]=g.min:typeof g.min=="function"&&(i.minYArr[x]=g.min(i.isMultipleYAxis?i.minYArr[x]===Number.MIN_VALUE?0:i.minYArr[x]:i.minY)),i.minY=i.minYArr[x])}),i.isBarHorizontal&&["min","max"].forEach(function(g){r.xaxis[g]!==void 0&&typeof r.xaxis[g]=="number"&&(g==="min"?i.minY=r.xaxis[g]:i.maxY=r.xaxis[g])}),i.isMultipleYAxis?(this.scales.setMultipleYScales(),i.minY=o,i.yAxisScale.forEach(function(g,x){i.minYArr[x]=g.niceMin,i.maxYArr[x]=g.niceMax})):(this.scales.setYScaleForIndex(0,i.minY,i.maxY),i.minY=i.yAxisScale[0].niceMin,i.maxY=i.yAxisScale[0].niceMax,i.minYArr[0]=i.yAxisScale[0].niceMin,i.maxYArr[0]=i.yAxisScale[0].niceMax),{minY:i.minY,maxY:i.maxY,minYArr:i.minYArr,maxYArr:i.maxYArr,yAxisScale:i.yAxisScale}}},{key:"setXRange",value:function(){var i=this.w.globals,r=this.w.config,o=r.xaxis.type==="numeric"||r.xaxis.type==="datetime"||r.xaxis.type==="category"&&!i.noLabelsProvided||i.noLabelsProvided||i.isXNumeric;if(i.isXNumeric&&function(){for(var u=0;u<i.series.length;u++)if(i.labels[u])for(var g=0;g<i.labels[u].length;g++)i.labels[u][g]!==null&&S.isNumber(i.labels[u][g])&&(i.maxX=Math.max(i.maxX,i.labels[u][g]),i.initialMaxX=Math.max(i.maxX,i.labels[u][g]),i.minX=Math.min(i.minX,i.labels[u][g]),i.initialMinX=Math.min(i.minX,i.labels[u][g]))}(),i.noLabelsProvided&&r.xaxis.categories.length===0&&(i.maxX=i.labels[i.labels.length-1],i.initialMaxX=i.labels[i.labels.length-1],i.minX=1,i.initialMinX=1),i.isXNumeric||i.noLabelsProvided||i.dataFormatXNumeric){var c;if(r.xaxis.tickAmount===void 0?(c=Math.round(i.svgWidth/150),r.xaxis.type==="numeric"&&i.dataPoints<30&&(c=i.dataPoints-1),c>i.dataPoints&&i.dataPoints!==0&&(c=i.dataPoints-1)):r.xaxis.tickAmount==="dataPoints"?(i.series.length>1&&(c=i.series[i.maxValsInArrayIndex].length-1),i.isXNumeric&&(c=i.maxX-i.minX-1)):c=r.xaxis.tickAmount,i.xTickAmount=c,r.xaxis.max!==void 0&&typeof r.xaxis.max=="number"&&(i.maxX=r.xaxis.max),r.xaxis.min!==void 0&&typeof r.xaxis.min=="number"&&(i.minX=r.xaxis.min),r.xaxis.range!==void 0&&(i.minX=i.maxX-r.xaxis.range),i.minX!==Number.MAX_VALUE&&i.maxX!==-Number.MAX_VALUE)if(r.xaxis.convertedCatToNumeric&&!i.dataFormatXNumeric){for(var h=[],f=i.minX-1;f<i.maxX;f++)h.push(f+1);i.xAxisScale={result:h,niceMin:h[0],niceMax:h[h.length-1]}}else i.xAxisScale=this.scales.setXScale(i.minX,i.maxX);else i.xAxisScale=this.scales.linearScale(1,c,c),i.noLabelsProvided&&i.labels.length>0&&(i.xAxisScale=this.scales.linearScale(1,i.labels.length,c-1),i.seriesX=i.labels.slice());o&&(i.labels=i.xAxisScale.result.slice())}return i.isBarHorizontal&&i.labels.length&&(i.xTickAmount=i.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:i.minX,maxX:i.maxX}}},{key:"setZRange",value:function(){var i=this.w.globals;if(i.isDataXYZ){for(var r=0;r<i.series.length;r++)if(i.seriesZ[r]!==void 0)for(var o=0;o<i.seriesZ[r].length;o++)i.seriesZ[r][o]!==null&&S.isNumber(i.seriesZ[r][o])&&(i.maxZ=Math.max(i.maxZ,i.seriesZ[r][o]),i.minZ=Math.min(i.minZ,i.seriesZ[r][o]))}}},{key:"_handleSingleDataPoint",value:function(){var i=this.w.globals,r=this.w.config;if(i.minX===i.maxX){var o=new ae(this.ctx);if(r.xaxis.type==="datetime"){var c=o.getDate(i.minX);r.xaxis.labels.datetimeUTC?c.setUTCDate(c.getUTCDate()-2):c.setDate(c.getDate()-2),i.minX=new Date(c).getTime();var h=o.getDate(i.maxX);r.xaxis.labels.datetimeUTC?h.setUTCDate(h.getUTCDate()+2):h.setDate(h.getDate()+2),i.maxX=new Date(h).getTime()}else(r.xaxis.type==="numeric"||r.xaxis.type==="category"&&!i.noLabelsProvided)&&(i.minX=i.minX-2,i.initialMinX=i.minX,i.maxX=i.maxX+2,i.initialMaxX=i.maxX)}}},{key:"_getMinXDiff",value:function(){var i=this.w.globals;i.isXNumeric&&i.seriesX.forEach(function(r,o){r.length===1&&r.push(i.seriesX[i.maxValsInArrayIndex][i.seriesX[i.maxValsInArrayIndex].length-1]);var c=r.slice();c.sort(function(h,f){return h-f}),c.forEach(function(h,f){if(f>0){var u=h-c[f-1];u>0&&(i.minXDiff=Math.min(u,i.minXDiff))}}),i.dataPoints!==1&&i.minXDiff!==Number.MAX_VALUE||(i.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var i=this.w.globals,r=[],o=[];if(i.series.length)for(var c=0;c<i.series[i.maxValsInArrayIndex].length;c++)for(var h=0,f=0,u=0;u<i.series.length;u++)i.series[u][c]!==null&&S.isNumber(i.series[u][c])&&(i.series[u][c]>0?h=h+parseFloat(i.series[u][c])+1e-4:f+=parseFloat(i.series[u][c])),u===i.series.length-1&&(r.push(h),o.push(f));for(var g=0;g<r.length;g++)i.maxY=Math.max(i.maxY,r[g]),i.minY=Math.min(i.minY,o[g])}}]),F}(),Re=function(){function F(i,r){l(this,F),this.ctx=i,this.elgrid=r,this.w=i.w;var o=this.w;this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.axisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=o.config.chart.type==="bar"&&o.config.plotOptions.bar.horizontal,this.xAxisoffX=0,o.config.xaxis.position==="bottom"&&(this.xAxisoffX=o.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new $e(i)}return p(F,[{key:"drawYaxis",value:function(i){var r=this,o=this.w,c=new H(this.ctx),h=o.config.yaxis[i].labels.style,f=h.fontSize,u=h.fontFamily,g=h.fontWeight,x=c.group({class:"apexcharts-yaxis",rel:i,transform:"translate("+o.globals.translateYAxisX[i]+", 0)"});if(this.axesUtils.isYAxisHidden(i))return x;var b=c.group({class:"apexcharts-yaxis-texts-g"});x.add(b);var w=o.globals.yAxisScale[i].result.length-1,_=o.globals.gridHeight/w,k=o.globals.translateY,P=o.globals.yLabelFormatters[i],R=o.globals.yAxisScale[i].result.slice();R=this.axesUtils.checkForReversedLabels(i,R);var B="";if(o.config.yaxis[i].labels.show)for(var V=function(te){var ee=R[te];ee=P(ee,te,o);var Se=o.config.yaxis[i].labels.padding;o.config.yaxis[i].opposite&&o.config.yaxis.length!==0&&(Se*=-1);var _e=r.axesUtils.getYAxisForeColor(h.colors,i),Le=c.drawText({x:Se,y:k+w/10+o.config.yaxis[i].labels.offsetY+1,text:ee,textAnchor:o.config.yaxis[i].opposite?"start":"end",fontSize:f,fontFamily:u,fontWeight:g,maxWidth:o.config.yaxis[i].labels.maxWidth,foreColor:Array.isArray(_e)?_e[te]:_e,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+h.cssClass});te===w&&(B=Le),b.add(Le);var Oe=document.createElementNS(o.globals.SVGNS,"title");if(Oe.textContent=Array.isArray(ee)?ee.join(" "):ee,Le.node.appendChild(Oe),o.config.yaxis[i].labels.rotate!==0){var St=c.rotateAroundCenter(B.node),wt=c.rotateAroundCenter(Le.node);Le.node.setAttribute("transform","rotate(".concat(o.config.yaxis[i].labels.rotate," ").concat(St.x," ").concat(wt.y,")"))}k+=_},j=w;j>=0;j--)V(j);if(o.config.yaxis[i].title.text!==void 0){var U=c.group({class:"apexcharts-yaxis-title"}),m=0;o.config.yaxis[i].opposite&&(m=o.globals.translateYAxisX[i]);var A=c.drawText({x:m,y:o.globals.gridHeight/2+o.globals.translateY+o.config.yaxis[i].title.offsetY,text:o.config.yaxis[i].title.text,textAnchor:"end",foreColor:o.config.yaxis[i].title.style.color,fontSize:o.config.yaxis[i].title.style.fontSize,fontWeight:o.config.yaxis[i].title.style.fontWeight,fontFamily:o.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+o.config.yaxis[i].title.style.cssClass});U.add(A),x.add(U)}var I=o.config.yaxis[i].axisBorder,O=31+I.offsetX;if(o.config.yaxis[i].opposite&&(O=-31-I.offsetX),I.show){var X=c.drawLine(O,o.globals.translateY+I.offsetY-2,O,o.globals.gridHeight+o.globals.translateY+I.offsetY+2,I.color,0,I.width);x.add(X)}return o.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(O,w,I,o.config.yaxis[i].axisTicks,i,_,x),x}},{key:"drawYaxisInversed",value:function(i){var r=this.w,o=new H(this.ctx),c=o.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),h=o.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(r.globals.translateXAxisX,", ").concat(r.globals.translateXAxisY,")")});c.add(h);var f=r.globals.yAxisScale[i].result.length-1,u=r.globals.gridWidth/f+.1,g=u+r.config.xaxis.labels.offsetX,x=r.globals.xLabelFormatter,b=r.globals.yAxisScale[i].result.slice(),w=r.globals.timescaleLabels;w.length>0&&(this.xaxisLabels=w.slice(),f=(b=w.slice()).length),b=this.axesUtils.checkForReversedLabels(i,b);var _=w.length;if(r.config.xaxis.labels.show)for(var k=_?0:f;_?k<_:k>=0;_?k++:k--){var P=b[k];P=x(P,k,r);var R=r.globals.gridWidth+r.globals.padHorizontal-(g-u+r.config.xaxis.labels.offsetX);if(w.length){var B=this.axesUtils.getLabel(b,w,R,k,this.drawnLabels,this.xaxisFontSize);R=B.x,P=B.text,this.drawnLabels.push(B.text),k===0&&r.globals.skipFirstTimelinelabel&&(P=""),k===b.length-1&&r.globals.skipLastTimelinelabel&&(P="")}var V=o.drawText({x:R,y:this.xAxisoffX+r.config.xaxis.labels.offsetY+30-(r.config.xaxis.position==="top"?r.globals.xAxisHeight+r.config.xaxis.axisTicks.height-2:0),text:P,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[i]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:r.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+r.config.xaxis.labels.style.cssClass});h.add(V),V.tspan(P);var j=document.createElementNS(r.globals.SVGNS,"title");j.textContent=P,V.node.appendChild(j),g+=u}return this.inversedYAxisTitleText(c),this.inversedYAxisBorder(c),c}},{key:"inversedYAxisBorder",value:function(i){var r=this.w,o=new H(this.ctx),c=r.config.xaxis.axisBorder;if(c.show){var h=0;r.config.chart.type==="bar"&&r.globals.isXNumeric&&(h-=15);var f=o.drawLine(r.globals.padHorizontal+h+c.offsetX,this.xAxisoffX,r.globals.gridWidth,this.xAxisoffX,c.color,0,c.height);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(f):i.add(f)}}},{key:"inversedYAxisTitleText",value:function(i){var r=this.w,o=new H(this.ctx);if(r.config.xaxis.title.text!==void 0){var c=o.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),h=o.drawText({x:r.globals.gridWidth/2+r.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(r.config.xaxis.title.style.fontSize)+r.config.xaxis.title.offsetY+20,text:r.config.xaxis.title.text,textAnchor:"middle",fontSize:r.config.xaxis.title.style.fontSize,fontFamily:r.config.xaxis.title.style.fontFamily,fontWeight:r.config.xaxis.title.style.fontWeight,foreColor:r.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+r.config.xaxis.title.style.cssClass});c.add(h),i.add(c)}}},{key:"yAxisTitleRotate",value:function(i,r){var o=this.w,c=new H(this.ctx),h={width:0,height:0},f={width:0,height:0},u=o.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g"));u!==null&&(h=u.getBoundingClientRect());var g=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-title text"));if(g!==null&&(f=g.getBoundingClientRect()),g!==null){var x=this.xPaddingForYAxisTitle(i,h,f,r);g.setAttribute("x",x.xPos-(r?10:0))}if(g!==null){var b=c.rotateAroundCenter(g);g.setAttribute("transform","rotate(".concat(r?-1*o.config.yaxis[i].title.rotate:o.config.yaxis[i].title.rotate," ").concat(b.x," ").concat(b.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(i,r,o,c){var h=this.w,f=0,u=0,g=10;return h.config.yaxis[i].title.text===void 0||i<0?{xPos:u,padd:0}:(c?(u=r.width+h.config.yaxis[i].title.offsetX+o.width/2+g/2,(f+=1)===0&&(u-=g/2)):(u=-1*r.width+h.config.yaxis[i].title.offsetX+g/2+o.width/2,h.globals.isBarHorizontal&&(g=25,u=-1*r.width-h.config.yaxis[i].title.offsetX-g)),{xPos:u,padd:g})}},{key:"setYAxisXPosition",value:function(i,r){var o=this.w,c=0,h=0,f=18,u=1;o.config.yaxis.length>1&&(this.multipleYs=!0),o.config.yaxis.map(function(g,x){var b=o.globals.ignoreYAxisIndexes.indexOf(x)>-1||!g.show||g.floating||i[x].width===0,w=i[x].width+r[x].width;g.opposite?o.globals.isBarHorizontal?(h=o.globals.gridWidth+o.globals.translateX-1,o.globals.translateYAxisX[x]=h-g.labels.offsetX):(h=o.globals.gridWidth+o.globals.translateX+u,b||(u=u+w+20),o.globals.translateYAxisX[x]=h-g.labels.offsetX+20):(c=o.globals.translateX-f,b||(f=f+w+20),o.globals.translateYAxisX[x]=c+g.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var i=this.w,r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(r=S.listToArray(r)).forEach(function(o,c){var h=i.config.yaxis[c];if(h&&h.labels.align!==void 0){var f=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-texts-g")),u=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-label"));u=S.listToArray(u);var g=f.getBoundingClientRect();h.labels.align==="left"?(u.forEach(function(x,b){x.setAttribute("text-anchor","start")}),h.opposite||f.setAttribute("transform","translate(-".concat(g.width,", 0)"))):h.labels.align==="center"?(u.forEach(function(x,b){x.setAttribute("text-anchor","middle")}),f.setAttribute("transform","translate(".concat(g.width/2*(h.opposite?1:-1),", 0)"))):h.labels.align==="right"&&(u.forEach(function(x,b){x.setAttribute("text-anchor","end")}),h.opposite&&f.setAttribute("transform","translate(".concat(g.width,", 0)")))}})}}]),F}(),Xe=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.documentEvent=S.bind(this.documentEvent,this)}return p(F,[{key:"addEventListener",value:function(i,r){var o=this.w;o.globals.events.hasOwnProperty(i)?o.globals.events[i].push(r):o.globals.events[i]=[r]}},{key:"removeEventListener",value:function(i,r){var o=this.w;if(o.globals.events.hasOwnProperty(i)){var c=o.globals.events[i].indexOf(r);c!==-1&&o.globals.events[i].splice(c,1)}}},{key:"fireEvent",value:function(i,r){var o=this.w;if(o.globals.events.hasOwnProperty(i)){r&&r.length||(r=[]);for(var c=o.globals.events[i],h=c.length,f=0;f<h;f++)c[f].apply(null,r)}}},{key:"setupEventHandlers",value:function(){var i=this,r=this.w,o=this.ctx,c=r.globals.dom.baseEl.querySelector(r.globals.chartClass);this.ctx.eventList.forEach(function(h){c.addEventListener(h,function(f){var u=Object.assign({},r,{seriesIndex:r.globals.capturedSeriesIndex,dataPointIndex:r.globals.capturedDataPointIndex});f.type==="mousemove"||f.type==="touchmove"?typeof r.config.chart.events.mouseMove=="function"&&r.config.chart.events.mouseMove(f,o,u):f.type==="mouseleave"||f.type==="touchleave"?typeof r.config.chart.events.mouseLeave=="function"&&r.config.chart.events.mouseLeave(f,o,u):(f.type==="mouseup"&&f.which===1||f.type==="touchend")&&(typeof r.config.chart.events.click=="function"&&r.config.chart.events.click(f,o,u),o.ctx.events.fireEvent("click",[f,o,u]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(h){r.globals.dom.baseEl.addEventListener(h,i.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(i){var r=this.w,o=i.target.className;if(i.type==="click"){var c=r.globals.dom.baseEl.querySelector(".apexcharts-menu");c&&c.classList.contains("apexcharts-menu-open")&&o!=="apexcharts-menu-icon"&&c.classList.remove("apexcharts-menu-open")}r.globals.clientX=i.type==="touchmove"?i.touches[0].clientX:i.clientX,r.globals.clientY=i.type==="touchmove"?i.touches[0].clientY:i.clientY}}]),F}(),Ve=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"setCurrentLocaleValues",value:function(i){var r=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(r=this.w.config.chart.locales.concat(window.Apex.chart.locales));var o=r.filter(function(h){return h.name===i})[0];if(!o)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var c=S.extend(Y,o);this.w.globals.locale=c.options}}]),F}(),rt=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"drawAxis",value:function(i,r){var o,c,h=this.w.globals,f=this.w.config,u=new ct(this.ctx,r),g=new Re(this.ctx,r);h.axisCharts&&i!=="radar"&&(h.isBarHorizontal?(c=g.drawYaxisInversed(0),o=u.drawXaxisInversed(0),h.dom.elGraphical.add(o),h.dom.elGraphical.add(c)):(o=u.drawXaxis(),h.dom.elGraphical.add(o),f.yaxis.map(function(x,b){h.ignoreYAxisIndexes.indexOf(b)===-1&&(c=g.drawYaxis(b),h.dom.Paper.add(c))})))}}]),F}(),tt=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"drawXCrosshairs",value:function(){var i=this.w,r=new H(this.ctx),o=new W(this.ctx),c=i.config.xaxis.crosshairs.fill.gradient,h=i.config.xaxis.crosshairs.dropShadow,f=i.config.xaxis.crosshairs.fill.type,u=c.colorFrom,g=c.colorTo,x=c.opacityFrom,b=c.opacityTo,w=c.stops,_=h.enabled,k=h.left,P=h.top,R=h.blur,B=h.color,V=h.opacity,j=i.config.xaxis.crosshairs.fill.color;if(i.config.xaxis.crosshairs.show){f==="gradient"&&(j=r.drawGradient("vertical",u,g,x,b,null,w,null));var U=r.drawRect();i.config.xaxis.crosshairs.width===1&&(U=r.drawLine());var m=i.globals.gridHeight;(!S.isNumber(m)||m<0)&&(m=0);var A=i.config.xaxis.crosshairs.width;(!S.isNumber(A)||A<0)&&(A=0),U.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:m,width:A,height:m,fill:j,filter:"none","fill-opacity":i.config.xaxis.crosshairs.opacity,stroke:i.config.xaxis.crosshairs.stroke.color,"stroke-width":i.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":i.config.xaxis.crosshairs.stroke.dashArray}),_&&(U=o.dropShadow(U,{left:k,top:P,blur:R,color:B,opacity:V})),i.globals.dom.elGraphical.add(U)}}},{key:"drawYCrosshairs",value:function(){var i=this.w,r=new H(this.ctx),o=i.config.yaxis[0].crosshairs,c=i.globals.barPadForNumericAxis;if(i.config.yaxis[0].crosshairs.show){var h=r.drawLine(-c,0,i.globals.gridWidth+c,0,o.stroke.color,o.stroke.dashArray,o.stroke.width);h.attr({class:"apexcharts-ycrosshairs"}),i.globals.dom.elGraphical.add(h)}var f=r.drawLine(-c,0,i.globals.gridWidth+c,0,o.stroke.color,0,0);f.attr({class:"apexcharts-ycrosshairs-hidden"}),i.globals.dom.elGraphical.add(f)}}]),F}(),mt=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"checkResponsiveConfig",value:function(i){var r=this,o=this.w,c=o.config;if(c.responsive.length!==0){var h=c.responsive.slice();h.sort(function(x,b){return x.breakpoint>b.breakpoint?1:b.breakpoint>x.breakpoint?-1:0}).reverse();var f=new Ce({}),u=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=h[0].breakpoint,w=window.innerWidth>0?window.innerWidth:screen.width;if(w>b){var _=$.extendArrayProps(f,o.globals.initialConfig,o);x=S.extend(_,x),x=S.extend(o.config,x),r.overrideResponsiveOptions(x)}else for(var k=0;k<h.length;k++)w<h[k].breakpoint&&(x=$.extendArrayProps(f,h[k].options,o),x=S.extend(o.config,x),r.overrideResponsiveOptions(x))};if(i){var g=$.extendArrayProps(f,i,o);g=S.extend(o.config,g),u(g=S.extend(g,i))}else u({})}}},{key:"overrideResponsiveOptions",value:function(i){var r=new Ce(i).init({responsiveOverride:!0});this.w.config=r}}]),F}(),Tt=function(){function F(i){l(this,F),this.ctx=i,this.colors=[],this.w=i.w;var r=this.w;this.isColorFn=!1,this.isHeatmapDistributed=r.config.chart.type==="treemap"&&r.config.plotOptions.treemap.distributed||r.config.chart.type==="heatmap"&&r.config.plotOptions.heatmap.distributed,this.isBarDistributed=r.config.plotOptions.bar.distributed&&(r.config.chart.type==="bar"||r.config.chart.type==="rangeBar")}return p(F,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var i=this,r=this.w,o=new S;if(r.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(r.config.theme.mode)),r.config.colors===void 0?r.globals.colors=this.predefined():(r.globals.colors=r.config.colors,Array.isArray(r.config.colors)&&r.config.colors.length>0&&typeof r.config.colors[0]=="function"&&(r.globals.colors=r.config.series.map(function(k,P){var R=r.config.colors[P];return R||(R=r.config.colors[0]),typeof R=="function"?(i.isColorFn=!0,R({value:r.globals.axisCharts?r.globals.series[P][0]?r.globals.series[P][0]:0:r.globals.series[P],seriesIndex:P,dataPointIndex:P,w:r})):R}))),r.globals.seriesColors.map(function(k,P){k&&(r.globals.colors[P]=k)}),r.config.theme.monochrome.enabled){var c=[],h=r.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(h=r.globals.series[0].length*r.globals.series.length);for(var f=r.config.theme.monochrome.color,u=1/(h/r.config.theme.monochrome.shadeIntensity),g=r.config.theme.monochrome.shadeTo,x=0,b=0;b<h;b++){var w=void 0;g==="dark"?(w=o.shadeColor(-1*x,f),x+=u):(w=o.shadeColor(x,f),x+=u),c.push(w)}r.globals.colors=c.slice()}var _=r.globals.colors.slice();this.pushExtraColors(r.globals.colors),["fill","stroke"].forEach(function(k){r.config[k].colors===void 0?r.globals[k].colors=i.isColorFn?r.config.colors:_:r.globals[k].colors=r.config[k].colors.slice(),i.pushExtraColors(r.globals[k].colors)}),r.config.dataLabels.style.colors===void 0?r.globals.dataLabels.style.colors=_:r.globals.dataLabels.style.colors=r.config.dataLabels.style.colors.slice(),this.pushExtraColors(r.globals.dataLabels.style.colors,50),r.config.plotOptions.radar.polygons.fill.colors===void 0?r.globals.radarPolygons.fill.colors=[r.config.theme.mode==="dark"?"#424242":"none"]:r.globals.radarPolygons.fill.colors=r.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(r.globals.radarPolygons.fill.colors,20),r.config.markers.colors===void 0?r.globals.markers.colors=_:r.globals.markers.colors=r.config.markers.colors.slice(),this.pushExtraColors(r.globals.markers.colors)}},{key:"pushExtraColors",value:function(i,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=this.w,h=r||c.globals.series.length;if(o===null&&(o=this.isBarDistributed||this.isHeatmapDistributed||c.config.chart.type==="heatmap"&&c.config.plotOptions.heatmap.colorScale.inverse),o&&c.globals.series.length&&(h=c.globals.series[c.globals.maxValsInArrayIndex].length*c.globals.series.length),i.length<h)for(var f=h-i.length,u=0;u<f;u++)i.push(i[u])}},{key:"updateThemeOptions",value:function(i){i.chart=i.chart||{},i.tooltip=i.tooltip||{};var r=i.theme.mode||"light",o=i.theme.palette?i.theme.palette:r==="dark"?"palette4":"palette1",c=i.chart.foreColor?i.chart.foreColor:r==="dark"?"#f6f7f8":"#373d3f";return i.tooltip.theme=r,i.chart.foreColor=c,i.theme.palette=o,i}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),F}(),yt=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(i){var r=this.w,o=i==="title"?r.config.title:r.config.subtitle,c=r.globals.svgWidth/2,h=o.offsetY,f="middle";if(o.align==="left"?(c=10,f="start"):o.align==="right"&&(c=r.globals.svgWidth-10,f="end"),c+=o.offsetX,h=h+parseInt(o.style.fontSize,10)+o.margin/2,o.text!==void 0){var u=new H(this.ctx).drawText({x:c,y:h,text:o.text,textAnchor:f,fontSize:o.style.fontSize,fontFamily:o.style.fontFamily,fontWeight:o.style.fontWeight,foreColor:o.style.color,opacity:1});u.node.setAttribute("class","apexcharts-".concat(i,"-text")),r.globals.dom.Paper.add(u)}}}]),F}(),J=function(){function F(i){l(this,F),this.w=i.w,this.dCtx=i}return p(F,[{key:"getTitleSubtitleCoords",value:function(i){var r=this.w,o=0,c=0,h=i==="title"?r.config.title.floating:r.config.subtitle.floating,f=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-text"));if(f!==null&&!h){var u=f.getBoundingClientRect();o=u.width,c=r.globals.axisCharts?u.height+5:u.height}return{width:o,height:c}}},{key:"getLegendsRect",value:function(){var i=this.w,r=i.globals.dom.baseEl.querySelector(".apexcharts-legend");i.config.legend.height||i.config.legend.position!=="top"&&i.config.legend.position!=="bottom"||(r.style.maxHeight=i.globals.svgHeight/2+"px");var o=Object.assign({},S.getBoundingClientRect(r));return r!==null&&!i.config.legend.floating&&i.config.legend.show?this.dCtx.lgRect={x:o.x,y:o.y,height:o.height,width:o.height===0?0:o.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},i.config.legend.position!=="left"&&i.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>i.globals.svgWidth&&(this.dCtx.lgRect.width=i.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(i,r){var o=i;if(this.w.globals.isMultiLineX){var c=r.map(function(f,u){return Array.isArray(f)?f.length:1}),h=Math.max.apply(Math,N(c));o=r[c.indexOf(h)]}return o}}]),F}(),q=function(){function F(i){l(this,F),this.w=i.w,this.dCtx=i}return p(F,[{key:"getxAxisLabelsCoords",value:function(){var i,r=this.w,o=r.globals.labels.slice();if(r.config.xaxis.convertedCatToNumeric&&o.length===0&&(o=r.globals.categoryLabels),r.globals.timescaleLabels.length>0){var c=this.getxAxisTimeScaleLabelsCoords();i={width:c.width,height:c.height},r.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=r.config.legend.position!=="left"&&r.config.legend.position!=="right"||r.config.legend.floating?0:this.dCtx.lgRect.width;var h=r.globals.xLabelFormatter,f=S.getLargestStringFromArr(o),u=this.dCtx.dimHelpers.getLargestStringFromMultiArr(f,o);r.globals.isBarHorizontal&&(u=f=r.globals.yAxisScale[0].result.reduce(function(P,R){return P.length>R.length?P:R},0));var g=new Ue(this.dCtx.ctx),x=f;f=g.xLabelFormat(h,f,x,{i:void 0,dateFormatter:new ae(this.dCtx.ctx).formatDate,w:r}),u=g.xLabelFormat(h,u,x,{i:void 0,dateFormatter:new ae(this.dCtx.ctx).formatDate,w:r}),(r.config.xaxis.convertedCatToNumeric&&f===void 0||String(f).trim()==="")&&(u=f="1");var b=new H(this.dCtx.ctx),w=b.getTextRects(f,r.config.xaxis.labels.style.fontSize),_=w;if(f!==u&&(_=b.getTextRects(u,r.config.xaxis.labels.style.fontSize)),(i={width:w.width>=_.width?w.width:_.width,height:w.height>=_.height?w.height:_.height}).width*o.length>r.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&r.config.xaxis.labels.rotate!==0||r.config.xaxis.labels.rotateAlways){if(!r.globals.isBarHorizontal){r.globals.rotateXLabels=!0;var k=function(P){return b.getTextRects(P,r.config.xaxis.labels.style.fontSize,r.config.xaxis.labels.style.fontFamily,"rotate(".concat(r.config.xaxis.labels.rotate," 0 0)"),!1)};w=k(f),f!==u&&(_=k(u)),i.height=(w.height>_.height?w.height:_.height)/1.5,i.width=w.width>_.width?w.width:_.width}}else r.globals.rotateXLabels=!1}return r.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var i,r=this.w;if(!r.globals.hasGroups)return{width:0,height:0};var o,c=((i=r.config.xaxis.group.style)===null||i===void 0?void 0:i.fontSize)||r.config.xaxis.labels.style.fontSize,h=r.globals.groups.map(function(w){return w.title}),f=S.getLargestStringFromArr(h),u=this.dCtx.dimHelpers.getLargestStringFromMultiArr(f,h),g=new H(this.dCtx.ctx),x=g.getTextRects(f,c),b=x;return f!==u&&(b=g.getTextRects(u,c)),o={width:x.width>=b.width?x.width:b.width,height:x.height>=b.height?x.height:b.height},r.config.xaxis.labels.show||(o={width:0,height:0}),{width:o.width,height:o.height}}},{key:"getxAxisTitleCoords",value:function(){var i=this.w,r=0,o=0;if(i.config.xaxis.title.text!==void 0){var c=new H(this.dCtx.ctx).getTextRects(i.config.xaxis.title.text,i.config.xaxis.title.style.fontSize);r=c.width,o=c.height}return{width:r,height:o}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var i,r=this.w;this.dCtx.timescaleLabels=r.globals.timescaleLabels.slice();var o=this.dCtx.timescaleLabels.map(function(h){return h.value}),c=o.reduce(function(h,f){return h===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):h.length>f.length?h:f},0);return 1.05*(i=new H(this.dCtx.ctx).getTextRects(c,r.config.xaxis.labels.style.fontSize)).width*o.length>r.globals.gridWidth&&r.config.xaxis.labels.rotate!==0&&(r.globals.overlappingXLabels=!0),i}},{key:"additionalPaddingXLabels",value:function(i){var r=this,o=this.w,c=o.globals,h=o.config,f=h.xaxis.type,u=i.width;c.skipLastTimelinelabel=!1,c.skipFirstTimelinelabel=!1;var g=o.config.yaxis[0].opposite&&o.globals.isBarHorizontal,x=function(b,w){(function(_){return c.collapsedSeriesIndices.indexOf(_)!==-1})(w)||function(_){if(r.dCtx.timescaleLabels&&r.dCtx.timescaleLabels.length){var k=r.dCtx.timescaleLabels[0],P=r.dCtx.timescaleLabels[r.dCtx.timescaleLabels.length-1].position+u/1.75-r.dCtx.yAxisWidthRight,R=k.position-u/1.75+r.dCtx.yAxisWidthLeft,B=o.config.legend.position==="right"&&r.dCtx.lgRect.width>0?r.dCtx.lgRect.width:0;P>c.svgWidth-c.translateX-B&&(c.skipLastTimelinelabel=!0),R<-(_.show&&!_.floating||h.chart.type!=="bar"&&h.chart.type!=="candlestick"&&h.chart.type!=="rangeBar"&&h.chart.type!=="boxPlot"?10:u/1.75)&&(c.skipFirstTimelinelabel=!0)}else f==="datetime"?r.dCtx.gridPad.right<u&&!c.rotateXLabels&&(c.skipLastTimelinelabel=!0):f!=="datetime"&&r.dCtx.gridPad.right<u/2-r.dCtx.yAxisWidthRight&&!c.rotateXLabels&&!o.config.xaxis.labels.trim&&(o.config.xaxis.tickPlacement!=="between"||o.globals.isBarHorizontal)&&(r.dCtx.xPadRight=u/2+1)}(b)};h.yaxis.forEach(function(b,w){g?(r.dCtx.gridPad.left<u&&(r.dCtx.xPadLeft=u/2+1),r.dCtx.xPadRight=u/2+1):x(b,w)})}}]),F}(),we=function(){function F(i){l(this,F),this.w=i.w,this.dCtx=i}return p(F,[{key:"getyAxisLabelsCoords",value:function(){var i=this,r=this.w,o=[],c=10,h=new $e(this.dCtx.ctx);return r.config.yaxis.map(function(f,u){var g=r.globals.yAxisScale[u],x=0;if(!h.isYAxisHidden(u)&&f.labels.show&&f.labels.minWidth!==void 0&&(x=f.labels.minWidth),!h.isYAxisHidden(u)&&f.labels.show&&g.result.length){var b=r.globals.yLabelFormatters[u],w=g.niceMin===Number.MIN_VALUE?0:g.niceMin,_=String(w).length>String(g.niceMax).length?w:g.niceMax,k=b(_,{seriesIndex:u,dataPointIndex:-1,w:r}),P=k;if(k!==void 0&&k.length!==0||(k=_),r.globals.isBarHorizontal){c=0;var R=r.globals.labels.slice();k=b(k=S.getLargestStringFromArr(R),{seriesIndex:u,dataPointIndex:-1,w:r}),P=i.dCtx.dimHelpers.getLargestStringFromMultiArr(k,R)}var B=new H(i.dCtx.ctx),V="rotate(".concat(f.labels.rotate," 0 0)"),j=B.getTextRects(k,f.labels.style.fontSize,f.labels.style.fontFamily,V,!1),U=j;k!==P&&(U=B.getTextRects(P,f.labels.style.fontSize,f.labels.style.fontFamily,V,!1)),o.push({width:(x>U.width||x>j.width?x:U.width>j.width?U.width:j.width)+c,height:U.height>j.height?U.height:j.height})}else o.push({width:0,height:0})}),o}},{key:"getyAxisTitleCoords",value:function(){var i=this,r=this.w,o=[];return r.config.yaxis.map(function(c,h){if(c.show&&c.title.text!==void 0){var f=new H(i.dCtx.ctx),u="rotate(".concat(c.title.rotate," 0 0)"),g=f.getTextRects(c.title.text,c.title.style.fontSize,c.title.style.fontFamily,u,!1);o.push({width:g.width,height:g.height})}else o.push({width:0,height:0})}),o}},{key:"getTotalYAxisWidth",value:function(){var i=this.w,r=0,o=0,c=0,h=i.globals.yAxisScale.length>1?10:0,f=new $e(this.dCtx.ctx),u=function(g,x){var b=i.config.yaxis[x].floating,w=0;g.width>0&&!b?(w=g.width+h,function(_){return i.globals.ignoreYAxisIndexes.indexOf(_)>-1}(x)&&(w=w-g.width-h)):w=b||f.isYAxisHidden(x)?0:5,i.config.yaxis[x].opposite?c+=w:o+=w,r+=w};return i.globals.yLabelsCoords.map(function(g,x){u(g,x)}),i.globals.yTitleCoords.map(function(g,x){u(g,x)}),i.globals.isBarHorizontal&&!i.config.yaxis[0].floating&&(r=i.globals.yLabelsCoords[0].width+i.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=o,this.dCtx.yAxisWidthRight=c,r}}]),F}(),ze=function(){function F(i){l(this,F),this.w=i.w,this.dCtx=i}return p(F,[{key:"gridPadForColumnsInNumericAxis",value:function(i){var r=this.w;if(r.globals.noData||r.globals.allSeriesCollapsed)return 0;var o=function(b){return b==="bar"||b==="rangeBar"||b==="candlestick"||b==="boxPlot"},c=r.config.chart.type,h=0,f=o(c)?r.config.series.length:1;if(r.globals.comboBarCount>0&&(f=r.globals.comboBarCount),r.globals.collapsedSeries.forEach(function(b){o(b.type)&&(f-=1)}),r.config.chart.stacked&&(f=1),(o(c)||r.globals.comboBarCount>0)&&r.globals.isXNumeric&&!r.globals.isBarHorizontal&&f>0){var u,g,x=Math.abs(r.globals.initialMaxX-r.globals.initialMinX);x<=3&&(x=r.globals.dataPoints),u=x/i,r.globals.minXDiff&&r.globals.minXDiff/u>0&&(g=r.globals.minXDiff/u),g>i/2&&(g/=2),(h=g/f*parseInt(r.config.plotOptions.bar.columnWidth,10)/100)<1&&(h=1),h=h/(f>1?1:1.5)+5,r.globals.barPadForNumericAxis=h}return h}},{key:"gridPadFortitleSubtitle",value:function(){var i=this,r=this.w,o=r.globals,c=this.dCtx.isSparkline||!r.globals.axisCharts?0:10;["title","subtitle"].forEach(function(u){r.config[u].text!==void 0?c+=r.config[u].margin:c+=i.dCtx.isSparkline||!r.globals.axisCharts?0:5}),!r.config.legend.show||r.config.legend.position!=="bottom"||r.config.legend.floating||r.globals.axisCharts||(c+=10);var h=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),f=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");o.gridHeight=o.gridHeight-h.height-f.height-c,o.translateY=o.translateY+h.height+f.height+c}},{key:"setGridXPosForDualYAxis",value:function(i,r){var o=this.w,c=new $e(this.dCtx.ctx);o.config.yaxis.map(function(h,f){o.globals.ignoreYAxisIndexes.indexOf(f)!==-1||h.floating||c.isYAxisHidden(f)||(h.opposite&&(o.globals.translateX=o.globals.translateX-(r[f].width+i[f].width)-parseInt(o.config.yaxis[f].labels.style.fontSize,10)/1.2-12),o.globals.translateX<2&&(o.globals.translateX=2))})}}]),F}(),je=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new J(this),this.dimYAxis=new we(this),this.dimXAxis=new q(this),this.dimGrid=new ze(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return p(F,[{key:"plotCoords",value:function(){var i=this,r=this.w,o=r.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(r.config.markers.discrete.length>0||r.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(h){var f=D(h,2),u=f[0],g=f[1];i.gridPad[u]=Math.max(g,i.w.globals.markers.largestSize/1.5)}),o.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),o.gridHeight=o.gridHeight-this.gridPad.top-this.gridPad.bottom,o.gridWidth=o.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var c=this.dimGrid.gridPadForColumnsInNumericAxis(o.gridWidth);o.gridWidth=o.gridWidth-2*c,o.translateX=o.translateX+this.gridPad.left+this.xPadLeft+(c>0?c+4:0),o.translateY=o.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var i=this,r=this.w,o=r.globals,c=this.dimYAxis.getyAxisLabelsCoords(),h=this.dimYAxis.getyAxisTitleCoords();r.globals.yLabelsCoords=[],r.globals.yTitleCoords=[],r.config.yaxis.map(function(k,P){r.globals.yLabelsCoords.push({width:c[P].width,index:P}),r.globals.yTitleCoords.push({width:h[P].width,index:P})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var f=this.dimXAxis.getxAxisLabelsCoords(),u=this.dimXAxis.getxAxisGroupLabelsCoords(),g=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(f,g,u),o.translateXAxisY=r.globals.rotateXLabels?this.xAxisHeight/8:-4,o.translateXAxisX=r.globals.rotateXLabels&&r.globals.isXNumeric&&r.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,r.globals.isBarHorizontal&&(o.rotateXLabels=!1,o.translateXAxisY=parseInt(r.config.xaxis.labels.style.fontSize,10)/1.5*-1),o.translateXAxisY=o.translateXAxisY+r.config.xaxis.labels.offsetY,o.translateXAxisX=o.translateXAxisX+r.config.xaxis.labels.offsetX;var x=this.yAxisWidth,b=this.xAxisHeight;o.xAxisLabelsHeight=this.xAxisHeight-g.height,o.xAxisGroupLabelsHeight=o.xAxisLabelsHeight-f.height,o.xAxisLabelsWidth=this.xAxisWidth,o.xAxisHeight=this.xAxisHeight;var w=10;(r.config.chart.type==="radar"||this.isSparkline)&&(x=0,b=o.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||r.config.chart.type==="treemap")&&(x=0,b=0,w=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(f);var _=function(){o.translateX=x,o.gridHeight=o.svgHeight-i.lgRect.height-b-(i.isSparkline||r.config.chart.type==="treemap"?0:r.globals.rotateXLabels?10:15),o.gridWidth=o.svgWidth-x};switch(r.config.xaxis.position==="top"&&(w=o.xAxisHeight-r.config.xaxis.axisTicks.height-5),r.config.legend.position){case"bottom":o.translateY=w,_();break;case"top":o.translateY=this.lgRect.height+w,_();break;case"left":o.translateY=w,o.translateX=this.lgRect.width+x,o.gridHeight=o.svgHeight-b-12,o.gridWidth=o.svgWidth-this.lgRect.width-x;break;case"right":o.translateY=w,o.translateX=x,o.gridHeight=o.svgHeight-b-12,o.gridWidth=o.svgWidth-this.lgRect.width-x-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(h,c),new Re(this.ctx).setYAxisXPosition(c,h)}},{key:"setDimensionsForNonAxisCharts",value:function(){var i=this.w,r=i.globals,o=i.config,c=0;i.config.legend.show&&!i.config.legend.floating&&(c=20);var h=o.chart.type==="pie"||o.chart.type==="polarArea"||o.chart.type==="donut"?"pie":"radialBar",f=o.plotOptions[h].offsetY,u=o.plotOptions[h].offsetX;if(!o.legend.show||o.legend.floating)return r.gridHeight=r.svgHeight-o.grid.padding.left+o.grid.padding.right,r.gridWidth=r.gridHeight,r.translateY=f,void(r.translateX=u+(r.svgWidth-r.gridWidth)/2);switch(o.legend.position){case"bottom":r.gridHeight=r.svgHeight-this.lgRect.height-r.goldenPadding,r.gridWidth=r.svgWidth,r.translateY=f-10,r.translateX=u+(r.svgWidth-r.gridWidth)/2;break;case"top":r.gridHeight=r.svgHeight-this.lgRect.height-r.goldenPadding,r.gridWidth=r.svgWidth,r.translateY=this.lgRect.height+f+10,r.translateX=u+(r.svgWidth-r.gridWidth)/2;break;case"left":r.gridWidth=r.svgWidth-this.lgRect.width-c,r.gridHeight=o.chart.height!=="auto"?r.svgHeight:r.gridWidth,r.translateY=f,r.translateX=u+this.lgRect.width+c;break;case"right":r.gridWidth=r.svgWidth-this.lgRect.width-c-5,r.gridHeight=o.chart.height!=="auto"?r.svgHeight:r.gridWidth,r.translateY=f,r.translateX=u+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(i,r,o){var c=this.w,h=c.globals.hasGroups?2:1,f=o.height+i.height+r.height,u=c.globals.isMultiLineX?1.2:c.globals.LINE_HEIGHT_RATIO,g=c.globals.rotateXLabels?22:10,x=c.globals.rotateXLabels&&c.config.legend.position==="bottom"?10:0;this.xAxisHeight=f*u+h*g+x,this.xAxisWidth=i.width,this.xAxisHeight-r.height>c.config.xaxis.labels.maxHeight&&(this.xAxisHeight=c.config.xaxis.labels.maxHeight),c.config.xaxis.labels.minHeight&&this.xAxisHeight<c.config.xaxis.labels.minHeight&&(this.xAxisHeight=c.config.xaxis.labels.minHeight),c.config.xaxis.floating&&(this.xAxisHeight=0);var b=0,w=0;c.config.yaxis.forEach(function(_){b+=_.labels.minWidth,w+=_.labels.maxWidth}),this.yAxisWidth<b&&(this.yAxisWidth=b),this.yAxisWidth>w&&(this.yAxisWidth=w)}}]),F}(),be=function(){function F(i){l(this,F),this.w=i.w,this.lgCtx=i}return p(F,[{key:"getLegendStyles",value:function(){var i=document.createElement("style");i.setAttribute("type","text/css");var r=document.createTextNode(`	
    	
      .apexcharts-legend {	
        display: flex;	
        overflow: auto;	
        padding: 0 10px;	
      }	
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {	
        flex-wrap: wrap	
      }	
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        flex-direction: column;	
        bottom: 0;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        justify-content: flex-start;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {	
        justify-content: center;  	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {	
        justify-content: flex-end;	
      }	
      .apexcharts-legend-series {	
        cursor: pointer;	
        line-height: normal;	
      }	
      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{	
        display: flex;	
        align-items: center;	
      }	
      .apexcharts-legend-text {	
        position: relative;	
        font-size: 14px;	
      }	
      .apexcharts-legend-text *, .apexcharts-legend-marker * {	
        pointer-events: none;	
      }	
      .apexcharts-legend-marker {	
        position: relative;	
        display: inline-block;	
        cursor: pointer;	
        margin-right: 3px;	
        border-style: solid;
      }	
      	
      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{	
        display: inline-block;	
      }	
      .apexcharts-legend-series.apexcharts-no-click {	
        cursor: auto;	
      }	
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {	
        display: none !important;	
      }	
      .apexcharts-inactive-legend {	
        opacity: 0.45;	
      }`);return i.appendChild(r),i}},{key:"getLegendBBox",value:function(){var i=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),r=i.width;return{clwh:i.height,clww:r}}},{key:"appendToForeignObject",value:function(){var i=this.w.globals;i.dom.elLegendForeign=document.createElementNS(i.SVGNS,"foreignObject");var r=i.dom.elLegendForeign;r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",i.svgWidth),r.setAttribute("height",i.svgHeight),i.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),r.appendChild(i.dom.elLegendWrap),r.appendChild(this.getLegendStyles()),i.dom.Paper.node.insertBefore(r,i.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(i,r){var o=this,c=this.w;if(c.globals.axisCharts||c.config.chart.type==="radialBar"){c.globals.resized=!0;var h=null,f=null;c.globals.risingSeries=[],c.globals.axisCharts?(h=c.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"']")),f=parseInt(h.getAttribute("data:realIndex"),10)):(h=c.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"']")),f=parseInt(h.getAttribute("rel"),10)-1),r?[{cs:c.globals.collapsedSeries,csi:c.globals.collapsedSeriesIndices},{cs:c.globals.ancillaryCollapsedSeries,csi:c.globals.ancillaryCollapsedSeriesIndices}].forEach(function(b){o.riseCollapsedSeries(b.cs,b.csi,f)}):this.hideSeries({seriesEl:h,realIndex:f})}else{var u=c.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(i+1,"'] path")),g=c.config.chart.type;if(g==="pie"||g==="polarArea"||g==="donut"){var x=c.config.plotOptions.pie.donut.labels;new H(this.lgCtx.ctx).pathMouseDown(u.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(u.members[0].node,x)}u.fire("click")}}},{key:"hideSeries",value:function(i){var r=i.seriesEl,o=i.realIndex,c=this.w,h=S.clone(c.config.series);if(c.globals.axisCharts){var f=!1;if(c.config.yaxis[o]&&c.config.yaxis[o].show&&c.config.yaxis[o].showAlways&&(f=!0,c.globals.ancillaryCollapsedSeriesIndices.indexOf(o)<0&&(c.globals.ancillaryCollapsedSeries.push({index:o,data:h[o].data.slice(),type:r.parentNode.className.baseVal.split("-")[1]}),c.globals.ancillaryCollapsedSeriesIndices.push(o))),!f){c.globals.collapsedSeries.push({index:o,data:h[o].data.slice(),type:r.parentNode.className.baseVal.split("-")[1]}),c.globals.collapsedSeriesIndices.push(o);var u=c.globals.risingSeries.indexOf(o);c.globals.risingSeries.splice(u,1)}}else c.globals.collapsedSeries.push({index:o,data:h[o]}),c.globals.collapsedSeriesIndices.push(o);for(var g=r.childNodes,x=0;x<g.length;x++)g[x].classList.contains("apexcharts-series-markers-wrap")&&(g[x].classList.contains("apexcharts-hide")?g[x].classList.remove("apexcharts-hide"):g[x].classList.add("apexcharts-hide"));c.globals.allSeriesCollapsed=c.globals.collapsedSeries.length===c.config.series.length,h=this._getSeriesBasedOnCollapsedState(h),this.lgCtx.ctx.updateHelpers._updateSeries(h,c.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(i,r,o){var c=this.w,h=S.clone(c.config.series);if(i.length>0){for(var f=0;f<i.length;f++)i[f].index===o&&(c.globals.axisCharts?(h[o].data=i[f].data.slice(),i.splice(f,1),r.splice(f,1),c.globals.risingSeries.push(o)):(h[o]=i[f].data,i.splice(f,1),r.splice(f,1),c.globals.risingSeries.push(o)));h=this._getSeriesBasedOnCollapsedState(h),this.lgCtx.ctx.updateHelpers._updateSeries(h,c.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(i){var r=this.w;return r.globals.axisCharts?i.forEach(function(o,c){r.globals.collapsedSeriesIndices.indexOf(c)>-1&&(i[c].data=[])}):i.forEach(function(o,c){r.globals.collapsedSeriesIndices.indexOf(c)>-1&&(i[c]=0)}),i}}]),F}(),Qe=function(){function F(i,r){l(this,F),this.ctx=i,this.w=i.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new be(this)}return p(F,[{key:"init",value:function(){var i=this.w,r=i.globals,o=i.config;if((o.legend.showForSingleSeries&&r.series.length===1||this.isBarsDistributed||r.series.length>1||!r.axisCharts)&&o.legend.show){for(;r.dom.elLegendWrap.firstChild;)r.dom.elLegendWrap.removeChild(r.dom.elLegendWrap.firstChild);this.drawLegends(),S.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),o.legend.position==="bottom"||o.legend.position==="top"?this.legendAlignHorizontal():o.legend.position!=="right"&&o.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var i=this,r=this.w,o=r.config.legend.fontFamily,c=r.globals.seriesNames,h=r.globals.colors.slice();if(r.config.chart.type==="heatmap"){var f=r.config.plotOptions.heatmap.colorScale.ranges;c=f.map(function(_e){return _e.name?_e.name:_e.from+" - "+_e.to}),h=f.map(function(_e){return _e.color})}else this.isBarsDistributed&&(c=r.globals.labels.slice());r.config.legend.customLegendItems.length&&(c=r.config.legend.customLegendItems);for(var u=r.globals.legendFormatter,g=r.config.legend.inverseOrder,x=g?c.length-1:0;g?x>=0:x<=c.length-1;g?x--:x++){var b=u(c[x],{seriesIndex:x,w:r}),w=!1,_=!1;if(r.globals.collapsedSeries.length>0)for(var k=0;k<r.globals.collapsedSeries.length;k++)r.globals.collapsedSeries[k].index===x&&(w=!0);if(r.globals.ancillaryCollapsedSeriesIndices.length>0)for(var P=0;P<r.globals.ancillaryCollapsedSeriesIndices.length;P++)r.globals.ancillaryCollapsedSeriesIndices[P]===x&&(_=!0);var R=document.createElement("span");R.classList.add("apexcharts-legend-marker");var B=r.config.legend.markers.offsetX,V=r.config.legend.markers.offsetY,j=r.config.legend.markers.height,U=r.config.legend.markers.width,m=r.config.legend.markers.strokeWidth,A=r.config.legend.markers.strokeColor,I=r.config.legend.markers.radius,O=R.style;O.background=h[x],O.color=h[x],O.setProperty("background",h[x],"important"),r.config.legend.markers.fillColors&&r.config.legend.markers.fillColors[x]&&(O.background=r.config.legend.markers.fillColors[x]),r.globals.seriesColors[x]!==void 0&&(O.background=r.globals.seriesColors[x],O.color=r.globals.seriesColors[x]),O.height=Array.isArray(j)?parseFloat(j[x])+"px":parseFloat(j)+"px",O.width=Array.isArray(U)?parseFloat(U[x])+"px":parseFloat(U)+"px",O.left=(Array.isArray(B)?parseFloat(B[x]):parseFloat(B))+"px",O.top=(Array.isArray(V)?parseFloat(V[x]):parseFloat(V))+"px",O.borderWidth=Array.isArray(m)?m[x]:m,O.borderColor=Array.isArray(A)?A[x]:A,O.borderRadius=Array.isArray(I)?parseFloat(I[x])+"px":parseFloat(I)+"px",r.config.legend.markers.customHTML&&(Array.isArray(r.config.legend.markers.customHTML)?r.config.legend.markers.customHTML[x]&&(R.innerHTML=r.config.legend.markers.customHTML[x]()):R.innerHTML=r.config.legend.markers.customHTML()),H.setAttrs(R,{rel:x+1,"data:collapsed":w||_}),(w||_)&&R.classList.add("apexcharts-inactive-legend");var X=document.createElement("div"),te=document.createElement("span");te.classList.add("apexcharts-legend-text"),te.innerHTML=Array.isArray(b)?b.join(" "):b;var ee=r.config.legend.labels.useSeriesColors?r.globals.colors[x]:r.config.legend.labels.colors;ee||(ee=r.config.chart.foreColor),te.style.color=ee,te.style.fontSize=parseFloat(r.config.legend.fontSize)+"px",te.style.fontWeight=r.config.legend.fontWeight,te.style.fontFamily=o||r.config.chart.fontFamily,H.setAttrs(te,{rel:x+1,i:x,"data:default-text":encodeURIComponent(b),"data:collapsed":w||_}),X.appendChild(R),X.appendChild(te);var Se=new $(this.ctx);r.config.legend.showForZeroSeries||Se.getSeriesTotalByIndex(x)===0&&Se.seriesHaveSameValues(x)&&!Se.isSeriesNull(x)&&r.globals.collapsedSeriesIndices.indexOf(x)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(x)===-1&&X.classList.add("apexcharts-hidden-zero-series"),r.config.legend.showForNullSeries||Se.isSeriesNull(x)&&r.globals.collapsedSeriesIndices.indexOf(x)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(x)===-1&&X.classList.add("apexcharts-hidden-null-series"),r.globals.dom.elLegendWrap.appendChild(X),r.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(r.config.legend.horizontalAlign)),r.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+r.config.legend.position),X.classList.add("apexcharts-legend-series"),X.style.margin="".concat(r.config.legend.itemMargin.vertical,"px ").concat(r.config.legend.itemMargin.horizontal,"px"),r.globals.dom.elLegendWrap.style.width=r.config.legend.width?r.config.legend.width+"px":"",r.globals.dom.elLegendWrap.style.height=r.config.legend.height?r.config.legend.height+"px":"",H.setAttrs(X,{rel:x+1,seriesName:S.escapeString(c[x]),"data:collapsed":w||_}),(w||_)&&X.classList.add("apexcharts-inactive-legend"),r.config.legend.onItemClick.toggleDataSeries||X.classList.add("apexcharts-no-click")}r.globals.dom.elWrap.addEventListener("click",i.onLegendClick,!0),r.config.legend.onItemHover.highlightDataSeries&&r.config.legend.customLegendItems.length===0&&(r.globals.dom.elWrap.addEventListener("mousemove",i.onLegendHovered,!0),r.globals.dom.elWrap.addEventListener("mouseout",i.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(i,r){var o=this.w,c=o.globals.dom.baseEl.querySelector(".apexcharts-legend"),h=c.getBoundingClientRect(),f=0,u=0;if(o.config.legend.position==="bottom")u+=o.globals.svgHeight-h.height/2;else if(o.config.legend.position==="top"){var g=new je(this.ctx),x=g.dimHelpers.getTitleSubtitleCoords("title").height,b=g.dimHelpers.getTitleSubtitleCoords("subtitle").height;u=u+(x>0?x-10:0)+(b>0?b-10:0)}c.style.position="absolute",f=f+i+o.config.legend.offsetX,u=u+r+o.config.legend.offsetY,c.style.left=f+"px",c.style.top=u+"px",o.config.legend.position==="bottom"?(c.style.top="auto",c.style.bottom=5-o.config.legend.offsetY+"px"):o.config.legend.position==="right"&&(c.style.left="auto",c.style.right=25+o.config.legend.offsetX+"px"),["width","height"].forEach(function(w){c.style[w]&&(c.style[w]=parseInt(o.config.legend[w],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var i=this.w;i.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var r=this.legendHelpers.getLegendBBox(),o=new je(this.ctx),c=o.dimHelpers.getTitleSubtitleCoords("title"),h=o.dimHelpers.getTitleSubtitleCoords("subtitle"),f=0;i.config.legend.position==="bottom"?f=-r.clwh/1.8:i.config.legend.position==="top"&&(f=c.height+h.height+i.config.title.margin+i.config.subtitle.margin-10),this.setLegendWrapXY(20,f)}},{key:"legendAlignVertical",value:function(){var i=this.w,r=this.legendHelpers.getLegendBBox(),o=0;i.config.legend.position==="left"&&(o=20),i.config.legend.position==="right"&&(o=i.globals.svgWidth-r.clww-10),this.setLegendWrapXY(o,20)}},{key:"onLegendHovered",value:function(i){var r=this.w,o=i.target.classList.contains("apexcharts-legend-text")||i.target.classList.contains("apexcharts-legend-marker");if(r.config.chart.type==="heatmap"||this.isBarsDistributed){if(o){var c=parseInt(i.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,c,this.w]),new ce(this.ctx).highlightRangeInSeries(i,i.target)}}else!i.target.classList.contains("apexcharts-inactive-legend")&&o&&new ce(this.ctx).toggleSeriesOnHover(i,i.target)}},{key:"onLegendClick",value:function(i){var r=this.w;if(!r.config.legend.customLegendItems.length&&(i.target.classList.contains("apexcharts-legend-text")||i.target.classList.contains("apexcharts-legend-marker"))){var o=parseInt(i.target.getAttribute("rel"),10)-1,c=i.target.getAttribute("data:collapsed")==="true",h=this.w.config.chart.events.legendClick;typeof h=="function"&&h(this.ctx,o,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,o,this.w]);var f=this.w.config.legend.markers.onClick;typeof f=="function"&&i.target.classList.contains("apexcharts-legend-marker")&&(f(this.ctx,o,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,o,this.w])),r.config.chart.type!=="treemap"&&r.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&r.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(o,c)}}}]),F}(),Je=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w;var r=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=r.globals.minX,this.maxX=r.globals.maxX}return p(F,[{key:"createToolbar",value:function(){var i=this,r=this.w,o=function(){return document.createElement("div")},c=o();if(c.setAttribute("class","apexcharts-toolbar"),c.style.top=r.config.chart.toolbar.offsetY+"px",c.style.right=3-r.config.chart.toolbar.offsetX+"px",r.globals.dom.elWrap.appendChild(c),this.elZoom=o(),this.elZoomIn=o(),this.elZoomOut=o(),this.elPan=o(),this.elSelection=o(),this.elZoomReset=o(),this.elMenuIcon=o(),this.elMenu=o(),this.elCustomIcons=[],this.t=r.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var h=0;h<this.t.customIcons.length;h++)this.elCustomIcons.push(o());var f=[],u=function(w,_,k){var P=w.toLowerCase();i.t[P]&&r.config.chart.zoom.enabled&&f.push({el:_,icon:typeof i.t[P]=="string"?i.t[P]:k,title:i.localeValues[w],class:"apexcharts-".concat(P,"-icon")})};u("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),u("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var g=function(w){i.t[w]&&r.config.chart[w].enabled&&f.push({el:w==="zoom"?i.elZoom:i.elSelection,icon:typeof i.t[w]=="string"?i.t[w]:w==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:i.localeValues[w==="zoom"?"selectionZoom":"selection"],class:r.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(w,"-icon")})};g("zoom"),g("selection"),this.t.pan&&r.config.chart.zoom.enabled&&f.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:r.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),u("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&f.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var x=0;x<this.elCustomIcons.length;x++)f.push({el:this.elCustomIcons[x],icon:this.t.customIcons[x].icon,title:this.t.customIcons[x].title,index:this.t.customIcons[x].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[x].class});f.forEach(function(w,_){w.index&&S.moveIndexInArray(f,_,w.index)});for(var b=0;b<f.length;b++)H.setAttrs(f[b].el,{class:f[b].class,title:f[b].title}),f[b].el.innerHTML=f[b].icon,c.appendChild(f[b].el);this._createHamburgerMenu(c),r.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):r.globals.panEnabled?this.elPan.classList.add(this.selectedClass):r.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(i){this.elMenuItems=[],i.appendChild(this.elMenu),H.setAttrs(this.elMenu,{class:"apexcharts-menu"});var r=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||r.splice(2,1);for(var o=0;o<r.length;o++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[o].innerHTML=r[o].title,H.setAttrs(this.elMenuItems[o],{class:"apexcharts-menu-item ".concat(r[o].name),title:r[o].title}),this.elMenu.appendChild(this.elMenuItems[o])}},{key:"addToolbarEventListeners",value:function(){var i=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(o){o.classList.contains("exportSVG")?o.addEventListener("click",i.handleDownload.bind(i,"svg")):o.classList.contains("exportPNG")?o.addEventListener("click",i.handleDownload.bind(i,"png")):o.classList.contains("exportCSV")&&o.addEventListener("click",i.handleDownload.bind(i,"csv"))});for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons[r].addEventListener("click",this.t.customIcons[r].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(i){this.ctx.getSyncedCharts().forEach(function(r){r.ctx.toolbar.toggleOtherControls();var o=i==="selection"?r.ctx.toolbar.elSelection:r.ctx.toolbar.elZoom,c=i==="selection"?"selectionEnabled":"zoomEnabled";r.w.globals[c]=!r.w.globals[c],o.classList.contains(r.ctx.toolbar.selectedClass)?o.classList.remove(r.ctx.toolbar.selectedClass):o.classList.add(r.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var i=this.w;this.elZoom||(this.elZoom=i.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=i.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=i.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(i){this.toggleOtherControls(),i==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var r=i==="pan"?this.elPan:this.elZoom,o=i==="pan"?this.elZoom:this.elPan;r&&r.classList.add(this.selectedClass),o&&o.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(i){i.ctx.toolbar.toggleOtherControls(),i.w.globals.panEnabled=!i.w.globals.panEnabled,i.ctx.toolbar.elPan.classList.contains(i.ctx.toolbar.selectedClass)?i.ctx.toolbar.elPan.classList.remove(i.ctx.toolbar.selectedClass):i.ctx.toolbar.elPan.classList.add(i.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var i=this,r=this.w;r.globals.panEnabled=!1,r.globals.zoomEnabled=!1,r.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(o){o&&o.classList.remove(i.selectedClass)})}},{key:"handleZoomIn",value:function(){var i=this.w;i.globals.isRangeBar&&(this.minX=i.globals.minY,this.maxX=i.globals.maxY);var r=(this.minX+this.maxX)/2,o=(this.minX+r)/2,c=(this.maxX+r)/2,h=this._getNewMinXMaxX(o,c);i.globals.disableZoomIn||this.zoomUpdateOptions(h.minX,h.maxX)}},{key:"handleZoomOut",value:function(){var i=this.w;if(i.globals.isRangeBar&&(this.minX=i.globals.minY,this.maxX=i.globals.maxY),!(i.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var r=(this.minX+this.maxX)/2,o=this.minX-(r-this.minX),c=this.maxX-(r-this.maxX),h=this._getNewMinXMaxX(o,c);i.globals.disableZoomOut||this.zoomUpdateOptions(h.minX,h.maxX)}}},{key:"_getNewMinXMaxX",value:function(i,r){var o=this.w.config.xaxis.convertedCatToNumeric;return{minX:o?Math.floor(i):i,maxX:o?Math.floor(r):r}}},{key:"zoomUpdateOptions",value:function(i,r){var o=this.w;if(i!==void 0||r!==void 0){if(!(o.config.xaxis.convertedCatToNumeric&&(i<1&&(i=1,r=o.globals.dataPoints),r-i<2))){var c={min:i,max:r},h=this.getBeforeZoomRange(c);h&&(c=h.xaxis);var f={xaxis:c},u=S.clone(o.globals.initialConfig.yaxis);o.config.chart.zoom.autoScaleYaxis&&(u=new ye(this.ctx).autoScaleY(this.ctx,u,{xaxis:c})),o.config.chart.group||(f.yaxis=u),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(f,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(c,u)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(i,r){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:i,yaxis:r})}},{key:"getBeforeZoomRange",value:function(i,r){var o=null;return typeof this.ev.beforeZoom=="function"&&(o=this.ev.beforeZoom(this,{xaxis:i,yaxis:r})),o}},{key:"toggleMenu",value:function(){var i=this;window.setTimeout(function(){i.elMenu.classList.contains("apexcharts-menu-open")?i.elMenu.classList.remove("apexcharts-menu-open"):i.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(i){var r=this.w,o=new Fe(this.ctx);switch(i){case"svg":o.exportToSVG(this.ctx);break;case"png":o.exportToPng(this.ctx);break;case"csv":o.exportToCSV({series:r.config.series,columnDelimiter:r.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(i){this.ctx.getSyncedCharts().forEach(function(r){var o=r.w;if(o.globals.lastXAxis.min=void 0,o.globals.lastXAxis.max=void 0,r.updateHelpers.revertDefaultAxisMinMax(),typeof o.config.chart.events.beforeResetZoom=="function"){var c=o.config.chart.events.beforeResetZoom(r,o);c&&r.updateHelpers.revertDefaultAxisMinMax(c)}typeof o.config.chart.events.zoomed=="function"&&r.ctx.toolbar.zoomCallback({min:o.config.xaxis.min,max:o.config.xaxis.max}),o.globals.zoomed=!1;var h=r.ctx.series.emptyCollapsedSeries(S.clone(o.globals.initialSeries));r.updateHelpers._updateSeries(h,o.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),F}(),We=function(F){y(r,Je);var i=L(r);function r(o){var c;return l(this,r),(c=i.call(this,o)).ctx=o,c.w=o.w,c.dragged=!1,c.graphics=new H(c.ctx),c.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],c.clientX=0,c.clientY=0,c.startX=0,c.endX=0,c.dragX=0,c.startY=0,c.endY=0,c.dragY=0,c.moveDirection="none",c}return p(r,[{key:"init",value:function(o){var c=this,h=o.xyRatios,f=this.w,u=this;this.xyRatios=h,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=f.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),f.globals.dom.elGraphical.add(this.zoomRect),f.globals.dom.elGraphical.add(this.selectionRect),f.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:f.globals.gridWidth,maxY:f.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):f.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:f.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=f.globals.dom.baseEl.querySelector("".concat(f.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(g){c.hoverArea.addEventListener(g,u.svgMouseEvents.bind(u,h),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(o,c){var h=this.w,f=this,u=this.ctx.toolbar,g=h.globals.zoomEnabled?h.config.chart.zoom.type:h.config.chart.selection.type,x=h.config.chart.toolbar.autoSelected;if(c.shiftKey?(this.shiftWasPressed=!0,u.enableZoomPanFromToolbar(x==="pan"?"zoom":"pan")):this.shiftWasPressed&&(u.enableZoomPanFromToolbar(x),this.shiftWasPressed=!1),c.target){var b,w=c.target.classList;if(c.target.parentNode&&c.target.parentNode!==null&&(b=c.target.parentNode.classList),!(w.contains("apexcharts-selection-rect")||w.contains("apexcharts-legend-marker")||w.contains("apexcharts-legend-text")||b&&b.contains("apexcharts-toolbar"))){if(f.clientX=c.type==="touchmove"||c.type==="touchstart"?c.touches[0].clientX:c.type==="touchend"?c.changedTouches[0].clientX:c.clientX,f.clientY=c.type==="touchmove"||c.type==="touchstart"?c.touches[0].clientY:c.type==="touchend"?c.changedTouches[0].clientY:c.clientY,c.type==="mousedown"&&c.which===1){var _=f.gridRect.getBoundingClientRect();f.startX=f.clientX-_.left,f.startY=f.clientY-_.top,f.dragged=!1,f.w.globals.mousedown=!0}if((c.type==="mousemove"&&c.which===1||c.type==="touchmove")&&(f.dragged=!0,h.globals.panEnabled?(h.globals.selection=null,f.w.globals.mousedown&&f.panDragging({context:f,zoomtype:g,xyRatios:o})):(f.w.globals.mousedown&&h.globals.zoomEnabled||f.w.globals.mousedown&&h.globals.selectionEnabled)&&(f.selection=f.selectionDrawing({context:f,zoomtype:g}))),c.type==="mouseup"||c.type==="touchend"||c.type==="mouseleave"){var k=f.gridRect.getBoundingClientRect();f.w.globals.mousedown&&(f.endX=f.clientX-k.left,f.endY=f.clientY-k.top,f.dragX=Math.abs(f.endX-f.startX),f.dragY=Math.abs(f.endY-f.startY),(h.globals.zoomEnabled||h.globals.selectionEnabled)&&f.selectionDrawn({context:f,zoomtype:g}),h.globals.panEnabled&&h.config.xaxis.convertedCatToNumeric&&f.delayedPanScrolled()),h.globals.zoomEnabled&&f.hideSelectionRect(this.selectionRect),f.dragged=!1,f.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var o=this.w;if(this.selectionRect){var c=this.selectionRect.node.getBoundingClientRect();c.width>0&&c.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var o=this.w,c=this.xyRatios;if(!o.globals.zoomEnabled){if(o.globals.selection!==void 0&&o.globals.selection!==null)this.drawSelectionRect(o.globals.selection);else if(o.config.chart.selection.xaxis.min!==void 0&&o.config.chart.selection.xaxis.max!==void 0){var h=(o.config.chart.selection.xaxis.min-o.globals.minX)/c.xRatio,f={x:h,y:0,width:o.globals.gridWidth-(o.globals.maxX-o.config.chart.selection.xaxis.max)/c.xRatio-h,height:o.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(f),this.makeSelectionRectDraggable(),typeof o.config.chart.events.selection=="function"&&o.config.chart.events.selection(this.ctx,{xaxis:{min:o.config.chart.selection.xaxis.min,max:o.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(o){var c=o.x,h=o.y,f=o.width,u=o.height,g=o.translateX,x=g===void 0?0:g,b=o.translateY,w=b===void 0?0:b,_=this.w,k=this.zoomRect,P=this.selectionRect;if(this.dragged||_.globals.selection!==null){var R={transform:"translate("+x+", "+w+")"};_.globals.zoomEnabled&&this.dragged&&(f<0&&(f=1),k.attr({x:c,y:h,width:f,height:u,fill:_.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":_.config.chart.zoom.zoomedArea.fill.opacity,stroke:_.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":_.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":_.config.chart.zoom.zoomedArea.stroke.opacity}),H.setAttrs(k.node,R)),_.globals.selectionEnabled&&(P.attr({x:c,y:h,width:f>0?f:0,height:u>0?u:0,fill:_.config.chart.selection.fill.color,"fill-opacity":_.config.chart.selection.fill.opacity,stroke:_.config.chart.selection.stroke.color,"stroke-width":_.config.chart.selection.stroke.width,"stroke-dasharray":_.config.chart.selection.stroke.dashArray,"stroke-opacity":_.config.chart.selection.stroke.opacity}),H.setAttrs(P.node,R))}}},{key:"hideSelectionRect",value:function(o){o&&o.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(o){var c=o.context,h=o.zoomtype,f=this.w,u=c,g=this.gridRect.getBoundingClientRect(),x=u.startX-1,b=u.startY,w=!1,_=!1,k=u.clientX-g.left-x,P=u.clientY-g.top-b,R={};return Math.abs(k+x)>f.globals.gridWidth?k=f.globals.gridWidth-x:u.clientX-g.left<0&&(k=x),x>u.clientX-g.left&&(w=!0,k=Math.abs(k)),b>u.clientY-g.top&&(_=!0,P=Math.abs(P)),R=h==="x"?{x:w?x-k:x,y:0,width:k,height:f.globals.gridHeight}:h==="y"?{x:0,y:_?b-P:b,width:f.globals.gridWidth,height:P}:{x:w?x-k:x,y:_?b-P:b,width:k,height:P},u.drawSelectionRect(R),u.selectionDragging("resizing"),R}},{key:"selectionDragging",value:function(o,c){var h=this,f=this.w,u=this.xyRatios,g=this.selectionRect,x=0;o==="resizing"&&(x=30);var b=function(_){return parseFloat(g.node.getAttribute(_))},w={x:b("x"),y:b("y"),width:b("width"),height:b("height")};f.globals.selection=w,typeof f.config.chart.events.selection=="function"&&f.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var _=h.gridRect.getBoundingClientRect(),k=g.node.getBoundingClientRect(),P={xaxis:{min:f.globals.xAxisScale.niceMin+(k.left-_.left)*u.xRatio,max:f.globals.xAxisScale.niceMin+(k.right-_.left)*u.xRatio},yaxis:{min:f.globals.yAxisScale[0].niceMin+(_.bottom-k.bottom)*u.yRatio[0],max:f.globals.yAxisScale[0].niceMax-(k.top-_.top)*u.yRatio[0]}};f.config.chart.events.selection(h.ctx,P),f.config.chart.brush.enabled&&f.config.chart.events.brushScrolled!==void 0&&f.config.chart.events.brushScrolled(h.ctx,P)},x))}},{key:"selectionDrawn",value:function(o){var c=o.context,h=o.zoomtype,f=this.w,u=c,g=this.xyRatios,x=this.ctx.toolbar;if(u.startX>u.endX){var b=u.startX;u.startX=u.endX,u.endX=b}if(u.startY>u.endY){var w=u.startY;u.startY=u.endY,u.endY=w}var _=void 0,k=void 0;f.globals.isRangeBar?(_=f.globals.yAxisScale[0].niceMin+u.startX*g.invertedYRatio,k=f.globals.yAxisScale[0].niceMin+u.endX*g.invertedYRatio):(_=f.globals.xAxisScale.niceMin+u.startX*g.xRatio,k=f.globals.xAxisScale.niceMin+u.endX*g.xRatio);var P=[],R=[];if(f.config.yaxis.forEach(function(O,X){P.push(f.globals.yAxisScale[X].niceMax-g.yRatio[X]*u.startY),R.push(f.globals.yAxisScale[X].niceMax-g.yRatio[X]*u.endY)}),u.dragged&&(u.dragX>10||u.dragY>10)&&_!==k){if(f.globals.zoomEnabled){var B=S.clone(f.globals.initialConfig.yaxis),V=S.clone(f.globals.initialConfig.xaxis);if(f.globals.zoomed=!0,f.config.xaxis.convertedCatToNumeric&&(_=Math.floor(_),k=Math.floor(k),_<1&&(_=1,k=f.globals.dataPoints),k-_<2&&(k=_+1)),h!=="xy"&&h!=="x"||(V={min:_,max:k}),h!=="xy"&&h!=="y"||B.forEach(function(O,X){B[X].min=R[X],B[X].max=P[X]}),f.config.chart.zoom.autoScaleYaxis){var j=new ye(u.ctx);B=j.autoScaleY(u.ctx,B,{xaxis:V})}if(x){var U=x.getBeforeZoomRange(V,B);U&&(V=U.xaxis?U.xaxis:V,B=U.yaxis?U.yaxis:B)}var m={xaxis:V};f.config.chart.group||(m.yaxis=B),u.ctx.updateHelpers._updateOptions(m,!1,u.w.config.chart.animations.dynamicAnimation.enabled),typeof f.config.chart.events.zoomed=="function"&&x.zoomCallback(V,B)}else if(f.globals.selectionEnabled){var A,I=null;A={min:_,max:k},h!=="xy"&&h!=="y"||(I=S.clone(f.config.yaxis)).forEach(function(O,X){I[X].min=R[X],I[X].max=P[X]}),f.globals.selection=u.selection,typeof f.config.chart.events.selection=="function"&&f.config.chart.events.selection(u.ctx,{xaxis:A,yaxis:I})}}}},{key:"panDragging",value:function(o){var c=o.context,h=this.w,f=c;if(h.globals.lastClientPosition.x!==void 0){var u=h.globals.lastClientPosition.x-f.clientX,g=h.globals.lastClientPosition.y-f.clientY;Math.abs(u)>Math.abs(g)&&u>0?this.moveDirection="left":Math.abs(u)>Math.abs(g)&&u<0?this.moveDirection="right":Math.abs(g)>Math.abs(u)&&g>0?this.moveDirection="up":Math.abs(g)>Math.abs(u)&&g<0&&(this.moveDirection="down")}h.globals.lastClientPosition={x:f.clientX,y:f.clientY};var x=h.globals.isRangeBar?h.globals.minY:h.globals.minX,b=h.globals.isRangeBar?h.globals.maxY:h.globals.maxX;h.config.xaxis.convertedCatToNumeric||f.panScrolled(x,b)}},{key:"delayedPanScrolled",value:function(){var o=this.w,c=o.globals.minX,h=o.globals.maxX,f=(o.globals.maxX-o.globals.minX)/2;this.moveDirection==="left"?(c=o.globals.minX+f,h=o.globals.maxX+f):this.moveDirection==="right"&&(c=o.globals.minX-f,h=o.globals.maxX-f),c=Math.floor(c),h=Math.floor(h),this.updateScrolledChart({xaxis:{min:c,max:h}},c,h)}},{key:"panScrolled",value:function(o,c){var h=this.w,f=this.xyRatios,u=S.clone(h.globals.initialConfig.yaxis),g=f.xRatio,x=h.globals.minX,b=h.globals.maxX;h.globals.isRangeBar&&(g=f.invertedYRatio,x=h.globals.minY,b=h.globals.maxY),this.moveDirection==="left"?(o=x+h.globals.gridWidth/15*g,c=b+h.globals.gridWidth/15*g):this.moveDirection==="right"&&(o=x-h.globals.gridWidth/15*g,c=b-h.globals.gridWidth/15*g),h.globals.isRangeBar||(o<h.globals.initialMinX||c>h.globals.initialMaxX)&&(o=x,c=b);var w={min:o,max:c};h.config.chart.zoom.autoScaleYaxis&&(u=new ye(this.ctx).autoScaleY(this.ctx,u,{xaxis:w}));var _={xaxis:{min:o,max:c}};h.config.chart.group||(_.yaxis=u),this.updateScrolledChart(_,o,c)}},{key:"updateScrolledChart",value:function(o,c,h){var f=this.w;this.ctx.updateHelpers._updateOptions(o,!1,!1),typeof f.config.chart.events.scrolled=="function"&&f.config.chart.events.scrolled(this.ctx,{xaxis:{min:c,max:h}})}}]),r}(),He=function(){function F(i){l(this,F),this.w=i.w,this.ttCtx=i,this.ctx=i.ctx}return p(F,[{key:"getNearestValues",value:function(i){var r=i.hoverArea,o=i.elGrid,c=i.clientX,h=i.clientY,f=this.w,u=o.getBoundingClientRect(),g=u.width,x=u.height,b=g/(f.globals.dataPoints-1),w=x/f.globals.dataPoints,_=this.hasBars();!f.globals.comboCharts&&!_||f.config.xaxis.convertedCatToNumeric||(b=g/f.globals.dataPoints);var k=c-u.left-f.globals.barPadForNumericAxis,P=h-u.top;k<0||P<0||k>g||P>x?(r.classList.remove("hovering-zoom"),r.classList.remove("hovering-pan")):f.globals.zoomEnabled?(r.classList.remove("hovering-pan"),r.classList.add("hovering-zoom")):f.globals.panEnabled&&(r.classList.remove("hovering-zoom"),r.classList.add("hovering-pan"));var R=Math.round(k/b),B=Math.floor(P/w);_&&!f.config.xaxis.convertedCatToNumeric&&(R=Math.ceil(k/b),R-=1);var V=null,j=null,U=[],m=[];if(f.globals.seriesXvalues.forEach(function(X){U.push([X[0]+1e-6].concat(X))}),f.globals.seriesYvalues.forEach(function(X){m.push([X[0]+1e-6].concat(X))}),U=U.map(function(X){return X.filter(function(te){return S.isNumber(te)})}),m=m.map(function(X){return X.filter(function(te){return S.isNumber(te)})}),f.globals.isXNumeric){var A=this.ttCtx.getElGrid().getBoundingClientRect(),I=k*(A.width/g),O=P*(A.height/x);V=(j=this.closestInMultiArray(I,O,U,m)).index,R=j.j,V!==null&&(U=f.globals.seriesXvalues[V],R=(j=this.closestInArray(I,U)).index)}return f.globals.capturedSeriesIndex=V===null?-1:V,(!R||R<1)&&(R=0),f.globals.isBarHorizontal?f.globals.capturedDataPointIndex=B:f.globals.capturedDataPointIndex=R,{capturedSeries:V,j:f.globals.isBarHorizontal?B:R,hoverX:k,hoverY:P}}},{key:"closestInMultiArray",value:function(i,r,o,c){var h=this.w,f=0,u=null,g=-1;h.globals.series.length>1?f=this.getFirstActiveXArray(o):u=0;var x=o[f][0],b=Math.abs(i-x);if(o.forEach(function(k){k.forEach(function(P,R){var B=Math.abs(i-P);B<b&&(b=B,g=R)})}),g!==-1){var w=c[f][g],_=Math.abs(r-w);u=f,c.forEach(function(k,P){var R=Math.abs(r-k[g]);R<_&&(_=R,u=P)})}return{index:u,j:g}}},{key:"getFirstActiveXArray",value:function(i){for(var r=this.w,o=0,c=i.map(function(f,u){return f.length>0?u:-1}),h=0;h<c.length;h++)if(c[h]!==-1&&r.globals.collapsedSeriesIndices.indexOf(h)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(h)===-1){o=c[h];break}return o}},{key:"closestInArray",value:function(i,r){for(var o=r[0],c=null,h=Math.abs(i-o),f=0;f<r.length;f++){var u=Math.abs(i-r[f]);u<h&&(h=u,c=f)}return{index:c}}},{key:"isXoverlap",value:function(i){var r=[],o=this.w.globals.seriesX.filter(function(h){return h[0]!==void 0});if(o.length>0)for(var c=0;c<o.length-1;c++)o[c][i]!==void 0&&o[c+1][i]!==void 0&&o[c][i]!==o[c+1][i]&&r.push("unEqual");return r.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var i=!0,r=this.w.globals.initialSeries,o=0;o<r.length-1;o++)if(r[o].data.length!==r[o+1].data.length){i=!1;break}return i}},{key:"getBarsHeight",value:function(i){return N(i).reduce(function(r,o){return r+o.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(i=N(i)).sort(function(o,c){var h=Number(o.getAttribute("data:realIndex")),f=Number(c.getAttribute("data:realIndex"));return f<h?1:f>h?-1:0});var r=[];return i.forEach(function(o){r.push(o.querySelector(".apexcharts-marker"))}),r}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(i){var r=this.w,o=r.config.markers.hover.size;return o===void 0&&(o=r.globals.markers.size[i]+r.config.markers.hover.sizeOffset),o}},{key:"toggleAllTooltipSeriesGroups",value:function(i){var r=this.w,o=this.ttCtx;o.allTooltipSeriesGroups.length===0&&(o.allTooltipSeriesGroups=r.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var c=o.allTooltipSeriesGroups,h=0;h<c.length;h++)i==="enable"?(c[h].classList.add("apexcharts-active"),c[h].style.display=r.config.tooltip.items.display):(c[h].classList.remove("apexcharts-active"),c[h].style.display="none")}}]),F}(),ht=function(){function F(i){l(this,F),this.w=i.w,this.ctx=i.ctx,this.ttCtx=i,this.tooltipUtil=new He(i)}return p(F,[{key:"drawSeriesTexts",value:function(i){var r=i.shared,o=r===void 0||r,c=i.ttItems,h=i.i,f=h===void 0?0:h,u=i.j,g=u===void 0?null:u,x=i.y1,b=i.y2,w=i.e,_=this.w;_.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:f,j:g,y1:x,y2:b,w:_}):this.toggleActiveInactiveSeries(o);var k=this.getValuesToPrint({i:f,j:g});this.printLabels({i:f,j:g,values:k,ttItems:c,shared:o,e:w});var P=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=P.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=P.getBoundingClientRect().height}},{key:"printLabels",value:function(i){var r,o=this,c=i.i,h=i.j,f=i.values,u=i.ttItems,g=i.shared,x=i.e,b=this.w,w=[],_=function(A){return b.globals.seriesGoals[A]&&b.globals.seriesGoals[A][h]&&Array.isArray(b.globals.seriesGoals[A][h])},k=f.xVal,P=f.zVal,R=f.xAxisTTVal,B="",V=b.globals.colors[c];h!==null&&b.config.plotOptions.bar.distributed&&(V=b.globals.colors[h]);for(var j=function(A,I){var O=o.getFormatters(c);B=o.getSeriesName({fn:O.yLbTitleFormatter,index:c,seriesIndex:c,j:h}),b.config.chart.type==="treemap"&&(B=O.yLbTitleFormatter(String(b.config.series[c].data[h].x),{series:b.globals.series,seriesIndex:c,dataPointIndex:h,w:b}));var X=b.config.tooltip.inverseOrder?I:A;if(b.globals.axisCharts){var te=function(_e){return O.yLbFormatter(b.globals.series[_e][h],{series:b.globals.series,seriesIndex:_e,dataPointIndex:h,w:b})};if(g)O=o.getFormatters(X),B=o.getSeriesName({fn:O.yLbTitleFormatter,index:X,seriesIndex:c,j:h}),V=b.globals.colors[X],r=te(X),_(X)&&(w=b.globals.seriesGoals[X][h].map(function(_e){return{attrs:_e,val:O.yLbFormatter(_e.value,{seriesIndex:X,dataPointIndex:h,w:b})}}));else{var ee,Se=x==null||(ee=x.target)===null||ee===void 0?void 0:ee.getAttribute("fill");Se&&(V=Se.indexOf("url")!==-1?document.querySelector(Se.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Se),r=te(c),_(c)&&Array.isArray(b.globals.seriesGoals[c][h])&&(w=b.globals.seriesGoals[c][h].map(function(_e){return{attrs:_e,val:O.yLbFormatter(_e.value,{seriesIndex:c,dataPointIndex:h,w:b})}}))}}h===null&&(r=O.yLbFormatter(b.globals.series[c],s(s({},b),{},{seriesIndex:c,dataPointIndex:c}))),o.DOMHandling({i:c,t:X,j:h,ttItems:u,values:{val:r,goalVals:w,xVal:k,xAxisTTVal:R,zVal:P},seriesName:B,shared:g,pColor:V})},U=0,m=b.globals.series.length-1;U<b.globals.series.length;U++,m--)j(U,m)}},{key:"getFormatters",value:function(i){var r,o=this.w,c=o.globals.yLabelFormatters[i];return o.globals.ttVal!==void 0?Array.isArray(o.globals.ttVal)?(c=o.globals.ttVal[i]&&o.globals.ttVal[i].formatter,r=o.globals.ttVal[i]&&o.globals.ttVal[i].title&&o.globals.ttVal[i].title.formatter):(c=o.globals.ttVal.formatter,typeof o.globals.ttVal.title.formatter=="function"&&(r=o.globals.ttVal.title.formatter)):r=o.config.tooltip.y.title.formatter,typeof c!="function"&&(c=o.globals.yLabelFormatters[0]?o.globals.yLabelFormatters[0]:function(h){return h}),typeof r!="function"&&(r=function(h){return h}),{yLbFormatter:c,yLbTitleFormatter:r}}},{key:"getSeriesName",value:function(i){var r=i.fn,o=i.index,c=i.seriesIndex,h=i.j,f=this.w;return r(String(f.globals.seriesNames[o]),{series:f.globals.series,seriesIndex:c,dataPointIndex:h,w:f})}},{key:"DOMHandling",value:function(i){i.i;var r=i.t,o=i.j,c=i.ttItems,h=i.values,f=i.seriesName,u=i.shared,g=i.pColor,x=this.w,b=this.ttCtx,w=h.val,_=h.goalVals,k=h.xVal,P=h.xAxisTTVal,R=h.zVal,B=null;B=c[r].children,x.config.tooltip.fillSeriesColor&&(c[r].style.backgroundColor=g,B[0].style.display="none"),b.showTooltipTitle&&(b.tooltipTitle===null&&(b.tooltipTitle=x.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),b.tooltipTitle.innerHTML=k),b.isXAxisTooltipEnabled&&(b.xaxisTooltipText.innerHTML=P!==""?P:k);var V=c[r].querySelector(".apexcharts-tooltip-text-y-label");V&&(V.innerHTML=f||"");var j=c[r].querySelector(".apexcharts-tooltip-text-y-value");j&&(j.innerHTML=w!==void 0?w:""),B[0]&&B[0].classList.contains("apexcharts-tooltip-marker")&&(x.config.tooltip.marker.fillColors&&Array.isArray(x.config.tooltip.marker.fillColors)&&(g=x.config.tooltip.marker.fillColors[r]),B[0].style.backgroundColor=g),x.config.tooltip.marker.show||(B[0].style.display="none");var U=c[r].querySelector(".apexcharts-tooltip-text-goals-label"),m=c[r].querySelector(".apexcharts-tooltip-text-goals-value");if(_.length&&x.globals.seriesGoals[r]){var A=function(){var I="<div >",O="<div>";_.forEach(function(X,te){I+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(X.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(X.attrs.name,"</div>"),O+="<div>".concat(X.val,"</div>")}),U.innerHTML=I+"</div>",m.innerHTML=O+"</div>"};u?x.globals.seriesGoals[r][o]&&Array.isArray(x.globals.seriesGoals[r][o])?A():(U.innerHTML="",m.innerHTML=""):A()}else U.innerHTML="",m.innerHTML="";R!==null&&(c[r].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=x.config.tooltip.z.title,c[r].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=R!==void 0?R:""),u&&B[0]&&(w==null||x.globals.ancillaryCollapsedSeriesIndices.indexOf(r)>-1||x.globals.collapsedSeriesIndices.indexOf(r)>-1?B[0].parentNode.style.display="none":B[0].parentNode.style.display=x.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(i){var r=this.w;if(i)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var o=r.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");o&&(o.classList.add("apexcharts-active"),o.style.display=r.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(i){var r=i.i,o=i.j,c=this.w,h=this.ctx.series.filteredSeriesX(),f="",u="",g=null,x=null,b={series:c.globals.series,seriesIndex:r,dataPointIndex:o,w:c},w=c.globals.ttZFormatter;o===null?x=c.globals.series[r]:c.globals.isXNumeric&&c.config.chart.type!=="treemap"?(f=h[r][o],h[r].length===0&&(f=h[this.tooltipUtil.getFirstActiveXArray(h)][o])):f=c.globals.labels[o]!==void 0?c.globals.labels[o]:"";var _=f;return c.globals.isXNumeric&&c.config.xaxis.type==="datetime"?f=new Ue(this.ctx).xLabelFormat(c.globals.ttKeyFormatter,_,_,{i:void 0,dateFormatter:new ae(this.ctx).formatDate,w:this.w}):f=c.globals.isBarHorizontal?c.globals.yLabelFormatters[0](_,b):c.globals.xLabelFormatter(_,b),c.config.tooltip.x.formatter!==void 0&&(f=c.globals.ttKeyFormatter(_,b)),c.globals.seriesZ.length>0&&c.globals.seriesZ[r].length>0&&(g=w(c.globals.seriesZ[r][o],c)),u=typeof c.config.xaxis.tooltip.formatter=="function"?c.globals.xaxisTooltipFormatter(_,b):f,{val:Array.isArray(x)?x.join(" "):x,xVal:Array.isArray(f)?f.join(" "):f,xAxisTTVal:Array.isArray(u)?u.join(" "):u,zVal:g}}},{key:"handleCustomTooltip",value:function(i){var r=i.i,o=i.j,c=i.y1,h=i.y2,f=i.w,u=this.ttCtx.getElTooltip(),g=f.config.tooltip.custom;Array.isArray(g)&&g[r]&&(g=g[r]),u.innerHTML=g({ctx:this.ctx,series:f.globals.series,seriesIndex:r,dataPointIndex:o,y1:c,y2:h,w:f})}}]),F}(),ie=function(){function F(i){l(this,F),this.ttCtx=i,this.ctx=i.ctx,this.w=i.w}return p(F,[{key:"moveXCrosshairs",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=this.ttCtx,c=this.w,h=o.getElXCrosshairs(),f=i-o.xcrosshairsWidth/2,u=c.globals.labels.slice().length;if(r!==null&&(f=c.globals.gridWidth/u*r),h===null||c.globals.isBarHorizontal||(h.setAttribute("x",f),h.setAttribute("x1",f),h.setAttribute("x2",f),h.setAttribute("y2",c.globals.gridHeight),h.classList.add("apexcharts-active")),f<0&&(f=0),f>c.globals.gridWidth&&(f=c.globals.gridWidth),o.isXAxisTooltipEnabled){var g=f;c.config.xaxis.crosshairs.width!=="tickWidth"&&c.config.xaxis.crosshairs.width!=="barWidth"||(g=f+o.xcrosshairsWidth/2),this.moveXAxisTooltip(g)}}},{key:"moveYCrosshairs",value:function(i){var r=this.ttCtx;r.ycrosshairs!==null&&H.setAttrs(r.ycrosshairs,{y1:i,y2:i}),r.ycrosshairsHidden!==null&&H.setAttrs(r.ycrosshairsHidden,{y1:i,y2:i})}},{key:"moveXAxisTooltip",value:function(i){var r=this.w,o=this.ttCtx;if(o.xaxisTooltip!==null&&o.xcrosshairsWidth!==0){o.xaxisTooltip.classList.add("apexcharts-active");var c=o.xaxisOffY+r.config.xaxis.tooltip.offsetY+r.globals.translateY+1+r.config.xaxis.offsetY;if(i-=o.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(i)){i+=r.globals.translateX;var h;h=new H(this.ctx).getTextRects(o.xaxisTooltipText.innerHTML),o.xaxisTooltipText.style.minWidth=h.width+"px",o.xaxisTooltip.style.left=i+"px",o.xaxisTooltip.style.top=c+"px"}}}},{key:"moveYAxisTooltip",value:function(i){var r=this.w,o=this.ttCtx;o.yaxisTTEls===null&&(o.yaxisTTEls=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var c=parseInt(o.ycrosshairsHidden.getAttribute("y1"),10),h=r.globals.translateY+c,f=o.yaxisTTEls[i].getBoundingClientRect().height,u=r.globals.translateYAxisX[i]-2;r.config.yaxis[i].opposite&&(u-=26),h-=f/2,r.globals.ignoreYAxisIndexes.indexOf(i)===-1?(o.yaxisTTEls[i].classList.add("apexcharts-active"),o.yaxisTTEls[i].style.top=h+"px",o.yaxisTTEls[i].style.left=u+r.config.yaxis[i].tooltip.offsetX+"px"):o.yaxisTTEls[i].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(i,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=this.w,h=this.ttCtx,f=h.getElTooltip(),u=h.tooltipRect,g=o!==null?parseFloat(o):1,x=parseFloat(i)+g+5,b=parseFloat(r)+g/2;if(x>c.globals.gridWidth/2&&(x=x-u.ttWidth-g-10),x>c.globals.gridWidth-u.ttWidth-10&&(x=c.globals.gridWidth-u.ttWidth),x<-20&&(x=-20),c.config.tooltip.followCursor){var w=h.getElGrid(),_=w.getBoundingClientRect();b=h.e.clientY+c.globals.translateY-_.top-u.ttHeight/2}else c.globals.isBarHorizontal||(u.ttHeight/2+b>c.globals.gridHeight&&(b=c.globals.gridHeight-u.ttHeight+c.globals.translateY),b<0&&(b=0));isNaN(x)||(x+=c.globals.translateX,f.style.left=x+"px",f.style.top=b+"px")}},{key:"moveMarkers",value:function(i,r){var o=this.w,c=this.ttCtx;if(o.globals.markers.size[i]>0)for(var h=o.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(i,"'] .apexcharts-marker")),f=0;f<h.length;f++)parseInt(h[f].getAttribute("rel"),10)===r&&(c.marker.resetPointsSize(),c.marker.enlargeCurrentPoint(r,h[f]));else c.marker.resetPointsSize(),this.moveDynamicPointOnHover(r,i)}},{key:"moveDynamicPointOnHover",value:function(i,r){var o,c,h=this.w,f=this.ttCtx,u=h.globals.pointsArray,g=f.tooltipUtil.getHoverMarkerSize(r),x=h.config.series[r].type;if(!x||x!=="column"&&x!=="candlestick"&&x!=="boxPlot"){o=u[r][i][0],c=u[r][i][1]?u[r][i][1]:0;var b=h.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"'] .apexcharts-series-markers circle"));b&&c<h.globals.gridHeight&&c>0&&(b.setAttribute("r",g),b.setAttribute("cx",o),b.setAttribute("cy",c)),this.moveXCrosshairs(o),f.fixedTooltip||this.moveTooltip(o,c,g)}}},{key:"moveDynamicPointsOnHover",value:function(i){var r,o=this.ttCtx,c=o.w,h=0,f=0,u=c.globals.pointsArray;r=new ce(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var g=o.tooltipUtil.getHoverMarkerSize(r);u[r]&&(h=u[r][i][0],f=u[r][i][1]);var x=o.tooltipUtil.getAllMarkers();if(x!==null)for(var b=0;b<c.globals.series.length;b++){var w=u[b];if(c.globals.comboCharts&&w===void 0&&x.splice(b,0,null),w&&w.length){var _=u[b][i][1],k=void 0;if(x[b].setAttribute("cx",h),c.config.chart.type==="rangeArea"&&!c.globals.comboCharts){var P=i+c.globals.series[b].length;k=u[b][P][1],_-=Math.abs(_-k)/2}_!==null&&!isNaN(_)&&_<c.globals.gridHeight+g&&_+g>0?(x[b]&&x[b].setAttribute("r",g),x[b]&&x[b].setAttribute("cy",_)):x[b]&&x[b].setAttribute("r",0)}}if(this.moveXCrosshairs(h),!o.fixedTooltip){var R=f||c.globals.gridHeight;this.moveTooltip(h,R,g)}}},{key:"moveStickyTooltipOverBars",value:function(i){var r=this.w,o=this.ttCtx,c=r.globals.columnSeries?r.globals.columnSeries.length:r.globals.series.length,h=c>=2&&c%2==0?Math.floor(c/2):Math.floor(c/2)+1;r.globals.isBarHorizontal&&(h=new ce(this.ctx).getActiveConfigSeriesIndex("desc")+1);var f=r.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(h,"'] path[j='").concat(i,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(h,"'] path[j='").concat(i,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(h,"'] path[j='").concat(i,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(h,"'] path[j='").concat(i,"']")),u=f?parseFloat(f.getAttribute("cx")):0,g=f?parseFloat(f.getAttribute("cy")):0,x=f?parseFloat(f.getAttribute("barWidth")):0,b=f?parseFloat(f.getAttribute("barHeight")):0,w=o.getElGrid().getBoundingClientRect(),_=f.classList.contains("apexcharts-candlestick-area")||f.classList.contains("apexcharts-boxPlot-area");if(r.globals.isXNumeric?(f&&!_&&(u-=c%2!=0?x/2:0),f&&_&&r.globals.comboCharts&&(u-=x/2)):r.globals.isBarHorizontal||(u=o.xAxisTicksPositions[i-1]+o.dataPointsDividedWidth/2,isNaN(u)&&(u=o.xAxisTicksPositions[i]-o.dataPointsDividedWidth/2)),r.globals.isBarHorizontal?(g>r.globals.gridHeight/2&&(g-=o.tooltipRect.ttHeight),(g=g+r.config.grid.padding.top+b/3)+b>r.globals.gridHeight&&(g=r.globals.gridHeight-b)):r.config.tooltip.followCursor?g=o.e.clientY-w.top-o.tooltipRect.ttHeight/2:g+o.tooltipRect.ttHeight+15>r.globals.gridHeight&&(g=r.globals.gridHeight),g<-10&&(g=-10),r.globals.isBarHorizontal||this.moveXCrosshairs(u),!o.fixedTooltip){var k=g||r.globals.gridHeight;this.moveTooltip(u,k)}}}]),F}(),qe=function(){function F(i){l(this,F),this.w=i.w,this.ttCtx=i,this.ctx=i.ctx,this.tooltipPosition=new ie(i)}return p(F,[{key:"drawDynamicPoints",value:function(){var i=this.w,r=new H(this.ctx),o=new xe(this.ctx),c=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series");c=N(c),i.config.chart.stacked&&c.sort(function(w,_){return parseFloat(w.getAttribute("data:realIndex"))-parseFloat(_.getAttribute("data:realIndex"))});for(var h=0;h<c.length;h++){var f=c[h].querySelector(".apexcharts-series-markers-wrap");if(f!==null){var u=void 0,g="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));i.config.chart.type!=="line"&&i.config.chart.type!=="area"||i.globals.comboCharts||i.config.tooltip.intersect||(g+=" no-pointer-events");var x=o.getMarkerConfig({cssClass:g,seriesIndex:Number(f.getAttribute("data:realIndex"))});(u=r.drawMarker(0,0,x)).node.setAttribute("default-marker-size",0);var b=document.createElementNS(i.globals.SVGNS,"g");b.classList.add("apexcharts-series-markers"),b.appendChild(u.node),f.appendChild(b)}}}},{key:"enlargeCurrentPoint",value:function(i,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=this.w;h.config.chart.type!=="bubble"&&this.newPointSize(i,r);var f=r.getAttribute("cx"),u=r.getAttribute("cy");if(o!==null&&c!==null&&(f=o,u=c),this.tooltipPosition.moveXCrosshairs(f),!this.fixedTooltip){if(h.config.chart.type==="radar"){var g=this.ttCtx.getElGrid(),x=g.getBoundingClientRect();f=this.ttCtx.e.clientX-x.left}this.tooltipPosition.moveTooltip(f,u,h.config.markers.hover.size)}}},{key:"enlargePoints",value:function(i){for(var r=this.w,o=this,c=this.ttCtx,h=i,f=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),u=r.config.markers.hover.size,g=0;g<f.length;g++){var x=f[g].getAttribute("rel"),b=f[g].getAttribute("index");if(u===void 0&&(u=r.globals.markers.size[b]+r.config.markers.hover.sizeOffset),h===parseInt(x,10)){o.newPointSize(h,f[g]);var w=f[g].getAttribute("cx"),_=f[g].getAttribute("cy");o.tooltipPosition.moveXCrosshairs(w),c.fixedTooltip||o.tooltipPosition.moveTooltip(w,_,u)}else o.oldPointSize(f[g])}}},{key:"newPointSize",value:function(i,r){var o=this.w,c=o.config.markers.hover.size,h=i===0?r.parentNode.firstChild:r.parentNode.lastChild;if(h.getAttribute("default-marker-size")!=="0"){var f=parseInt(h.getAttribute("index"),10);c===void 0&&(c=o.globals.markers.size[f]+o.config.markers.hover.sizeOffset),c<0&&(c=0),h.setAttribute("r",c)}}},{key:"oldPointSize",value:function(i){var r=parseFloat(i.getAttribute("default-marker-size"));i.setAttribute("r",r)}},{key:"resetPointsSize",value:function(){for(var i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),r=0;r<i.length;r++){var o=parseFloat(i[r].getAttribute("default-marker-size"));S.isNumber(o)&&o>=0?i[r].setAttribute("r",o):i[r].setAttribute("r",0)}}}]),F}(),Ge=function(){function F(i){l(this,F),this.w=i.w,this.ttCtx=i}return p(F,[{key:"getAttr",value:function(i,r){return parseFloat(i.target.getAttribute(r))}},{key:"handleHeatTreeTooltip",value:function(i){var r=i.e,o=i.opt,c=i.x,h=i.y,f=i.type,u=this.ttCtx,g=this.w;if(r.target.classList.contains("apexcharts-".concat(f,"-rect"))){var x=this.getAttr(r,"i"),b=this.getAttr(r,"j"),w=this.getAttr(r,"cx"),_=this.getAttr(r,"cy"),k=this.getAttr(r,"width"),P=this.getAttr(r,"height");if(u.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:x,j:b,shared:!1,e:r}),g.globals.capturedSeriesIndex=x,g.globals.capturedDataPointIndex=b,c=w+u.tooltipRect.ttWidth/2+k,h=_+u.tooltipRect.ttHeight/2-P/2,u.tooltipPosition.moveXCrosshairs(w+k/2),c>g.globals.gridWidth/2&&(c=w-u.tooltipRect.ttWidth/2+k),u.w.config.tooltip.followCursor){var R=g.globals.dom.elWrap.getBoundingClientRect();c=g.globals.clientX-R.left-(c>g.globals.gridWidth/2?u.tooltipRect.ttWidth:0),h=g.globals.clientY-R.top-(h>g.globals.gridHeight/2?u.tooltipRect.ttHeight:0)}}return{x:c,y:h}}},{key:"handleMarkerTooltip",value:function(i){var r,o,c=i.e,h=i.opt,f=i.x,u=i.y,g=this.w,x=this.ttCtx;if(c.target.classList.contains("apexcharts-marker")){var b=parseInt(h.paths.getAttribute("cx"),10),w=parseInt(h.paths.getAttribute("cy"),10),_=parseFloat(h.paths.getAttribute("val"));if(o=parseInt(h.paths.getAttribute("rel"),10),r=parseInt(h.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,x.intersect){var k=S.findAncestor(h.paths,"apexcharts-series");k&&(r=parseInt(k.getAttribute("data:realIndex"),10))}if(x.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i:r,j:o,shared:!x.showOnIntersect&&g.config.tooltip.shared,e:c}),c.type==="mouseup"&&x.markerClick(c,r,o),g.globals.capturedSeriesIndex=r,g.globals.capturedDataPointIndex=o,f=b,u=w+g.globals.translateY-1.4*x.tooltipRect.ttHeight,x.w.config.tooltip.followCursor){var P=x.getElGrid().getBoundingClientRect();u=x.e.clientY+g.globals.translateY-P.top}_<0&&(u=w),x.marker.enlargeCurrentPoint(o,h.paths,f,u)}return{x:f,y:u}}},{key:"handleBarTooltip",value:function(i){var r,o,c=i.e,h=i.opt,f=this.w,u=this.ttCtx,g=u.getElTooltip(),x=0,b=0,w=0,_=this.getBarTooltipXY({e:c,opt:h});r=_.i;var k=_.barHeight,P=_.j;f.globals.capturedSeriesIndex=r,f.globals.capturedDataPointIndex=P,f.globals.isBarHorizontal&&u.tooltipUtil.hasBars()||!f.config.tooltip.shared?(b=_.x,w=_.y,o=Array.isArray(f.config.stroke.width)?f.config.stroke.width[r]:f.config.stroke.width,x=b):f.globals.comboCharts||f.config.tooltip.shared||(x/=2),isNaN(w)?w=f.globals.svgHeight-u.tooltipRect.ttHeight:w<0&&(w=0);var R=parseInt(h.paths.parentNode.getAttribute("data:realIndex"),10),B=f.globals.isMultipleYAxis?f.config.yaxis[R]&&f.config.yaxis[R].reversed:f.config.yaxis[0].reversed;if(b+u.tooltipRect.ttWidth>f.globals.gridWidth&&!B?b-=u.tooltipRect.ttWidth:b<0&&(b=0),u.w.config.tooltip.followCursor){var V=u.getElGrid().getBoundingClientRect();w=u.e.clientY-V.top}u.tooltip===null&&(u.tooltip=f.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),f.config.tooltip.shared||(f.globals.comboBarCount>0?u.tooltipPosition.moveXCrosshairs(x+o/2):u.tooltipPosition.moveXCrosshairs(x)),!u.fixedTooltip&&(!f.config.tooltip.shared||f.globals.isBarHorizontal&&u.tooltipUtil.hasBars())&&(B&&(b-=u.tooltipRect.ttWidth)<0&&(b=0),!B||f.globals.isBarHorizontal&&u.tooltipUtil.hasBars()||(w=w+k-2*(f.globals.series[r][P]<0?k:0)),u.tooltipRect.ttHeight+w>f.globals.gridHeight?w=f.globals.gridHeight-u.tooltipRect.ttHeight+f.globals.translateY:(w=w+f.globals.translateY-u.tooltipRect.ttHeight/2)<0&&(w=0),g.style.left=b+f.globals.translateX+"px",g.style.top=w+"px")}},{key:"getBarTooltipXY",value:function(i){var r=i.e,o=i.opt,c=this.w,h=null,f=this.ttCtx,u=0,g=0,x=0,b=0,w=0,_=r.target.classList;if(_.contains("apexcharts-bar-area")||_.contains("apexcharts-candlestick-area")||_.contains("apexcharts-boxPlot-area")||_.contains("apexcharts-rangebar-area")){var k=r.target,P=k.getBoundingClientRect(),R=o.elGrid.getBoundingClientRect(),B=P.height;w=P.height;var V=P.width,j=parseInt(k.getAttribute("cx"),10),U=parseInt(k.getAttribute("cy"),10);b=parseFloat(k.getAttribute("barWidth"));var m=r.type==="touchmove"?r.touches[0].clientX:r.clientX;h=parseInt(k.getAttribute("j"),10),u=parseInt(k.parentNode.getAttribute("rel"),10)-1;var A=k.getAttribute("data-range-y1"),I=k.getAttribute("data-range-y2");c.globals.comboCharts&&(u=parseInt(k.parentNode.getAttribute("data:realIndex"),10)),f.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:u,j:h,y1:A?parseInt(A,10):null,y2:I?parseInt(I,10):null,shared:!f.showOnIntersect&&c.config.tooltip.shared,e:r}),c.config.tooltip.followCursor?c.globals.isBarHorizontal?(g=m-R.left+15,x=U-f.dataPointsDividedHeight+B/2-f.tooltipRect.ttHeight/2):(g=c.globals.isXNumeric?j-V/2:j-f.dataPointsDividedWidth+V/2,x=r.clientY-R.top-f.tooltipRect.ttHeight/2-15):c.globals.isBarHorizontal?((g=j)<f.xyRatios.baseLineInvertedY&&(g=j-f.tooltipRect.ttWidth),x=U-f.dataPointsDividedHeight+B/2-f.tooltipRect.ttHeight/2):(g=c.globals.isXNumeric?j-V/2:j-f.dataPointsDividedWidth+V/2,x=U)}return{x:g,y:x,barHeight:w,barWidth:b,i:u,j:h}}}]),F}(),st=function(){function F(i){l(this,F),this.w=i.w,this.ttCtx=i}return p(F,[{key:"drawXaxisTooltip",value:function(){var i=this.w,r=this.ttCtx,o=i.config.xaxis.position==="bottom";r.xaxisOffY=o?i.globals.gridHeight+1:-i.globals.xAxisHeight-i.config.xaxis.axisTicks.height+3;var c=o?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",h=i.globals.dom.elWrap;r.isXAxisTooltipEnabled&&i.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(r.xaxisTooltip=document.createElement("div"),r.xaxisTooltip.setAttribute("class",c+" apexcharts-theme-"+i.config.tooltip.theme),h.appendChild(r.xaxisTooltip),r.xaxisTooltipText=document.createElement("div"),r.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),r.xaxisTooltipText.style.fontFamily=i.config.xaxis.tooltip.style.fontFamily||i.config.chart.fontFamily,r.xaxisTooltipText.style.fontSize=i.config.xaxis.tooltip.style.fontSize,r.xaxisTooltip.appendChild(r.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var i=this.w,r=this.ttCtx,o=function(h){var f=i.config.yaxis[h].opposite||i.config.yaxis[h].crosshairs.opposite;r.yaxisOffX=f?i.globals.gridWidth+1:1;var u="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(h,f?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");i.globals.yAxisSameScaleIndices.map(function(x,b){x.map(function(w,_){_===h&&(u+=i.config.yaxis[_].show?" ":" apexcharts-yaxistooltip-hidden")})});var g=i.globals.dom.elWrap;i.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(h))===null&&(r.yaxisTooltip=document.createElement("div"),r.yaxisTooltip.setAttribute("class",u+" apexcharts-theme-"+i.config.tooltip.theme),g.appendChild(r.yaxisTooltip),h===0&&(r.yaxisTooltipText=[]),r.yaxisTooltipText[h]=document.createElement("div"),r.yaxisTooltipText[h].classList.add("apexcharts-yaxistooltip-text"),r.yaxisTooltip.appendChild(r.yaxisTooltipText[h]))},c=0;c<i.config.yaxis.length;c++)o(c)}},{key:"setXCrosshairWidth",value:function(){var i=this.w,r=this.ttCtx,o=r.getElXCrosshairs();if(r.xcrosshairsWidth=parseInt(i.config.xaxis.crosshairs.width,10),i.globals.comboCharts){var c=i.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(c!==null&&i.config.xaxis.crosshairs.width==="barWidth"){var h=parseFloat(c.getAttribute("barWidth"));r.xcrosshairsWidth=h}else if(i.config.xaxis.crosshairs.width==="tickWidth"){var f=i.globals.labels.length;r.xcrosshairsWidth=i.globals.gridWidth/f}}else if(i.config.xaxis.crosshairs.width==="tickWidth"){var u=i.globals.labels.length;r.xcrosshairsWidth=i.globals.gridWidth/u}else if(i.config.xaxis.crosshairs.width==="barWidth"){var g=i.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(g!==null){var x=parseFloat(g.getAttribute("barWidth"));r.xcrosshairsWidth=x}else r.xcrosshairsWidth=1}i.globals.isBarHorizontal&&(r.xcrosshairsWidth=0),o!==null&&r.xcrosshairsWidth>0&&o.setAttribute("width",r.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var i=this.w,r=this.ttCtx;r.ycrosshairs=i.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),r.ycrosshairsHidden=i.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(i,r,o){var c=this.ttCtx,h=this.w,f=h.globals.yLabelFormatters[i];if(c.yaxisTooltips[i]){var u=c.getElGrid().getBoundingClientRect(),g=(r-u.top)*o.yRatio[i],x=h.globals.maxYArr[i]-h.globals.minYArr[i],b=h.globals.minYArr[i]+(x-g);c.tooltipPosition.moveYCrosshairs(r-u.top),c.yaxisTooltipText[i].innerHTML=f(b),c.tooltipPosition.moveYAxisTooltip(i)}}}]),F}(),Me=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w;var r=this.w;this.tConfig=r.config.tooltip,this.tooltipUtil=new He(this),this.tooltipLabels=new ht(this),this.tooltipPosition=new ie(this),this.marker=new qe(this),this.intersect=new Ge(this),this.axesTooltip=new st(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!r.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return p(F,[{key:"getElTooltip",value:function(i){return i||(i=this),i.w.globals.dom.baseEl?i.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(i){var r=this.w;this.xyRatios=i,this.isXAxisTooltipEnabled=r.config.xaxis.tooltip.enabled&&r.globals.axisCharts,this.yaxisTooltips=r.config.yaxis.map(function(f,u){return!!(f.show&&f.tooltip.enabled&&r.globals.axisCharts)}),this.allTooltipSeriesGroups=[],r.globals.axisCharts||(this.showTooltipTitle=!1);var o=document.createElement("div");if(o.classList.add("apexcharts-tooltip"),r.config.tooltip.cssClass&&o.classList.add(r.config.tooltip.cssClass),o.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),r.globals.dom.elWrap.appendChild(o),r.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var c=new ct(this.ctx);this.xAxisTicksPositions=c.getXAxisTicksPositions()}if(!r.globals.comboCharts&&!this.tConfig.intersect&&r.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),r.config.markers.size!==0&&r.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),r.globals.collapsedSeries.length!==r.globals.series.length){this.dataPointsDividedHeight=r.globals.gridHeight/r.globals.dataPoints,this.dataPointsDividedWidth=r.globals.gridWidth/r.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||r.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,o.appendChild(this.tooltipTitle));var h=r.globals.series.length;(r.globals.xyCharts||r.globals.comboCharts)&&this.tConfig.shared&&(h=this.showOnIntersect?1:r.globals.series.length),this.legendLabels=r.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(h),this.addSVGEvents()}}},{key:"createTTElements",value:function(i){for(var r=this,o=this.w,c=[],h=this.getElTooltip(),f=function(g){var x=document.createElement("div");x.classList.add("apexcharts-tooltip-series-group"),x.style.order=o.config.tooltip.inverseOrder?i-g:g+1,r.tConfig.shared&&r.tConfig.enabledOnSeries&&Array.isArray(r.tConfig.enabledOnSeries)&&r.tConfig.enabledOnSeries.indexOf(g)<0&&x.classList.add("apexcharts-tooltip-series-group-hidden");var b=document.createElement("span");b.classList.add("apexcharts-tooltip-marker"),b.style.backgroundColor=o.globals.colors[g],x.appendChild(b);var w=document.createElement("div");w.classList.add("apexcharts-tooltip-text"),w.style.fontFamily=r.tConfig.style.fontFamily||o.config.chart.fontFamily,w.style.fontSize=r.tConfig.style.fontSize,["y","goals","z"].forEach(function(_){var k=document.createElement("div");k.classList.add("apexcharts-tooltip-".concat(_,"-group"));var P=document.createElement("span");P.classList.add("apexcharts-tooltip-text-".concat(_,"-label")),k.appendChild(P);var R=document.createElement("span");R.classList.add("apexcharts-tooltip-text-".concat(_,"-value")),k.appendChild(R),w.appendChild(k)}),x.appendChild(w),h.appendChild(x),c.push(x)},u=0;u<i;u++)f(u);return c}},{key:"addSVGEvents",value:function(){var i=this.w,r=i.config.chart.type,o=this.getElTooltip(),c=!(r!=="bar"&&r!=="candlestick"&&r!=="boxPlot"&&r!=="rangeBar"),h=r==="area"||r==="line"||r==="scatter"||r==="bubble"||r==="radar",f=i.globals.dom.Paper.node,u=this.getElGrid();u&&(this.seriesBound=u.getBoundingClientRect());var g,x=[],b=[],w={hoverArea:f,elGrid:u,tooltipEl:o,tooltipY:x,tooltipX:b,ttItems:this.ttItems};if(i.globals.axisCharts&&(h?g=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):c?g=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):r!=="heatmap"&&r!=="treemap"||(g=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),g&&g.length))for(var _=0;_<g.length;_++)x.push(g[_].getAttribute("cy")),b.push(g[_].getAttribute("cx"));if(i.globals.xyCharts&&!this.showOnIntersect||i.globals.comboCharts&&!this.showOnIntersect||c&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([f],w);else if(c&&!i.globals.comboCharts||h&&this.showOnIntersect)this.addDatapointEventsListeners(w);else if(!i.globals.axisCharts||r==="heatmap"||r==="treemap"){var k=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(k,w)}if(this.showOnIntersect){var P=i.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");P.length>0&&this.addPathsEventListeners(P,w),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(w)}}},{key:"drawFixedTooltipRect",value:function(){var i=this.w,r=this.getElTooltip(),o=r.getBoundingClientRect(),c=o.width+10,h=o.height+10,f=this.tConfig.fixed.offsetX,u=this.tConfig.fixed.offsetY,g=this.tConfig.fixed.position.toLowerCase();return g.indexOf("right")>-1&&(f=f+i.globals.svgWidth-c+10),g.indexOf("bottom")>-1&&(u=u+i.globals.svgHeight-h-10),r.style.left=f+"px",r.style.top=u+"px",{x:f,y:u,ttWidth:c,ttHeight:h}}},{key:"addDatapointEventsListeners",value:function(i){var r=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(r,i)}},{key:"addPathsEventListeners",value:function(i,r){for(var o=this,c=function(f){var u={paths:i[f],tooltipEl:r.tooltipEl,tooltipY:r.tooltipY,tooltipX:r.tooltipX,elGrid:r.elGrid,hoverArea:r.hoverArea,ttItems:r.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(g){return i[f].addEventListener(g,o.onSeriesHover.bind(o,u),{capture:!1,passive:!0})})},h=0;h<i.length;h++)c(h)}},{key:"onSeriesHover",value:function(i,r){var o=this,c=Date.now()-this.lastHoverTime;c>=100?this.seriesHover(i,r):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){o.seriesHover(i,r)},100-c))}},{key:"seriesHover",value:function(i,r){var o=this;this.lastHoverTime=Date.now();var c=[],h=this.w;h.config.chart.group&&(c=this.ctx.getGroupedCharts()),h.globals.axisCharts&&(h.globals.minX===-1/0&&h.globals.maxX===1/0||h.globals.dataPoints===0)||(c.length?c.forEach(function(f){var u=o.getElTooltip(f),g={paths:i.paths,tooltipEl:u,tooltipY:i.tooltipY,tooltipX:i.tooltipX,elGrid:i.elGrid,hoverArea:i.hoverArea,ttItems:f.w.globals.tooltip.ttItems};f.w.globals.minX===o.w.globals.minX&&f.w.globals.maxX===o.w.globals.maxX&&f.w.globals.tooltip.seriesHoverByContext({chartCtx:f,ttCtx:f.w.globals.tooltip,opt:g,e:r})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:i,e:r}))}},{key:"seriesHoverByContext",value:function(i){var r=i.chartCtx,o=i.ttCtx,c=i.opt,h=i.e,f=r.w,u=this.getElTooltip();u&&(o.tooltipRect={x:0,y:0,ttWidth:u.getBoundingClientRect().width,ttHeight:u.getBoundingClientRect().height},o.e=h,o.tooltipUtil.hasBars()&&!f.globals.comboCharts&&!o.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new ce(r).toggleSeriesOnHover(h,h.target.parentNode),o.fixedTooltip&&o.drawFixedTooltipRect(),f.globals.axisCharts?o.axisChartsTooltips({e:h,opt:c,tooltipRect:o.tooltipRect}):o.nonAxisChartsTooltips({e:h,opt:c,tooltipRect:o.tooltipRect}))}},{key:"axisChartsTooltips",value:function(i){var r,o,c=i.e,h=i.opt,f=this.w,u=h.elGrid.getBoundingClientRect(),g=c.type==="touchmove"?c.touches[0].clientX:c.clientX,x=c.type==="touchmove"?c.touches[0].clientY:c.clientY;if(this.clientY=x,this.clientX=g,f.globals.capturedSeriesIndex=-1,f.globals.capturedDataPointIndex=-1,x<u.top||x>u.top+u.height)this.handleMouseOut(h);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!f.config.tooltip.shared){var b=parseInt(h.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(b)<0)return void this.handleMouseOut(h)}var w=this.getElTooltip(),_=this.getElXCrosshairs(),k=f.globals.xyCharts||f.config.chart.type==="bar"&&!f.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||f.globals.comboCharts&&this.tooltipUtil.hasBars();if(c.type==="mousemove"||c.type==="touchmove"||c.type==="mouseup"){if(f.globals.collapsedSeries.length+f.globals.ancillaryCollapsedSeries.length===f.globals.series.length)return;_!==null&&_.classList.add("apexcharts-active");var P=this.yaxisTooltips.filter(function(V){return V===!0});if(this.ycrosshairs!==null&&P.length&&this.ycrosshairs.classList.add("apexcharts-active"),k&&!this.showOnIntersect)this.handleStickyTooltip(c,g,x,h);else if(f.config.chart.type==="heatmap"||f.config.chart.type==="treemap"){var R=this.intersect.handleHeatTreeTooltip({e:c,opt:h,x:r,y:o,type:f.config.chart.type});r=R.x,o=R.y,w.style.left=r+"px",w.style.top=o+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:c,opt:h}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:c,opt:h,x:r,y:o});if(this.yaxisTooltips.length)for(var B=0;B<f.config.yaxis.length;B++)this.axesTooltip.drawYaxisTooltipText(B,x,this.xyRatios);h.tooltipEl.classList.add("apexcharts-active")}else c.type!=="mouseout"&&c.type!=="touchend"||this.handleMouseOut(h)}}},{key:"nonAxisChartsTooltips",value:function(i){var r=i.e,o=i.opt,c=i.tooltipRect,h=this.w,f=o.paths.getAttribute("rel"),u=this.getElTooltip(),g=h.globals.dom.elWrap.getBoundingClientRect();if(r.type==="mousemove"||r.type==="touchmove"){u.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:parseInt(f,10)-1,shared:!1});var x=h.globals.clientX-g.left-c.ttWidth/2,b=h.globals.clientY-g.top-c.ttHeight-10;if(u.style.left=x+"px",u.style.top=b+"px",h.config.legend.tooltipHoverFormatter){var w=f-1,_=(0,h.config.legend.tooltipHoverFormatter)(this.legendLabels[w].getAttribute("data:default-text"),{seriesIndex:w,dataPointIndex:w,w:h});this.legendLabels[w].innerHTML=_}}else r.type!=="mouseout"&&r.type!=="touchend"||(u.classList.remove("apexcharts-active"),h.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(k){var P=k.getAttribute("data:default-text");k.innerHTML=decodeURIComponent(P)}))}},{key:"handleStickyTooltip",value:function(i,r,o,c){var h=this.w,f=this.tooltipUtil.getNearestValues({context:this,hoverArea:c.hoverArea,elGrid:c.elGrid,clientX:r,clientY:o}),u=f.j,g=f.capturedSeries,x=c.elGrid.getBoundingClientRect();f.hoverX<0||f.hoverX>x.width?this.handleMouseOut(c):g!==null?this.handleStickyCapturedSeries(i,g,c,u):(this.tooltipUtil.isXoverlap(u)||h.globals.isBarHorizontal)&&this.create(i,this,0,u,c.ttItems)}},{key:"handleStickyCapturedSeries",value:function(i,r,o,c){var h=this.w;if(!this.tConfig.shared&&h.globals.series[r][c]===null)return void this.handleMouseOut(o);h.globals.series[r][c]!==void 0?this.tConfig.shared&&this.tooltipUtil.isXoverlap(c)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(i,this,r,c,o.ttItems):this.create(i,this,r,c,o.ttItems,!1):this.tooltipUtil.isXoverlap(c)&&this.create(i,this,0,c,o.ttItems)}},{key:"deactivateHoverFilter",value:function(){for(var i=this.w,r=new H(this.ctx),o=i.globals.dom.Paper.select(".apexcharts-bar-area"),c=0;c<o.length;c++)r.pathMouseLeave(o[c])}},{key:"handleMouseOut",value:function(i){var r=this.w,o=this.getElXCrosshairs();if(i.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),r.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),o!==null&&o.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var c=0;c<this.yaxisTTEls.length;c++)this.yaxisTTEls[c].classList.remove("apexcharts-active")}r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(h){var f=h.getAttribute("data:default-text");h.innerHTML=decodeURIComponent(f)})}},{key:"markerClick",value:function(i,r,o){var c=this.w;typeof c.config.chart.events.markerClick=="function"&&c.config.chart.events.markerClick(i,this.ctx,{seriesIndex:r,dataPointIndex:o,w:c}),this.ctx.events.fireEvent("markerClick",[i,this.ctx,{seriesIndex:r,dataPointIndex:o,w:c}])}},{key:"create",value:function(i,r,o,c,h){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,u=this.w,g=r;i.type==="mouseup"&&this.markerClick(i,o,c),f===null&&(f=this.tConfig.shared);var x=this.tooltipUtil.hasMarkers(),b=this.tooltipUtil.getElBars();if(u.config.legend.tooltipHoverFormatter){var w=u.config.legend.tooltipHoverFormatter,_=Array.from(this.legendLabels);_.forEach(function(A){var I=A.getAttribute("data:default-text");A.innerHTML=decodeURIComponent(I)});for(var k=0;k<_.length;k++){var P=_[k],R=parseInt(P.getAttribute("i"),10),B=decodeURIComponent(P.getAttribute("data:default-text")),V=w(B,{seriesIndex:f?R:o,dataPointIndex:c,w:u});if(f)P.innerHTML=u.globals.collapsedSeriesIndices.indexOf(R)<0?V:B;else if(P.innerHTML=R===o?V:B,o===R)break}}if(f){if(g.tooltipLabels.drawSeriesTexts({ttItems:h,i:o,j:c,shared:!this.showOnIntersect&&this.tConfig.shared}),x&&(u.globals.markers.largestSize>0?g.marker.enlargePoints(c):g.tooltipPosition.moveDynamicPointsOnHover(c)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(b),this.barSeriesHeight>0)){var j=new H(this.ctx),U=u.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(c,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(c);for(var m=0;m<U.length;m++)j.pathMouseEnter(U[m])}}else g.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:h,i:o,j:c}),this.tooltipUtil.hasBars()&&g.tooltipPosition.moveStickyTooltipOverBars(c),x&&g.tooltipPosition.moveMarkers(o,c)}}]),F}(),Ke=function(){function F(i){l(this,F),this.w=i.w,this.barCtx=i,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return p(F,[{key:"handleBarDataLabels",value:function(i){var r=i.x,o=i.y,c=i.y1,h=i.y2,f=i.i,u=i.j,g=i.realIndex,x=i.series,b=i.barHeight,w=i.barWidth,_=i.barYPosition,k=i.visibleSeries,P=i.renderedPath,R=this.w,B=new H(this.barCtx.ctx),V=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[g]:this.barCtx.strokeWidth,j=r+parseFloat(w*k),U=o+parseFloat(b*k);R.globals.isXNumeric&&!R.globals.isBarHorizontal&&(j=r+parseFloat(w*(k+1)),U=o+parseFloat(b*(k+1))-V);var m,A=null,I=r,O=o,X={},te=R.config.dataLabels,ee=this.barCtx.barOptions.dataLabels,Se=this.barCtx.barOptions.dataLabels.total;_!==void 0&&this.barCtx.isRangeBar&&(U=_,O=_);var _e=te.offsetX,Le=te.offsetY,Oe={width:0,height:0};if(R.config.dataLabels.enabled){var St=this.barCtx.series[f][u];Oe=B.getTextRects(R.globals.yLabelFormatters[0](St),parseFloat(te.style.fontSize))}var wt={x:r,y:o,i:f,j:u,realIndex:g,renderedPath:P,bcx:j,bcy:U,barHeight:b,barWidth:w,textRects:Oe,strokeWidth:V,dataLabelsX:I,dataLabelsY:O,dataLabelsConfig:te,barDataLabelsConfig:ee,barTotalDataLabelsConfig:Se,offX:_e,offY:Le};return X=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(wt):this.calculateColumnsDataLabelsPosition(wt),P.attr({cy:X.bcy,cx:X.bcx,j:u,val:x[f][u],barHeight:b,barWidth:w}),m=this.drawCalculatedDataLabels({x:X.dataLabelsX,y:X.dataLabelsY,val:this.barCtx.isRangeBar?[c,h]:x[f][u],i:g,j:u,barWidth:w,barHeight:b,textRects:Oe,dataLabelsConfig:te}),R.config.chart.stacked&&Se.enabled&&(A=this.drawTotalDataLabels({x:X.totalDataLabelsX,y:X.totalDataLabelsY,realIndex:g,textAnchor:X.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:g,j:u}),dataLabelsConfig:te,barTotalDataLabelsConfig:Se})),{dataLabels:m,totalDataLabels:A}}},{key:"getStackedTotalDataLabel",value:function(i){var r=i.realIndex,o=i.j,c=this.w,h=this.barCtx.stackedSeriesTotals[o];return this.totalFormatter&&(h=this.totalFormatter(h,s(s({},c),{},{seriesIndex:r,dataPointIndex:o,w:c}))),h}},{key:"calculateColumnsDataLabelsPosition",value:function(i){var r,o,c,h=this.w,f=i.i,u=i.j,g=i.realIndex,x=i.y,b=i.bcx,w=i.barWidth,_=i.barHeight,k=i.textRects,P=i.dataLabelsY,R=i.dataLabelsConfig,B=i.barDataLabelsConfig,V=i.barTotalDataLabelsConfig,j=i.strokeWidth,U=i.offX,m=i.offY;_=Math.abs(_);var A=h.config.plotOptions.bar.dataLabels.orientation==="vertical";b-=j/2;var I=h.globals.gridWidth/h.globals.dataPoints;r=h.globals.isXNumeric?b-w/2+U:b-I+w/2+U,A&&(r=r+k.height/2-j/2-2);var O=this.barCtx.series[f][u]<0,X=x;switch(this.barCtx.isReversed&&(X=x-_+(O?2*_:0),x-=_),B.position){case"center":P=A?O?X+_/2+m:X+_/2-m:O?X-_/2+k.height/2+m:X+_/2+k.height/2-m;break;case"bottom":P=A?O?X+_+m:X+_-m:O?X-_+k.height+j+m:X+_-k.height/2+j-m;break;case"top":P=A?O?X+m:X-m:O?X-k.height/2-m:X+k.height+m}if(this.barCtx.lastActiveBarSerieIndex===g&&V.enabled){var te=new H(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:g,j:u}),R.fontSize);o=O?X-te.height/2-m-V.offsetY+18:X+te.height+m+V.offsetY-18,c=r+V.offsetX}return h.config.chart.stacked||(P<0?P=0+j:P+k.height/3>h.globals.gridHeight&&(P=h.globals.gridHeight-j)),{bcx:b,bcy:x,dataLabelsX:r,dataLabelsY:P,totalDataLabelsX:c,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(i){var r=this.w,o=i.x,c=i.i,h=i.j,f=i.realIndex,u=i.bcy,g=i.barHeight,x=i.barWidth,b=i.textRects,w=i.dataLabelsX,_=i.strokeWidth,k=i.dataLabelsConfig,P=i.barDataLabelsConfig,R=i.barTotalDataLabelsConfig,B=i.offX,V=i.offY,j=r.globals.gridHeight/r.globals.dataPoints;x=Math.abs(x);var U,m,A=u-(this.barCtx.isRangeBar?0:j)+g/2+b.height/2+V-3,I="start",O=this.barCtx.series[c][h]<0,X=o;switch(this.barCtx.isReversed&&(X=o+x-(O?2*x:0),o=r.globals.gridWidth-x),P.position){case"center":w=O?X+x/2-B:Math.max(b.width/2,X-x/2)+B;break;case"bottom":w=O?X+x-_-Math.round(b.width/2)-B:X-x+_+Math.round(b.width/2)+B;break;case"top":w=O?X-_+Math.round(b.width/2)-B:X-_-Math.round(b.width/2)+B}if(this.barCtx.lastActiveBarSerieIndex===f&&R.enabled){var te=new H(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:f,j:h}),k.fontSize);O?(U=X-_+Math.round(te.width/2)-B-R.offsetX-15,I="end"):U=X-_-Math.round(te.width/2)+B+R.offsetX+15,m=A+R.offsetY}return r.config.chart.stacked||(w<0?w=w+b.width+_:w+b.width/2>r.globals.gridWidth&&(w=r.globals.gridWidth-b.width-_)),{bcx:o,bcy:u,dataLabelsX:w,dataLabelsY:A,totalDataLabelsX:U,totalDataLabelsY:m,totalDataLabelsAnchor:I}}},{key:"drawCalculatedDataLabels",value:function(i){var r=i.x,o=i.y,c=i.val,h=i.i,f=i.j,u=i.textRects,g=i.barHeight,x=i.barWidth,b=i.dataLabelsConfig,w=this.w,_="rotate(0)";w.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(_="rotate(-90, ".concat(r,", ").concat(o,")"));var k=new Ie(this.barCtx.ctx),P=new H(this.barCtx.ctx),R=b.formatter,B=null,V=w.globals.collapsedSeriesIndices.indexOf(h)>-1;if(b.enabled&&!V){B=P.group({class:"apexcharts-data-labels",transform:_});var j="";c!==void 0&&(j=R(c,s(s({},w),{},{seriesIndex:h,dataPointIndex:f,w})));var U=w.globals.series[h][f]<0,m=w.config.plotOptions.bar.dataLabels.position;w.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(m==="top"&&(b.textAnchor=U?"end":"start"),m==="center"&&(b.textAnchor="middle"),m==="bottom"&&(b.textAnchor=U?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&x<P.getTextRects(j,parseFloat(b.style.fontSize)).width&&(j=""),w.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?u.width/1.6>Math.abs(x)&&(j=""):u.height/1.6>Math.abs(g)&&(j=""));var A=s({},b);this.barCtx.isHorizontal&&c<0&&(b.textAnchor==="start"?A.textAnchor="end":b.textAnchor==="end"&&(A.textAnchor="start")),k.plotDataLabelsText({x:r,y:o,text:j,i:h,j:f,parent:B,dataLabelsConfig:A,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return B}},{key:"drawTotalDataLabels",value:function(i){var r,o=i.x,c=i.y,h=i.val,f=i.realIndex,u=i.textAnchor,g=i.barTotalDataLabelsConfig,x=new H(this.barCtx.ctx);return g.enabled&&o!==void 0&&c!==void 0&&this.barCtx.lastActiveBarSerieIndex===f&&(r=x.drawText({x:o,y:c,foreColor:g.style.color,text:h,textAnchor:u,fontFamily:g.style.fontFamily,fontSize:g.style.fontSize,fontWeight:g.style.fontWeight})),r}}]),F}(),pt=function(){function F(i){l(this,F),this.w=i.w,this.barCtx=i}return p(F,[{key:"initVariables",value:function(i){var r=this.w;this.barCtx.series=i,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var o=0;o<i.length;o++)if(i[o].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=i[o].length),r.globals.isXNumeric)for(var c=0;c<i[o].length;c++)r.globals.seriesX[o][c]>r.globals.minX&&r.globals.seriesX[o][c]<r.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=r.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=i.length-1,r.globals.comboCharts||this.checkZeroSeries({series:i})}},{key:"initialPositions",value:function(){var i,r,o,c,h,f,u,g,x=this.w,b=x.globals.dataPoints;this.barCtx.isRangeBar&&(b=x.globals.labels.length);var w=this.barCtx.seriesLen;if(x.config.plotOptions.bar.rangeBarGroupRows&&(w=1),this.barCtx.isHorizontal)h=(o=x.globals.gridHeight/b)/w,x.globals.isXNumeric&&(h=(o=x.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),h=h*parseInt(this.barCtx.barOptions.barHeight,10)/100,g=this.barCtx.baseLineInvertedY+x.globals.padHorizontal+(this.barCtx.isReversed?x.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),r=(o-h*this.barCtx.seriesLen)/2;else{if(c=x.globals.gridWidth/this.barCtx.visibleItems,x.config.xaxis.convertedCatToNumeric&&(c=x.globals.gridWidth/x.globals.dataPoints),f=c/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,x.globals.isXNumeric){var _=this.barCtx.xRatio;x.config.xaxis.convertedCatToNumeric&&(_=this.barCtx.initialXRatio),x.globals.minXDiff&&x.globals.minXDiff!==.5&&x.globals.minXDiff/_>0&&(c=x.globals.minXDiff/_),(f=c/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(f=1)}u=x.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?x.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),i=x.globals.padHorizontal+(c-f*this.barCtx.seriesLen)/2}return{x:i,y:r,yDivision:o,xDivision:c,barHeight:h,barWidth:f,zeroH:u,zeroW:g}}},{key:"getPathFillColor",value:function(i,r,o,c){var h,f,u,g,x=this.w,b=new ne(this.barCtx.ctx),w=null,_=this.barCtx.barOptions.distributed?o:r;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(k){i[r][o]>=k.from&&i[r][o]<=k.to&&(w=k.color)}),x.config.series[r].data[o]&&x.config.series[r].data[o].fillColor&&(w=x.config.series[r].data[o].fillColor),b.fillPath({seriesNumber:this.barCtx.barOptions.distributed?_:c,dataPointIndex:o,color:w,value:i[r][o],fillConfig:(h=x.config.series[r].data[o])===null||h===void 0?void 0:h.fill,fillType:(f=x.config.series[r].data[o])!==null&&f!==void 0&&(u=f.fill)!==null&&u!==void 0&&u.type?(g=x.config.series[r].data[o])===null||g===void 0?void 0:g.fill.type:x.config.fill.type})}},{key:"getStrokeWidth",value:function(i,r,o){var c=0,h=this.w;return this.barCtx.series[i][r]===void 0||this.barCtx.series[i][r]===null?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,h.config.stroke.show&&(this.barCtx.isNullValue||(c=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[o]:this.barCtx.strokeWidth)),c}},{key:"shouldApplyRadius",value:function(i){var r=this.w,o=!1;return r.config.plotOptions.bar.borderRadius>0&&(r.config.chart.stacked&&r.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===i&&(o=!0):o=!0),o}},{key:"barBackground",value:function(i){var r=i.j,o=i.i,c=i.x1,h=i.x2,f=i.y1,u=i.y2,g=i.elSeries,x=this.w,b=new H(this.barCtx.ctx),w=new ce(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&w===o){r>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(r%=this.barCtx.barOptions.colors.backgroundBarColors.length);var _=this.barCtx.barOptions.colors.backgroundBarColors[r],k=b.drawRect(c!==void 0?c:0,f!==void 0?f:0,h!==void 0?h:x.globals.gridWidth,u!==void 0?u:x.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,_,this.barCtx.barOptions.colors.backgroundBarOpacity);g.add(k),k.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(i){var r,o=i.barWidth,c=i.barXPosition,h=i.y1,f=i.y2,u=i.strokeWidth,g=i.realIndex,x=i.i,b=i.j,w=i.w,_=new H(this.barCtx.ctx);(u=Array.isArray(u)?u[g]:u)||(u=0);var k=o,P=c;(r=w.config.series[g].data[b])!==null&&r!==void 0&&r.columnWidthOffset&&(P=c-w.config.series[g].data[b].columnWidthOffset/2,k=o+w.config.series[g].data[b].columnWidthOffset);var R=P,B=P+k;h+=.001,f+=.001;var V=_.move(R,h),j=_.move(R,h),U=_.line(B-u,h);return w.globals.previousPaths.length>0&&(j=this.barCtx.getPreviousPath(g,b,!1)),V=V+_.line(R,f)+_.line(B-u,f)+_.line(B-u,h)+(w.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),j=j+_.line(R,h)+U+U+U+U+U+_.line(R,h)+(w.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(g)&&(V=_.roundPathCorners(V,w.config.plotOptions.bar.borderRadius)),w.config.chart.stacked&&(this.barCtx.yArrj.push(f),this.barCtx.yArrjF.push(Math.abs(h-f)),this.barCtx.yArrjVal.push(this.barCtx.series[x][b])),{pathTo:V,pathFrom:j}}},{key:"getBarpaths",value:function(i){var r,o=i.barYPosition,c=i.barHeight,h=i.x1,f=i.x2,u=i.strokeWidth,g=i.realIndex,x=i.i,b=i.j,w=i.w,_=new H(this.barCtx.ctx);(u=Array.isArray(u)?u[g]:u)||(u=0);var k=o,P=c;(r=w.config.series[g].data[b])!==null&&r!==void 0&&r.barHeightOffset&&(k=o-w.config.series[g].data[b].barHeightOffset/2,P=c+w.config.series[g].data[b].barHeightOffset);var R=k,B=k+P;h+=.001,f+=.001;var V=_.move(h,R),j=_.move(h,R);w.globals.previousPaths.length>0&&(j=this.barCtx.getPreviousPath(g,b,!1));var U=_.line(h,B-u);return V=V+_.line(f,R)+_.line(f,B-u)+U+(w.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),j=j+_.line(h,R)+U+U+U+U+U+_.line(h,R)+(w.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(g)&&(V=_.roundPathCorners(V,w.config.plotOptions.bar.borderRadius)),w.config.chart.stacked&&(this.barCtx.xArrj.push(f),this.barCtx.xArrjF.push(Math.abs(h-f)),this.barCtx.xArrjVal.push(this.barCtx.series[x][b])),{pathTo:V,pathFrom:j}}},{key:"checkZeroSeries",value:function(i){for(var r=i.series,o=this.w,c=0;c<r.length;c++){for(var h=0,f=0;f<r[o.globals.maxValsInArrayIndex].length;f++)h+=r[c][f];h===0&&this.barCtx.zeroSerieses.push(c)}for(var u=r.length-1;u>=0;u--)this.barCtx.zeroSerieses.indexOf(u)>-1&&u===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var g=r.length-1;g>=0;g--)o.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(i,r){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=o?r:null;return i!=null&&(c=r+i/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?i/this.barCtx.invertedYRatio:0)),c}},{key:"getYForValue",value:function(i,r){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=o?r:null;return i!=null&&(c=r-i/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?i/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),c}},{key:"getGoalValues",value:function(i,r,o,c,h){var f=this,u=this.w,g=[];return u.globals.seriesGoals[c]&&u.globals.seriesGoals[c][h]&&Array.isArray(u.globals.seriesGoals[c][h])&&u.globals.seriesGoals[c][h].forEach(function(x){var b;g.push((v(b={},i,i==="x"?f.getXForValue(x.value,r,!1):f.getYForValue(x.value,o,!1)),v(b,"attrs",x),b))}),g}},{key:"drawGoalLine",value:function(i){var r=i.barXPosition,o=i.barYPosition,c=i.goalX,h=i.goalY,f=i.barWidth,u=i.barHeight,g=new H(this.barCtx.ctx),x=g.group({className:"apexcharts-bar-goals-groups"}),b=null;return this.barCtx.isHorizontal?Array.isArray(c)&&c.forEach(function(w){var _=w.attrs.strokeHeight!==void 0?w.attrs.strokeHeight:u/2,k=o+_+u/2;b=g.drawLine(w.x,k-2*_,w.x,k,w.attrs.strokeColor?w.attrs.strokeColor:void 0,w.attrs.strokeDashArray,w.attrs.strokeWidth?w.attrs.strokeWidth:2,w.attrs.strokeLineCap),x.add(b)}):Array.isArray(h)&&h.forEach(function(w){var _=w.attrs.strokeWidth!==void 0?w.attrs.strokeWidth:f/2,k=r+_+f/2;b=g.drawLine(k-2*_,w.y,k,w.y,w.attrs.strokeColor?w.attrs.strokeColor:void 0,w.attrs.strokeDashArray,w.attrs.strokeHeight?w.attrs.strokeHeight:2,w.attrs.strokeLineCap),x.add(b)}),x}}]),F}(),bt=function(){function F(i,r){l(this,F),this.ctx=i,this.w=i.w;var o=this.w;this.barOptions=o.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=o.config.stroke.width,this.isNullValue=!1,this.isRangeBar=o.globals.seriesRange.length&&this.isHorizontal,this.xyRatios=r,this.xyRatios!==null&&(this.xRatio=r.xRatio,this.initialXRatio=r.initialXRatio,this.yRatio=r.yRatio,this.invertedXRatio=r.invertedXRatio,this.invertedYRatio=r.invertedYRatio,this.baseLineY=r.baseLineY,this.baseLineInvertedY=r.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0;var c=new ce(this.ctx);this.lastActiveBarSerieIndex=c.getActiveConfigSeriesIndex("desc",["bar","column"]);var h=c.getBarSeriesIndices(),f=new $(this.ctx);this.stackedSeriesTotals=f.getStackedSeriesTotals(this.w.config.series.map(function(u,g){return h.indexOf(g)===-1?g:-1}).filter(function(u){return u!==-1})),this.barHelpers=new pt(this)}return p(F,[{key:"draw",value:function(i,r){var o=this.w,c=new H(this.ctx),h=new $(this.ctx,o);i=h.getLogSeries(i),this.series=i,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);var f=c.group({class:"apexcharts-bar-series apexcharts-plot-series"});o.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var u=0,g=0;u<i.length;u++,g++){var x,b,w,_,k=void 0,P=void 0,R=[],B=[],V=o.globals.comboCharts?r[u]:u,j=c.group({class:"apexcharts-series",rel:u+1,seriesName:S.escapeString(o.globals.seriesNames[V]),"data:realIndex":V});this.ctx.series.addCollapsedClassToSeries(j,V),i[u].length>0&&(this.visibleI=this.visibleI+1);var U=0,m=0;this.yRatio.length>1&&(this.yaxisIndex=V),this.isReversed=o.config.yaxis[this.yaxisIndex]&&o.config.yaxis[this.yaxisIndex].reversed;var A=this.barHelpers.initialPositions();P=A.y,U=A.barHeight,b=A.yDivision,_=A.zeroW,k=A.x,m=A.barWidth,x=A.xDivision,w=A.zeroH,this.horizontal||B.push(k+m/2);for(var I=c.group({class:"apexcharts-datalabels","data:realIndex":V}),O=c.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),X=0;X<o.globals.dataPoints;X++){var te=this.barHelpers.getStrokeWidth(u,X,V),ee=null,Se={indexes:{i:u,j:X,realIndex:V,bc:g},x:k,y:P,strokeWidth:te,elSeries:j};this.isHorizontal?(ee=this.drawBarPaths(s(s({},Se),{},{barHeight:U,zeroW:_,yDivision:b})),m=this.series[u][X]/this.invertedYRatio):(ee=this.drawColumnPaths(s(s({},Se),{},{xDivision:x,barWidth:m,zeroH:w})),U=this.series[u][X]/this.yRatio[this.yaxisIndex]);var _e=this.barHelpers.drawGoalLine({barXPosition:ee.barXPosition,barYPosition:ee.barYPosition,goalX:ee.goalX,goalY:ee.goalY,barHeight:U,barWidth:m});_e&&O.add(_e),P=ee.y,k=ee.x,X>0&&B.push(k+m/2),R.push(P);var Le=this.barHelpers.getPathFillColor(i,u,X,V);this.renderSeries({realIndex:V,pathFill:Le,j:X,i:u,pathFrom:ee.pathFrom,pathTo:ee.pathTo,strokeWidth:te,elSeries:j,x:k,y:P,series:i,barHeight:U,barWidth:m,elDataLabelsWrap:I,elGoalsMarkers:O,visibleSeries:this.visibleI,type:"bar"})}o.globals.seriesXvalues[V]=B,o.globals.seriesYvalues[V]=R,f.add(j)}return f}},{key:"renderSeries",value:function(i){var r=i.realIndex,o=i.pathFill,c=i.lineFill,h=i.j,f=i.i,u=i.pathFrom,g=i.pathTo,x=i.strokeWidth,b=i.elSeries,w=i.x,_=i.y,k=i.y1,P=i.y2,R=i.series,B=i.barHeight,V=i.barWidth,j=i.barYPosition,U=i.elDataLabelsWrap,m=i.elGoalsMarkers,A=i.visibleSeries,I=i.type,O=this.w,X=new H(this.ctx);c||(c=this.barOptions.distributed?O.globals.stroke.colors[h]:O.globals.stroke.colors[r]),O.config.series[f].data[h]&&O.config.series[f].data[h].strokeColor&&(c=O.config.series[f].data[h].strokeColor),this.isNullValue&&(o="none");var te=h/O.config.chart.animations.animateGradually.delay*(O.config.chart.animations.speed/O.globals.dataPoints)/2.4,ee=X.renderPaths({i:f,j:h,realIndex:r,pathFrom:u,pathTo:g,stroke:c,strokeWidth:x,strokeLineCap:O.config.stroke.lineCap,fill:o,animationDelay:te,initialSpeed:O.config.chart.animations.speed,dataChangeSpeed:O.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(I,"-area")});ee.attr("clip-path","url(#gridRectMask".concat(O.globals.cuid,")"));var Se=O.config.forecastDataPoints;Se.count>0&&h>=O.globals.dataPoints-Se.count&&(ee.node.setAttribute("stroke-dasharray",Se.dashArray),ee.node.setAttribute("stroke-width",Se.strokeWidth),ee.node.setAttribute("fill-opacity",Se.fillOpacity)),k!==void 0&&P!==void 0&&(ee.attr("data-range-y1",k),ee.attr("data-range-y2",P)),new W(this.ctx).setSelectionFilter(ee,r,h),b.add(ee);var _e=new Ke(this).handleBarDataLabels({x:w,y:_,y1:k,y2:P,i:f,j:h,series:R,realIndex:r,barHeight:B,barWidth:V,barYPosition:j,renderedPath:ee,visibleSeries:A});return _e.dataLabels!==null&&U.add(_e.dataLabels),_e.totalDataLabels&&U.add(_e.totalDataLabels),b.add(U),m&&b.add(m),b}},{key:"drawBarPaths",value:function(i){var r=i.indexes,o=i.barHeight,c=i.strokeWidth,h=i.zeroW,f=i.x,u=i.y,g=i.yDivision,x=i.elSeries,b=this.w,w=r.i,_=r.j;b.globals.isXNumeric&&(u=(b.globals.seriesX[w][_]-b.globals.minX)/this.invertedXRatio-o);var k=u+o*this.visibleI;f=this.barHelpers.getXForValue(this.series[w][_],h);var P=this.barHelpers.getBarpaths({barYPosition:k,barHeight:o,x1:h,x2:f,strokeWidth:c,series:this.series,realIndex:r.realIndex,i:w,j:_,w:b});return b.globals.isXNumeric||(u+=g),this.barHelpers.barBackground({j:_,i:w,y1:k-o*this.visibleI,y2:o*this.seriesLen,elSeries:x}),{pathTo:P.pathTo,pathFrom:P.pathFrom,x:f,y:u,goalX:this.barHelpers.getGoalValues("x",h,null,w,_),barYPosition:k}}},{key:"drawColumnPaths",value:function(i){var r=i.indexes,o=i.x,c=i.y,h=i.xDivision,f=i.barWidth,u=i.zeroH,g=i.strokeWidth,x=i.elSeries,b=this.w,w=r.realIndex,_=r.i,k=r.j,P=r.bc;if(b.globals.isXNumeric){var R=w;b.globals.seriesX[w].length||(R=b.globals.maxValsInArrayIndex),o=(b.globals.seriesX[R][k]-b.globals.minX)/this.xRatio-f*this.seriesLen/2}var B=o+f*this.visibleI;c=this.barHelpers.getYForValue(this.series[_][k],u);var V=this.barHelpers.getColumnPaths({barXPosition:B,barWidth:f,y1:u,y2:c,strokeWidth:g,series:this.series,realIndex:r.realIndex,i:_,j:k,w:b});return b.globals.isXNumeric||(o+=h),this.barHelpers.barBackground({bc:P,j:k,i:_,x1:B-g/2-f*this.visibleI,x2:f*this.seriesLen+g/2,elSeries:x}),{pathTo:V.pathTo,pathFrom:V.pathFrom,x:o,y:c,goalY:this.barHelpers.getGoalValues("y",null,u,_,k),barXPosition:B}}},{key:"getPreviousPath",value:function(i,r){for(var o,c=this.w,h=0;h<c.globals.previousPaths.length;h++){var f=c.globals.previousPaths[h];f.paths&&f.paths.length>0&&parseInt(f.realIndex,10)===parseInt(i,10)&&c.globals.previousPaths[h].paths[r]!==void 0&&(o=c.globals.previousPaths[h].paths[r].d)}return o}}]),F}(),un=function(F){y(r,bt);var i=L(r);function r(){return l(this,r),i.apply(this,arguments)}return p(r,[{key:"draw",value:function(o,c){var h=this,f=this.w;this.graphics=new H(this.ctx),this.bar=new bt(this.ctx,this.xyRatios);var u=new $(this.ctx,f);o=u.getLogSeries(o),this.yRatio=u.getLogYRatios(this.yRatio),this.barHelpers.initVariables(o),f.config.chart.stackType==="100%"&&(o=f.globals.seriesPercent.slice()),this.series=o,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var g=0;g<o.length;g++)o[g].length>0&&(this.totalItems+=o[g].length);for(var x=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),b=0,w=0,_=function(R,B){var V=void 0,j=void 0,U=void 0,m=void 0,A=[],I=[],O=f.globals.comboCharts?c[R]:R;h.yRatio.length>1&&(h.yaxisIndex=O),h.isReversed=f.config.yaxis[h.yaxisIndex]&&f.config.yaxis[h.yaxisIndex].reversed;var X=h.graphics.group({class:"apexcharts-series",seriesName:S.escapeString(f.globals.seriesNames[O]),rel:R+1,"data:realIndex":O});h.ctx.series.addCollapsedClassToSeries(X,O);var te=h.graphics.group({class:"apexcharts-datalabels","data:realIndex":O}),ee=h.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),Se=0,_e=0,Le=h.initialPositions(b,w,V,j,U,m);w=Le.y,Se=Le.barHeight,j=Le.yDivision,m=Le.zeroW,b=Le.x,_e=Le.barWidth,V=Le.xDivision,U=Le.zeroH,h.yArrj=[],h.yArrjF=[],h.yArrjVal=[],h.xArrj=[],h.xArrjF=[],h.xArrjVal=[],h.prevY.length===1&&h.prevY[0].every(function(fn){return isNaN(fn)})&&(h.prevY[0]=h.prevY[0].map(function(fn){return U}),h.prevYF[0]=h.prevYF[0].map(function(fn){return 0}));for(var Oe=0;Oe<f.globals.dataPoints;Oe++){var St=h.barHelpers.getStrokeWidth(R,Oe,O),wt={indexes:{i:R,j:Oe,realIndex:O,bc:B},strokeWidth:St,x:b,y:w,elSeries:X},Dt=null;h.isHorizontal?(Dt=h.drawStackedBarPaths(s(s({},wt),{},{zeroW:m,barHeight:Se,yDivision:j})),_e=h.series[R][Oe]/h.invertedYRatio):(Dt=h.drawStackedColumnPaths(s(s({},wt),{},{xDivision:V,barWidth:_e,zeroH:U})),Se=h.series[R][Oe]/h.yRatio[h.yaxisIndex]);var Yt=h.barHelpers.drawGoalLine({barXPosition:Dt.barXPosition,barYPosition:Dt.barYPosition,goalX:Dt.goalX,goalY:Dt.goalY,barHeight:Se,barWidth:_e});Yt&&ee.add(Yt),w=Dt.y,b=Dt.x,A.push(b),I.push(w);var dn=h.barHelpers.getPathFillColor(o,R,Oe,O);X=h.renderSeries({realIndex:O,pathFill:dn,j:Oe,i:R,pathFrom:Dt.pathFrom,pathTo:Dt.pathTo,strokeWidth:St,elSeries:X,x:b,y:w,series:o,barHeight:Se,barWidth:_e,elDataLabelsWrap:te,elGoalsMarkers:ee,type:"bar",visibleSeries:0})}f.globals.seriesXvalues[O]=A,f.globals.seriesYvalues[O]=I,h.prevY.push(h.yArrj),h.prevYF.push(h.yArrjF),h.prevYVal.push(h.yArrjVal),h.prevX.push(h.xArrj),h.prevXF.push(h.xArrjF),h.prevXVal.push(h.xArrjVal),x.add(X)},k=0,P=0;k<o.length;k++,P++)_(k,P);return x}},{key:"initialPositions",value:function(o,c,h,f,u,g){var x,b,w=this.w;return this.isHorizontal?(x=(x=f=w.globals.gridHeight/w.globals.dataPoints)*parseInt(w.config.plotOptions.bar.barHeight,10)/100,g=this.baseLineInvertedY+w.globals.padHorizontal+(this.isReversed?w.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),c=(f-x)/2):(b=h=w.globals.gridWidth/w.globals.dataPoints,b=w.globals.isXNumeric&&w.globals.dataPoints>1?(h=w.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:b*parseInt(w.config.plotOptions.bar.columnWidth,10)/100,u=w.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?w.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),o=w.globals.padHorizontal+(h-b)/2),{x:o,y:c,yDivision:f,xDivision:h,barHeight:x,barWidth:b,zeroH:u,zeroW:g}}},{key:"drawStackedBarPaths",value:function(o){for(var c,h=o.indexes,f=o.barHeight,u=o.strokeWidth,g=o.zeroW,x=o.x,b=o.y,w=o.yDivision,_=o.elSeries,k=this.w,P=b,R=h.i,B=h.j,V=0,j=0;j<this.prevXF.length;j++)V+=this.prevXF[j][B];if(R>0){var U=g;this.prevXVal[R-1][B]<0?U=this.series[R][B]>=0?this.prevX[R-1][B]+V-2*(this.isReversed?V:0):this.prevX[R-1][B]:this.prevXVal[R-1][B]>=0&&(U=this.series[R][B]>=0?this.prevX[R-1][B]:this.prevX[R-1][B]-V+2*(this.isReversed?V:0)),c=U}else c=g;x=this.series[R][B]===null?c:c+this.series[R][B]/this.invertedYRatio-2*(this.isReversed?this.series[R][B]/this.invertedYRatio:0);var m=this.barHelpers.getBarpaths({barYPosition:P,barHeight:f,x1:c,x2:x,strokeWidth:u,series:this.series,realIndex:h.realIndex,i:R,j:B,w:k});return this.barHelpers.barBackground({j:B,i:R,y1:P,y2:f,elSeries:_}),b+=w,{pathTo:m.pathTo,pathFrom:m.pathFrom,goalX:this.barHelpers.getGoalValues("x",g,null,R,B),barYPosition:P,x,y:b}}},{key:"drawStackedColumnPaths",value:function(o){var c=o.indexes,h=o.x,f=o.y,u=o.xDivision,g=o.barWidth,x=o.zeroH;o.strokeWidth;var b=o.elSeries,w=this.w,_=c.i,k=c.j,P=c.bc;if(w.globals.isXNumeric){var R=w.globals.seriesX[_][k];R||(R=0),h=(R-w.globals.minX)/this.xRatio-g/2}for(var B,V=h,j=0,U=0;U<this.prevYF.length;U++)j+=isNaN(this.prevYF[U][k])?0:this.prevYF[U][k];if(_>0&&!w.globals.isXNumeric||_>0&&w.globals.isXNumeric&&w.globals.seriesX[_-1][k]===w.globals.seriesX[_][k]){var m,A,I=Math.min(this.yRatio.length+1,_+1);if(this.prevY[_-1]!==void 0){for(var O=1;O<I;O++)if(!isNaN(this.prevY[_-O][k])){A=this.prevY[_-O][k];break}}for(var X=1;X<I;X++){if(this.prevYVal[_-X][k]<0){m=this.series[_][k]>=0?A-j+2*(this.isReversed?j:0):A;break}if(this.prevYVal[_-X][k]>=0){m=this.series[_][k]>=0?A:A+j-2*(this.isReversed?j:0);break}}m===void 0&&(m=w.globals.gridHeight),B=this.prevYF[0].every(function(ee){return ee===0})&&this.prevYF.slice(1,_).every(function(ee){return ee.every(function(Se){return isNaN(Se)})})?x:m}else B=x;f=B-this.series[_][k]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[_][k]/this.yRatio[this.yaxisIndex]:0);var te=this.barHelpers.getColumnPaths({barXPosition:V,barWidth:g,y1:B,y2:f,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:c.realIndex,i:_,j:k,w});return this.barHelpers.barBackground({bc:P,j:k,i:_,x1:V,x2:g,elSeries:b}),h+=u,{pathTo:te.pathTo,pathFrom:te.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,x,_,k),barXPosition:V,x:w.globals.isXNumeric?h-u:h,y:f}}}]),r}(),kt=function(F){y(r,bt);var i=L(r);function r(){return l(this,r),i.apply(this,arguments)}return p(r,[{key:"draw",value:function(o,c){var h=this,f=this.w,u=new H(this.ctx),g=new ne(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=f.config.plotOptions.bar.horizontal;var x=new $(this.ctx,f);o=x.getLogSeries(o),this.series=o,this.yRatio=x.getLogYRatios(this.yRatio),this.barHelpers.initVariables(o);for(var b=u.group({class:"apexcharts-".concat(f.config.chart.type,"-series apexcharts-plot-series")}),w=function(k){h.isBoxPlot=f.config.chart.type==="boxPlot"||f.config.series[k].type==="boxPlot";var P,R,B,V,j=void 0,U=void 0,m=[],A=[],I=f.globals.comboCharts?c[k]:k,O=u.group({class:"apexcharts-series",seriesName:S.escapeString(f.globals.seriesNames[I]),rel:k+1,"data:realIndex":I});h.ctx.series.addCollapsedClassToSeries(O,I),o[k].length>0&&(h.visibleI=h.visibleI+1);var X,te;h.yRatio.length>1&&(h.yaxisIndex=I);var ee=h.barHelpers.initialPositions();U=ee.y,X=ee.barHeight,R=ee.yDivision,V=ee.zeroW,j=ee.x,te=ee.barWidth,P=ee.xDivision,B=ee.zeroH,A.push(j+te/2);for(var Se=u.group({class:"apexcharts-datalabels","data:realIndex":I}),_e=function(Oe){var St=h.barHelpers.getStrokeWidth(k,Oe,I),wt=null,Dt={indexes:{i:k,j:Oe,realIndex:I},x:j,y:U,strokeWidth:St,elSeries:O};wt=h.isHorizontal?h.drawHorizontalBoxPaths(s(s({},Dt),{},{yDivision:R,barHeight:X,zeroW:V})):h.drawVerticalBoxPaths(s(s({},Dt),{},{xDivision:P,barWidth:te,zeroH:B})),U=wt.y,j=wt.x,Oe>0&&A.push(j+te/2),m.push(U),wt.pathTo.forEach(function(Yt,dn){var fn=!h.isBoxPlot&&h.candlestickOptions.wick.useFillColor?wt.color[dn]:f.globals.stroke.colors[k],li=g.fillPath({seriesNumber:I,dataPointIndex:Oe,color:wt.color[dn],value:o[k][Oe]});h.renderSeries({realIndex:I,pathFill:li,lineFill:fn,j:Oe,i:k,pathFrom:wt.pathFrom,pathTo:Yt,strokeWidth:St,elSeries:O,x:j,y:U,series:o,barHeight:X,barWidth:te,elDataLabelsWrap:Se,visibleSeries:h.visibleI,type:f.config.chart.type})})},Le=0;Le<f.globals.dataPoints;Le++)_e(Le);f.globals.seriesXvalues[I]=A,f.globals.seriesYvalues[I]=m,b.add(O)},_=0;_<o.length;_++)w(_);return b}},{key:"drawVerticalBoxPaths",value:function(o){var c=o.indexes,h=o.x;o.y;var f=o.xDivision,u=o.barWidth,g=o.zeroH,x=o.strokeWidth,b=this.w,w=new H(this.ctx),_=c.i,k=c.j,P=!0,R=b.config.plotOptions.candlestick.colors.upward,B=b.config.plotOptions.candlestick.colors.downward,V="";this.isBoxPlot&&(V=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var j=this.yRatio[this.yaxisIndex],U=c.realIndex,m=this.getOHLCValue(U,k),A=g,I=g;m.o>m.c&&(P=!1);var O=Math.min(m.o,m.c),X=Math.max(m.o,m.c),te=m.m;b.globals.isXNumeric&&(h=(b.globals.seriesX[U][k]-b.globals.minX)/this.xRatio-u/2);var ee=h+u*this.visibleI;this.series[_][k]===void 0||this.series[_][k]===null?(O=g,X=g):(O=g-O/j,X=g-X/j,A=g-m.h/j,I=g-m.l/j,te=g-m.m/j);var Se=w.move(ee,g),_e=w.move(ee+u/2,O);return b.globals.previousPaths.length>0&&(_e=this.getPreviousPath(U,k,!0)),Se=this.isBoxPlot?[w.move(ee,O)+w.line(ee+u/2,O)+w.line(ee+u/2,A)+w.line(ee+u/4,A)+w.line(ee+u-u/4,A)+w.line(ee+u/2,A)+w.line(ee+u/2,O)+w.line(ee+u,O)+w.line(ee+u,te)+w.line(ee,te)+w.line(ee,O+x/2),w.move(ee,te)+w.line(ee+u,te)+w.line(ee+u,X)+w.line(ee+u/2,X)+w.line(ee+u/2,I)+w.line(ee+u-u/4,I)+w.line(ee+u/4,I)+w.line(ee+u/2,I)+w.line(ee+u/2,X)+w.line(ee,X)+w.line(ee,te)+"z"]:[w.move(ee,X)+w.line(ee+u/2,X)+w.line(ee+u/2,A)+w.line(ee+u/2,X)+w.line(ee+u,X)+w.line(ee+u,O)+w.line(ee+u/2,O)+w.line(ee+u/2,I)+w.line(ee+u/2,O)+w.line(ee,O)+w.line(ee,X-x/2)],_e+=w.move(ee,O),b.globals.isXNumeric||(h+=f),{pathTo:Se,pathFrom:_e,x:h,y:X,barXPosition:ee,color:this.isBoxPlot?V:P?[R]:[B]}}},{key:"drawHorizontalBoxPaths",value:function(o){var c=o.indexes;o.x;var h=o.y,f=o.yDivision,u=o.barHeight,g=o.zeroW,x=o.strokeWidth,b=this.w,w=new H(this.ctx),_=c.i,k=c.j,P=this.boxOptions.colors.lower;this.isBoxPlot&&(P=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var R=this.invertedYRatio,B=c.realIndex,V=this.getOHLCValue(B,k),j=g,U=g,m=Math.min(V.o,V.c),A=Math.max(V.o,V.c),I=V.m;b.globals.isXNumeric&&(h=(b.globals.seriesX[B][k]-b.globals.minX)/this.invertedXRatio-u/2);var O=h+u*this.visibleI;this.series[_][k]===void 0||this.series[_][k]===null?(m=g,A=g):(m=g+m/R,A=g+A/R,j=g+V.h/R,U=g+V.l/R,I=g+V.m/R);var X=w.move(g,O),te=w.move(m,O+u/2);return b.globals.previousPaths.length>0&&(te=this.getPreviousPath(B,k,!0)),X=[w.move(m,O)+w.line(m,O+u/2)+w.line(j,O+u/2)+w.line(j,O+u/2-u/4)+w.line(j,O+u/2+u/4)+w.line(j,O+u/2)+w.line(m,O+u/2)+w.line(m,O+u)+w.line(I,O+u)+w.line(I,O)+w.line(m+x/2,O),w.move(I,O)+w.line(I,O+u)+w.line(A,O+u)+w.line(A,O+u/2)+w.line(U,O+u/2)+w.line(U,O+u-u/4)+w.line(U,O+u/4)+w.line(U,O+u/2)+w.line(A,O+u/2)+w.line(A,O)+w.line(I,O)+"z"],te+=w.move(m,O),b.globals.isXNumeric||(h+=f),{pathTo:X,pathFrom:te,x:A,y:h,barYPosition:O,color:P}}},{key:"getOHLCValue",value:function(o,c){var h=this.w;return{o:this.isBoxPlot?h.globals.seriesCandleH[o][c]:h.globals.seriesCandleO[o][c],h:this.isBoxPlot?h.globals.seriesCandleO[o][c]:h.globals.seriesCandleH[o][c],m:h.globals.seriesCandleM[o][c],l:this.isBoxPlot?h.globals.seriesCandleC[o][c]:h.globals.seriesCandleL[o][c],c:this.isBoxPlot?h.globals.seriesCandleL[o][c]:h.globals.seriesCandleC[o][c]}}}]),r}(),Nn=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"checkColorRange",value:function(){var i=this.w,r=!1,o=i.config.plotOptions[i.config.chart.type];return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(c,h){c.from<=0&&(r=!0)}),r}},{key:"getShadeColor",value:function(i,r,o,c){var h=this.w,f=1,u=h.config.plotOptions[i].shadeIntensity,g=this.determineColor(i,r,o);h.globals.hasNegs||c?f=h.config.plotOptions[i].reverseNegativeShade?g.percent<0?g.percent/100*(1.25*u):(1-g.percent/100)*(1.25*u):g.percent<=0?1-(1+g.percent/100)*u:(1-g.percent/100)*u:(f=1-g.percent/100,i==="treemap"&&(f=(1-g.percent/100)*(1.25*u)));var x=g.color,b=new S;return h.config.plotOptions[i].enableShades&&(x=this.w.config.theme.mode==="dark"?S.hexToRgba(b.shadeColor(-1*f,g.color),h.config.fill.opacity):S.hexToRgba(b.shadeColor(f,g.color),h.config.fill.opacity)),{color:x,colorProps:g}}},{key:"determineColor",value:function(i,r,o){var c=this.w,h=c.globals.series[r][o],f=c.config.plotOptions[i],u=f.colorScale.inverse?o:r;f.distributed&&c.config.chart.type==="treemap"&&(u=o);var g=c.globals.colors[u],x=null,b=Math.min.apply(Math,N(c.globals.series[r])),w=Math.max.apply(Math,N(c.globals.series[r]));f.distributed||i!=="heatmap"||(b=c.globals.minY,w=c.globals.maxY),f.colorScale.min!==void 0&&(b=f.colorScale.min<c.globals.minY?f.colorScale.min:c.globals.minY,w=f.colorScale.max>c.globals.maxY?f.colorScale.max:c.globals.maxY);var _=Math.abs(w)+Math.abs(b),k=100*h/(_===0?_-1e-6:_);return f.colorScale.ranges.length>0&&f.colorScale.ranges.map(function(P,R){if(h>=P.from&&h<=P.to){g=P.color,x=P.foreColor?P.foreColor:null,b=P.from,w=P.to;var B=Math.abs(w)+Math.abs(b);k=100*h/(B===0?B-1e-6:B)}}),{color:g,foreColor:x,percent:k}}},{key:"calculateDataLabels",value:function(i){var r=i.text,o=i.x,c=i.y,h=i.i,f=i.j,u=i.colorProps,g=i.fontSize,x=this.w.config.dataLabels,b=new H(this.ctx),w=new Ie(this.ctx),_=null;if(x.enabled){_=b.group({class:"apexcharts-data-labels"});var k=x.offsetX,P=x.offsetY,R=o+k,B=c+parseFloat(x.style.fontSize)/3+P;w.plotDataLabelsText({x:R,y:B,text:r,i:h,j:f,color:u.foreColor,parent:_,fontSize:g,dataLabelsConfig:x})}return _}},{key:"addListeners",value:function(i){var r=new H(this.ctx);i.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this,i)),i.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this,i)),i.node.addEventListener("mousedown",r.pathMouseDown.bind(this,i))}}]),F}(),Kn=function(){function F(i,r){l(this,F),this.ctx=i,this.w=i.w,this.xRatio=r.xRatio,this.yRatio=r.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Nn(i),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return p(F,[{key:"draw",value:function(i){var r=this.w,o=new H(this.ctx),c=o.group({class:"apexcharts-heatmap"});c.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")"));var h=r.globals.gridWidth/r.globals.dataPoints,f=r.globals.gridHeight/r.globals.series.length,u=0,g=!1;this.negRange=this.helpers.checkColorRange();var x=i.slice();r.config.yaxis[0].reversed&&(g=!0,x.reverse());for(var b=g?0:x.length-1;g?b<x.length:b>=0;g?b++:b--){var w=o.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:S.escapeString(r.globals.seriesNames[b]),rel:b+1,"data:realIndex":b});if(this.ctx.series.addCollapsedClassToSeries(w,b),r.config.chart.dropShadow.enabled){var _=r.config.chart.dropShadow;new W(this.ctx).dropShadow(w,_,b)}for(var k=0,P=r.config.plotOptions.heatmap.shadeIntensity,R=0;R<x[b].length;R++){var B=this.helpers.getShadeColor(r.config.chart.type,b,R,this.negRange),V=B.color,j=B.colorProps;r.config.fill.type==="image"&&(V=new ne(this.ctx).fillPath({seriesNumber:b,dataPointIndex:R,opacity:r.globals.hasNegs?j.percent<0?1-(1+j.percent/100):P+j.percent/100:j.percent/100,patternID:S.randomId(),width:r.config.fill.image.width?r.config.fill.image.width:h,height:r.config.fill.image.height?r.config.fill.image.height:f}));var U=this.rectRadius,m=o.drawRect(k,u,h,f,U);if(m.attr({cx:k,cy:u}),m.node.classList.add("apexcharts-heatmap-rect"),w.add(m),m.attr({fill:V,i:b,index:b,j:R,val:x[b][R],"stroke-width":this.strokeWidth,stroke:r.config.plotOptions.heatmap.useFillColorAsStroke?V:r.globals.stroke.colors[0],color:V}),this.helpers.addListeners(m),r.config.chart.animations.enabled&&!r.globals.dataChanged){var A=1;r.globals.resized||(A=r.config.chart.animations.speed),this.animateHeatMap(m,k,u,h,f,A)}if(r.globals.dataChanged){var I=1;if(this.dynamicAnim.enabled&&r.globals.shouldAnimate){I=this.dynamicAnim.speed;var O=r.globals.previousPaths[b]&&r.globals.previousPaths[b][R]&&r.globals.previousPaths[b][R].color;O||(O="rgba(255, 255, 255, 0)"),this.animateHeatColor(m,S.isColorHex(O)?O:S.rgb2hex(O),S.isColorHex(V)?V:S.rgb2hex(V),I)}}var X=(0,r.config.dataLabels.formatter)(r.globals.series[b][R],{value:r.globals.series[b][R],seriesIndex:b,dataPointIndex:R,w:r}),te=this.helpers.calculateDataLabels({text:X,x:k+h/2,y:u+f/2,i:b,j:R,colorProps:j,series:x});te!==null&&w.add(te),k+=h}u+=f,c.add(w)}var ee=r.globals.yAxisScale[0].result.slice();r.config.yaxis[0].reversed?ee.unshift(""):ee.push(""),r.globals.yAxisScale[0].result=ee;var Se=r.globals.gridHeight/r.globals.series.length;return r.config.yaxis[0].labels.offsetY=-Se/2,c}},{key:"animateHeatMap",value:function(i,r,o,c,h,f){var u=new G(this.ctx);u.animateRect(i,{x:r+c/2,y:o+h/2,width:0,height:0},{x:r,y:o,width:c,height:h},f,function(){u.animationCompleted(i)})}},{key:"animateHeatColor",value:function(i,r,o,c){i.attr({fill:r}).animate(c).attr({fill:o})}}]),F}(),Sr=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"drawYAxisTexts",value:function(i,r,o,c){var h=this.w,f=h.config.yaxis[0],u=h.globals.yLabelFormatters[0];return new H(this.ctx).drawText({x:i+f.labels.offsetX,y:r+f.labels.offsetY,text:u(c,o),textAnchor:"middle",fontSize:f.labels.style.fontSize,fontFamily:f.labels.style.fontFamily,foreColor:Array.isArray(f.labels.style.colors)?f.labels.style.colors[o]:f.labels.style.colors})}}]),F}(),$o=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w;var r=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=r.globals.stroke.colors!==void 0?r.globals.stroke.colors:r.globals.colors,this.defaultSize=Math.min(r.globals.gridWidth,r.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=r.globals.gridWidth/2,r.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(r.config.plotOptions.pie.endAngle-r.config.plotOptions.pie.startAngle),this.initialAngle=r.config.plotOptions.pie.startAngle%this.fullAngle,r.globals.radialSize=this.defaultSize/2.05-r.config.stroke.width-(r.config.chart.sparkline.enabled?0:r.config.chart.dropShadow.blur),this.donutSize=r.globals.radialSize*parseInt(r.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return p(F,[{key:"draw",value:function(i){var r=this,o=this.w,c=new H(this.ctx);if(this.ret=c.group({class:"apexcharts-pie"}),o.globals.noData)return this.ret;for(var h=0,f=0;f<i.length;f++)h+=S.negToZero(i[f]);var u=[],g=c.group();h===0&&(h=1e-5),i.forEach(function(O){r.maxY=Math.max(r.maxY,O)}),o.config.yaxis[0].max&&(this.maxY=o.config.yaxis[0].max),o.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var x=0;x<i.length;x++){var b=this.fullAngle*S.negToZero(i[x])/h;u.push(b),this.chartType==="polarArea"?(u[x]=this.fullAngle/i.length,this.sliceSizes.push(o.globals.radialSize*i[x]/this.maxY)):this.sliceSizes.push(o.globals.radialSize)}if(o.globals.dataChanged){for(var w,_=0,k=0;k<o.globals.previousPaths.length;k++)_+=S.negToZero(o.globals.previousPaths[k]);for(var P=0;P<o.globals.previousPaths.length;P++)w=this.fullAngle*S.negToZero(o.globals.previousPaths[P])/_,this.prevSectorAngleArr.push(w)}this.donutSize<0&&(this.donutSize=0);var R=o.config.plotOptions.pie.customScale,B=o.globals.gridWidth/2,V=o.globals.gridHeight/2,j=B-o.globals.gridWidth/2*R,U=V-o.globals.gridHeight/2*R;if(this.chartType==="donut"){var m=c.drawCircle(this.donutSize);m.attr({cx:this.centerX,cy:this.centerY,fill:o.config.plotOptions.pie.donut.background?o.config.plotOptions.pie.donut.background:"transparent"}),g.add(m)}var A=this.drawArcs(u,i);if(this.sliceLabels.forEach(function(O){A.add(O)}),g.attr({transform:"translate(".concat(j,", ").concat(U,") scale(").concat(R,")")}),g.add(A),this.ret.add(g),this.donutDataLabels.show){var I=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:j,translateY:U});this.ret.add(I)}return o.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(i,r){var o=this.w,c=new W(this.ctx),h=new H(this.ctx),f=new ne(this.ctx),u=h.group({class:"apexcharts-slices"}),g=this.initialAngle,x=this.initialAngle,b=this.initialAngle,w=this.initialAngle;this.strokeWidth=o.config.stroke.show?o.config.stroke.width:0;for(var _=0;_<i.length;_++){var k=h.group({class:"apexcharts-series apexcharts-pie-series",seriesName:S.escapeString(o.globals.seriesNames[_]),rel:_+1,"data:realIndex":_});u.add(k),x=w,b=(g=b)+i[_],w=x+this.prevSectorAngleArr[_];var P=b<g?this.fullAngle+b-g:b-g,R=f.fillPath({seriesNumber:_,size:this.sliceSizes[_],value:r[_]}),B=this.getChangedPath(x,w),V=h.drawPath({d:B,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[_]:this.lineColorArr,strokeWidth:0,fill:R,fillOpacity:o.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(_)});if(V.attr({index:0,j:_}),c.setSelectionFilter(V,0,_),o.config.chart.dropShadow.enabled){var j=o.config.chart.dropShadow;c.dropShadow(V,j,_)}this.addListeners(V,this.donutDataLabels),H.setAttrs(V.node,{"data:angle":P,"data:startAngle":g,"data:strokeWidth":this.strokeWidth,"data:value":r[_]});var U={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?U=S.polarToCartesian(this.centerX,this.centerY,o.globals.radialSize/1.25+o.config.plotOptions.pie.dataLabels.offset,(g+P/2)%this.fullAngle):this.chartType==="donut"&&(U=S.polarToCartesian(this.centerX,this.centerY,(o.globals.radialSize+this.donutSize)/2+o.config.plotOptions.pie.dataLabels.offset,(g+P/2)%this.fullAngle)),k.add(V);var m=0;if(!this.initialAnim||o.globals.resized||o.globals.dataChanged?this.animBeginArr.push(0):((m=P/this.fullAngle*o.config.chart.animations.speed)===0&&(m=1),this.animDur=m+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&o.globals.dataChanged?this.animatePaths(V,{size:this.sliceSizes[_],endAngle:b,startAngle:g,prevStartAngle:x,prevEndAngle:w,animateStartingPos:!0,i:_,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:o.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(V,{size:this.sliceSizes[_],endAngle:b,startAngle:g,i:_,totalItems:i.length-1,animBeginArr:this.animBeginArr,dur:m}),o.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&V.click(this.pieClicked.bind(this,_)),o.globals.selectedDataPoints[0]!==void 0&&o.globals.selectedDataPoints[0].indexOf(_)>-1&&this.pieClicked(_),o.config.dataLabels.enabled){var A=U.x,I=U.y,O=100*P/this.fullAngle+"%";if(P!==0&&o.config.plotOptions.pie.dataLabels.minAngleToShowLabel<i[_]){var X=o.config.dataLabels.formatter;X!==void 0&&(O=X(o.globals.seriesPercent[_][0],{seriesIndex:_,w:o}));var te=o.globals.dataLabels.style.colors[_],ee=h.group({class:"apexcharts-datalabels"}),Se=h.drawText({x:A,y:I,text:O,textAnchor:"middle",fontSize:o.config.dataLabels.style.fontSize,fontFamily:o.config.dataLabels.style.fontFamily,fontWeight:o.config.dataLabels.style.fontWeight,foreColor:te});if(ee.add(Se),o.config.dataLabels.dropShadow.enabled){var _e=o.config.dataLabels.dropShadow;c.dropShadow(Se,_e)}Se.node.classList.add("apexcharts-pie-label"),o.config.chart.animations.animate&&o.globals.resized===!1&&(Se.node.classList.add("apexcharts-pie-label-delay"),Se.node.style.animationDelay=o.config.chart.animations.speed/940+"s"),this.sliceLabels.push(ee)}}}return u}},{key:"addListeners",value:function(i,r){var o=new H(this.ctx);i.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this,i)),i.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this,i)),i.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,i.node,r)),i.node.addEventListener("mousedown",o.pathMouseDown.bind(this,i)),this.donutDataLabels.total.showAlways||(i.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,i.node,r)),i.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,i.node,r)))}},{key:"animatePaths",value:function(i,r){var o=this.w,c=r.endAngle<r.startAngle?this.fullAngle+r.endAngle-r.startAngle:r.endAngle-r.startAngle,h=c,f=r.startAngle,u=r.startAngle;r.prevStartAngle!==void 0&&r.prevEndAngle!==void 0&&(f=r.prevEndAngle,h=r.prevEndAngle<r.prevStartAngle?this.fullAngle+r.prevEndAngle-r.prevStartAngle:r.prevEndAngle-r.prevStartAngle),r.i===o.config.series.length-1&&(c+u>this.fullAngle?r.endAngle=r.endAngle-(c+u):c+u<this.fullAngle&&(r.endAngle=r.endAngle+(this.fullAngle-(c+u)))),c===this.fullAngle&&(c=this.fullAngle-.01),this.animateArc(i,f,u,c,h,r)}},{key:"animateArc",value:function(i,r,o,c,h,f){var u,g=this,x=this.w,b=new G(this.ctx),w=f.size;(isNaN(r)||isNaN(h))&&(r=o,h=c,f.dur=0);var _=c,k=o,P=r<o?this.fullAngle+r-o:r-o;x.globals.dataChanged&&f.shouldSetPrevPaths&&f.prevEndAngle&&(u=g.getPiePath({me:g,startAngle:f.prevStartAngle,angle:f.prevEndAngle<f.prevStartAngle?this.fullAngle+f.prevEndAngle-f.prevStartAngle:f.prevEndAngle-f.prevStartAngle,size:w}),i.attr({d:u})),f.dur!==0?i.animate(f.dur,x.globals.easing,f.animBeginArr[f.i]).afterAll(function(){g.chartType!=="pie"&&g.chartType!=="donut"&&g.chartType!=="polarArea"||this.animate(x.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":g.strokeWidth}),f.i===x.config.series.length-1&&b.animationCompleted(i)}).during(function(R){_=P+(c-P)*R,f.animateStartingPos&&(_=h+(c-h)*R,k=r-h+(o-(r-h))*R),u=g.getPiePath({me:g,startAngle:k,angle:_,size:w}),i.node.setAttribute("data:pathOrig",u),i.attr({d:u})}):(u=g.getPiePath({me:g,startAngle:k,angle:c,size:w}),f.isTrack||(x.globals.animationEnded=!0),i.node.setAttribute("data:pathOrig",u),i.attr({d:u,"stroke-width":g.strokeWidth}))}},{key:"pieClicked",value:function(i){var r,o=this.w,c=this,h=c.sliceSizes[i]+(o.config.plotOptions.pie.expandOnClick?4:0),f=o.globals.dom.Paper.select(".apexcharts-".concat(c.chartType.toLowerCase(),"-slice-").concat(i)).members[0];if(f.attr("data:pieClicked")!=="true"){var u=o.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(u,function(w){w.setAttribute("data:pieClicked","false");var _=w.getAttribute("data:pathOrig");w.setAttribute("d",_)}),f.attr("data:pieClicked","true");var g=parseInt(f.attr("data:startAngle"),10),x=parseInt(f.attr("data:angle"),10);r=c.getPiePath({me:c,startAngle:g,angle:x,size:h}),x!==360&&f.plot(r)}else{f.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(f.node,this.donutDataLabels);var b=f.attr("data:pathOrig");f.attr({d:b})}}},{key:"getChangedPath",value:function(i,r){var o="";return this.dynamicAnim&&this.w.globals.dataChanged&&(o=this.getPiePath({me:this,startAngle:i,angle:r-i,size:this.size})),o}},{key:"getPiePath",value:function(i){var r=i.me,o=i.startAngle,c=i.angle,h=i.size,f=o,u=Math.PI*(f-90)/180,g=c+o;Math.ceil(g)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(g=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(g)>this.fullAngle&&(g-=this.fullAngle);var x=Math.PI*(g-90)/180,b=r.centerX+h*Math.cos(u),w=r.centerY+h*Math.sin(u),_=r.centerX+h*Math.cos(x),k=r.centerY+h*Math.sin(x),P=S.polarToCartesian(r.centerX,r.centerY,r.donutSize,g),R=S.polarToCartesian(r.centerX,r.centerY,r.donutSize,f),B=c>180?1:0,V=["M",b,w,"A",h,h,0,B,1,_,k];return r.chartType==="donut"?[].concat(V,["L",P.x,P.y,"A",r.donutSize,r.donutSize,0,B,0,R.x,R.y,"L",b,w,"z"]).join(" "):r.chartType==="pie"||r.chartType==="polarArea"?[].concat(V,["L",r.centerX,r.centerY,"L",b,w]).join(" "):[].concat(V).join(" ")}},{key:"drawPolarElements",value:function(i){var r=this.w,o=new ye(this.ctx),c=new H(this.ctx),h=new Sr(this.ctx),f=c.group(),u=c.group(),g=o.niceScale(0,Math.ceil(this.maxY),r.config.yaxis[0].tickAmount,0,!0),x=g.result.reverse(),b=g.result.length;this.maxY=g.niceMax;for(var w=r.globals.radialSize,_=w/(b-1),k=0;k<b-1;k++){var P=c.drawCircle(w);if(P.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":r.config.plotOptions.polarArea.rings.strokeWidth,stroke:r.config.plotOptions.polarArea.rings.strokeColor}),r.config.yaxis[0].show){var R=h.drawYAxisTexts(this.centerX,this.centerY-w+parseInt(r.config.yaxis[0].labels.style.fontSize,10)/2,k,x[k]);u.add(R)}f.add(P),w-=_}this.drawSpokes(i),i.add(f),i.add(u)}},{key:"renderInnerDataLabels",value:function(i,r){var o=this.w,c=new H(this.ctx),h=c.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(r.translateX?r.translateX:0,", ").concat(r.translateY?r.translateY:0,") scale(").concat(o.config.plotOptions.pie.customScale,")")}),f=i.total.show;h.node.style.opacity=r.opacity;var u,g,x=r.centerX,b=r.centerY;u=i.name.color===void 0?o.globals.colors[0]:i.name.color;var w=i.name.fontSize,_=i.name.fontFamily,k=i.name.fontWeight;g=i.value.color===void 0?o.config.chart.foreColor:i.value.color;var P=i.value.formatter,R="",B="";if(f?(u=i.total.color,w=i.total.fontSize,_=i.total.fontFamily,k=i.total.fontWeight,B=i.total.label,R=i.total.formatter(o)):o.globals.series.length===1&&(R=P(o.globals.series[0],o),B=o.globals.seriesNames[0]),B&&(B=i.name.formatter(B,i.total.show,o)),i.name.show){var V=c.drawText({x,y:b+parseFloat(i.name.offsetY),text:B,textAnchor:"middle",foreColor:u,fontSize:w,fontWeight:k,fontFamily:_});V.node.classList.add("apexcharts-datalabel-label"),h.add(V)}if(i.value.show){var j=i.name.show?parseFloat(i.value.offsetY)+16:i.value.offsetY,U=c.drawText({x,y:b+j,text:R,textAnchor:"middle",foreColor:g,fontWeight:i.value.fontWeight,fontSize:i.value.fontSize,fontFamily:i.value.fontFamily});U.node.classList.add("apexcharts-datalabel-value"),h.add(U)}return h}},{key:"printInnerLabels",value:function(i,r,o,c){var h,f=this.w;c?h=i.name.color===void 0?f.globals.colors[parseInt(c.parentNode.getAttribute("rel"),10)-1]:i.name.color:f.globals.series.length>1&&i.total.show&&(h=i.total.color);var u=f.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),g=f.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");o=(0,i.value.formatter)(o,f),c||typeof i.total.formatter!="function"||(o=i.total.formatter(f));var x=r===i.total.label;r=i.name.formatter(r,x,f),u!==null&&(u.textContent=r),g!==null&&(g.textContent=o),u!==null&&(u.style.fill=h)}},{key:"printDataLabelsInner",value:function(i,r){var o=this.w,c=i.getAttribute("data:value"),h=o.globals.seriesNames[parseInt(i.parentNode.getAttribute("rel"),10)-1];o.globals.series.length>1&&this.printInnerLabels(r,h,c,i);var f=o.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");f!==null&&(f.style.opacity=1)}},{key:"drawSpokes",value:function(i){var r=this,o=this.w,c=new H(this.ctx),h=o.config.plotOptions.polarArea.spokes;if(h.strokeWidth!==0){for(var f=[],u=360/o.globals.series.length,g=0;g<o.globals.series.length;g++)f.push(S.polarToCartesian(this.centerX,this.centerY,o.globals.radialSize,o.config.plotOptions.pie.startAngle+u*g));f.forEach(function(x,b){var w=c.drawLine(x.x,x.y,r.centerX,r.centerY,Array.isArray(h.connectorColors)?h.connectorColors[b]:h.connectorColors);i.add(w)})}}},{key:"revertDataLabelsInner",value:function(i,r,o){var c=this,h=this.w,f=h.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),u=!1,g=h.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),x=function(_){var k=_.makeSliceOut,P=_.printLabel;Array.prototype.forEach.call(g,function(R){R.getAttribute("data:pieClicked")==="true"&&(k&&(u=!0),P&&c.printDataLabelsInner(R,r))})};if(x({makeSliceOut:!0,printLabel:!1}),r.total.show&&h.globals.series.length>1)u&&!r.total.showAlways?x({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(r,r.total.label,r.total.formatter(h));else if(x({makeSliceOut:!1,printLabel:!0}),!u)if(h.globals.selectedDataPoints.length&&h.globals.series.length>1)if(h.globals.selectedDataPoints[0].length>0){var b=h.globals.selectedDataPoints[0],w=h.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(b));this.printDataLabelsInner(w,r)}else f&&h.globals.selectedDataPoints.length&&h.globals.selectedDataPoints[0].length===0&&(f.style.opacity=0);else f&&h.globals.series.length>1&&(f.style.opacity=0)}}]),F}(),pa=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var r=this.w;this.graphics=new H(this.ctx),this.lineColorArr=r.globals.stroke.colors!==void 0?r.globals.stroke.colors:r.globals.colors,this.defaultSize=r.globals.svgHeight<r.globals.svgWidth?r.globals.gridHeight+1.5*r.globals.goldenPadding:r.globals.gridWidth,this.isLog=r.config.yaxis[0].logarithmic,this.coreUtils=new $(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(r.globals.maxY,0):r.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):r.globals.minY,this.polygons=r.config.plotOptions.radar.polygons,this.strokeWidth=r.config.stroke.show?r.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-r.config.chart.dropShadow.blur,r.config.xaxis.labels.show&&(this.size=this.size-r.globals.xAxisLabelsWidth/1.75),r.config.plotOptions.radar.size!==void 0&&(this.size=r.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return p(F,[{key:"draw",value:function(i){var r=this,o=this.w,c=new ne(this.ctx),h=[],f=new Ie(this.ctx);i.length&&(this.dataPointsLen=i[o.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var u=o.globals.gridWidth/2,g=o.globals.gridHeight/2,x=u+o.config.plotOptions.radar.offsetX,b=g+o.config.plotOptions.radar.offsetY,w=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(x||0,", ").concat(b||0,")")}),_=[],k=null,P=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),i.forEach(function(B,V){var j=B.length===o.globals.dataPoints,U=r.graphics.group().attr({class:"apexcharts-series","data:longestSeries":j,seriesName:S.escapeString(o.globals.seriesNames[V]),rel:V+1,"data:realIndex":V});r.dataRadiusOfPercent[V]=[],r.dataRadius[V]=[],r.angleArr[V]=[],B.forEach(function(Le,Oe){var St=Math.abs(r.maxValue-r.minValue);Le+=Math.abs(r.minValue),r.isLog&&(Le=r.coreUtils.getLogVal(Le,0)),r.dataRadiusOfPercent[V][Oe]=Le/St,r.dataRadius[V][Oe]=r.dataRadiusOfPercent[V][Oe]*r.size,r.angleArr[V][Oe]=Oe*r.disAngle}),_=r.getDataPointsPos(r.dataRadius[V],r.angleArr[V]);var m=r.createPaths(_,{x:0,y:0});k=r.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),P=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":V}),o.globals.delayedElements.push({el:k.node,index:V});var A={i:V,realIndex:V,animationDelay:V,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:o.globals.stroke.colors[V],strokeLineCap:o.config.stroke.lineCap},I=null;o.globals.previousPaths.length>0&&(I=r.getPreviousPath(V));for(var O=0;O<m.linePathsTo.length;O++){var X=r.graphics.renderPaths(s(s({},A),{},{pathFrom:I===null?m.linePathsFrom[O]:I,pathTo:m.linePathsTo[O],strokeWidth:Array.isArray(r.strokeWidth)?r.strokeWidth[V]:r.strokeWidth,fill:"none",drawShadow:!1}));U.add(X);var te=c.fillPath({seriesNumber:V}),ee=r.graphics.renderPaths(s(s({},A),{},{pathFrom:I===null?m.areaPathsFrom[O]:I,pathTo:m.areaPathsTo[O],strokeWidth:0,fill:te,drawShadow:!1}));if(o.config.chart.dropShadow.enabled){var Se=new W(r.ctx),_e=o.config.chart.dropShadow;Se.dropShadow(ee,Object.assign({},_e,{noUserSpaceOnUse:!0}),V)}U.add(ee)}B.forEach(function(Le,Oe){var St=new xe(r.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:V,dataPointIndex:Oe}),wt=r.graphics.drawMarker(_[Oe].x,_[Oe].y,St);wt.attr("rel",Oe),wt.attr("j",Oe),wt.attr("index",V),wt.node.setAttribute("default-marker-size",St.pSize);var Dt=r.graphics.group({class:"apexcharts-series-markers"});Dt&&Dt.add(wt),k.add(Dt),U.add(k);var Yt=o.config.dataLabels;if(Yt.enabled){var dn=Yt.formatter(o.globals.series[V][Oe],{seriesIndex:V,dataPointIndex:Oe,w:o});f.plotDataLabelsText({x:_[Oe].x,y:_[Oe].y,text:dn,textAnchor:"middle",i:V,j:V,parent:P,offsetCorrection:!1,dataLabelsConfig:s({},Yt)})}U.add(P)}),h.push(U)}),this.drawPolygons({parent:w}),o.config.xaxis.labels.show){var R=this.drawXAxisTexts();w.add(R)}return h.forEach(function(B){w.add(B)}),w.add(this.yaxisLabels),w}},{key:"drawPolygons",value:function(i){for(var r=this,o=this.w,c=i.parent,h=new Sr(this.ctx),f=o.globals.yAxisScale[0].result.reverse(),u=f.length,g=[],x=this.size/(u-1),b=0;b<u;b++)g[b]=x*b;g.reverse();var w=[],_=[];g.forEach(function(k,P){var R=S.getPolygonPos(k,r.dataPointsLen),B="";R.forEach(function(V,j){if(P===0){var U=r.graphics.drawLine(V.x,V.y,0,0,Array.isArray(r.polygons.connectorColors)?r.polygons.connectorColors[j]:r.polygons.connectorColors);_.push(U)}j===0&&r.yaxisLabelsTextsPos.push({x:V.x,y:V.y}),B+=V.x+","+V.y+" "}),w.push(B)}),w.forEach(function(k,P){var R=r.polygons.strokeColors,B=r.polygons.strokeWidth,V=r.graphics.drawPolygon(k,Array.isArray(R)?R[P]:R,Array.isArray(B)?B[P]:B,o.globals.radarPolygons.fill.colors[P]);c.add(V)}),_.forEach(function(k){c.add(k)}),o.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(k,P){var R=h.drawYAxisTexts(k.x,k.y,P,f[P]);r.yaxisLabels.add(R)})}},{key:"drawXAxisTexts",value:function(){var i=this,r=this.w,o=r.config.xaxis.labels,c=this.graphics.group({class:"apexcharts-xaxis"}),h=S.getPolygonPos(this.size,this.dataPointsLen);return r.globals.labels.forEach(function(f,u){var g=r.config.xaxis.labels.formatter,x=new Ie(i.ctx);if(h[u]){var b=i.getTextPos(h[u],i.size),w=g(f,{seriesIndex:-1,dataPointIndex:u,w:r});x.plotDataLabelsText({x:b.newX,y:b.newY,text:w,textAnchor:b.textAnchor,i:u,j:u,parent:c,color:Array.isArray(o.style.colors)&&o.style.colors[u]?o.style.colors[u]:"#a8a8a8",dataLabelsConfig:s({textAnchor:b.textAnchor,dropShadow:{enabled:!1}},o),offsetCorrection:!1})}}),c}},{key:"createPaths",value:function(i,r){var o=this,c=[],h=[],f=[],u=[];if(i.length){h=[this.graphics.move(r.x,r.y)],u=[this.graphics.move(r.x,r.y)];var g=this.graphics.move(i[0].x,i[0].y),x=this.graphics.move(i[0].x,i[0].y);i.forEach(function(b,w){g+=o.graphics.line(b.x,b.y),x+=o.graphics.line(b.x,b.y),w===i.length-1&&(g+="Z",x+="Z")}),c.push(g),f.push(x)}return{linePathsFrom:h,linePathsTo:c,areaPathsFrom:u,areaPathsTo:f}}},{key:"getTextPos",value:function(i,r){var o="middle",c=i.x,h=i.y;return Math.abs(i.x)>=10?i.x>0?(o="start",c+=10):i.x<0&&(o="end",c-=10):o="middle",Math.abs(i.y)>=r-10&&(i.y<0?h-=10:i.y>0&&(h+=10)),{textAnchor:o,newX:c,newY:h}}},{key:"getPreviousPath",value:function(i){for(var r=this.w,o=null,c=0;c<r.globals.previousPaths.length;c++){var h=r.globals.previousPaths[c];h.paths.length>0&&parseInt(h.realIndex,10)===parseInt(i,10)&&r.globals.previousPaths[c].paths[0]!==void 0&&(o=r.globals.previousPaths[c].paths[0].d)}return o}},{key:"getDataPointsPos",value:function(i,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;i=i||[],r=r||[];for(var c=[],h=0;h<o;h++){var f={};f.x=i[h]*Math.sin(r[h]),f.y=-i[h]*Math.cos(r[h]),c.push(f)}return c}}]),F}(),Zo=function(F){y(r,$o);var i=L(r);function r(o){var c;l(this,r),(c=i.call(this,o)).ctx=o,c.w=o.w,c.animBeginArr=[0],c.animDur=0;var h=c.w;return c.startAngle=h.config.plotOptions.radialBar.startAngle,c.endAngle=h.config.plotOptions.radialBar.endAngle,c.totalAngle=Math.abs(h.config.plotOptions.radialBar.endAngle-h.config.plotOptions.radialBar.startAngle),c.trackStartAngle=h.config.plotOptions.radialBar.track.startAngle,c.trackEndAngle=h.config.plotOptions.radialBar.track.endAngle,c.donutDataLabels=c.w.config.plotOptions.radialBar.dataLabels,c.radialDataLabels=c.donutDataLabels,c.trackStartAngle||(c.trackStartAngle=c.startAngle),c.trackEndAngle||(c.trackEndAngle=c.endAngle),c.endAngle===360&&(c.endAngle=359.99),c.margin=parseInt(h.config.plotOptions.radialBar.track.margin,10),c}return p(r,[{key:"draw",value:function(o){var c=this.w,h=new H(this.ctx),f=h.group({class:"apexcharts-radialbar"});if(c.globals.noData)return f;var u=h.group(),g=this.defaultSize/2,x=c.globals.gridWidth/2,b=this.defaultSize/2.05;c.config.chart.sparkline.enabled||(b=b-c.config.stroke.width-c.config.chart.dropShadow.blur);var w=c.globals.fill.colors;if(c.config.plotOptions.radialBar.track.show){var _=this.drawTracks({size:b,centerX:x,centerY:g,colorArr:w,series:o});u.add(_)}var k=this.drawArcs({size:b,centerX:x,centerY:g,colorArr:w,series:o}),P=360;c.config.plotOptions.radialBar.startAngle<0&&(P=this.totalAngle);var R=(360-P)/360;if(c.globals.radialSize=b-b*R,this.radialDataLabels.value.show){var B=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);c.globals.radialSize+=B*R}return u.add(k.g),c.config.plotOptions.radialBar.hollow.position==="front"&&(k.g.add(k.elHollow),k.dataLabels&&k.g.add(k.dataLabels)),f.add(u),f}},{key:"drawTracks",value:function(o){var c=this.w,h=new H(this.ctx),f=h.group({class:"apexcharts-tracks"}),u=new W(this.ctx),g=new ne(this.ctx),x=this.getStrokeWidth(o);o.size=o.size-x/2;for(var b=0;b<o.series.length;b++){var w=h.group({class:"apexcharts-radialbar-track apexcharts-track"});f.add(w),w.attr({rel:b+1}),o.size=o.size-x-this.margin;var _=c.config.plotOptions.radialBar.track,k=g.fillPath({seriesNumber:0,size:o.size,fillColors:Array.isArray(_.background)?_.background[b]:_.background,solid:!0}),P=this.trackStartAngle,R=this.trackEndAngle;Math.abs(R)+Math.abs(P)>=360&&(R=360-Math.abs(this.startAngle)-.1);var B=h.drawPath({d:"",stroke:k,strokeWidth:x*parseInt(_.strokeWidth,10)/100,fill:"none",strokeOpacity:_.opacity,classes:"apexcharts-radialbar-area"});if(_.dropShadow.enabled){var V=_.dropShadow;u.dropShadow(B,V)}w.add(B),B.attr("id","apexcharts-radialbarTrack-"+b),this.animatePaths(B,{centerX:o.centerX,centerY:o.centerY,endAngle:R,startAngle:P,size:o.size,i:b,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:c.globals.easing})}return f}},{key:"drawArcs",value:function(o){var c=this.w,h=new H(this.ctx),f=new ne(this.ctx),u=new W(this.ctx),g=h.group(),x=this.getStrokeWidth(o);o.size=o.size-x/2;var b=c.config.plotOptions.radialBar.hollow.background,w=o.size-x*o.series.length-this.margin*o.series.length-x*parseInt(c.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,_=w-c.config.plotOptions.radialBar.hollow.margin;c.config.plotOptions.radialBar.hollow.image!==void 0&&(b=this.drawHollowImage(o,g,w,b));var k=this.drawHollow({size:_,centerX:o.centerX,centerY:o.centerY,fill:b||"transparent"});if(c.config.plotOptions.radialBar.hollow.dropShadow.enabled){var P=c.config.plotOptions.radialBar.hollow.dropShadow;u.dropShadow(k,P)}var R=1;!this.radialDataLabels.total.show&&c.globals.series.length>1&&(R=0);var B=null;this.radialDataLabels.show&&(B=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:w,centerX:o.centerX,centerY:o.centerY,opacity:R})),c.config.plotOptions.radialBar.hollow.position==="back"&&(g.add(k),B&&g.add(B));var V=!1;c.config.plotOptions.radialBar.inverseOrder&&(V=!0);for(var j=V?o.series.length-1:0;V?j>=0:j<o.series.length;V?j--:j++){var U=h.group({class:"apexcharts-series apexcharts-radial-series",seriesName:S.escapeString(c.globals.seriesNames[j])});g.add(U),U.attr({rel:j+1,"data:realIndex":j}),this.ctx.series.addCollapsedClassToSeries(U,j),o.size=o.size-x-this.margin;var m=f.fillPath({seriesNumber:j,size:o.size,value:o.series[j]}),A=this.startAngle,I=void 0,O=S.negToZero(o.series[j]>100?100:o.series[j])/100,X=Math.round(this.totalAngle*O)+this.startAngle,te=void 0;c.globals.dataChanged&&(I=this.startAngle,te=Math.round(this.totalAngle*S.negToZero(c.globals.previousPaths[j])/100)+I),Math.abs(X)+Math.abs(A)>=360&&(X-=.01),Math.abs(te)+Math.abs(I)>=360&&(te-=.01);var ee=X-A,Se=Array.isArray(c.config.stroke.dashArray)?c.config.stroke.dashArray[j]:c.config.stroke.dashArray,_e=h.drawPath({d:"",stroke:m,strokeWidth:x,fill:"none",fillOpacity:c.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+j,strokeDashArray:Se});if(H.setAttrs(_e.node,{"data:angle":ee,"data:value":o.series[j]}),c.config.chart.dropShadow.enabled){var Le=c.config.chart.dropShadow;u.dropShadow(_e,Le,j)}u.setSelectionFilter(_e,0,j),this.addListeners(_e,this.radialDataLabels),U.add(_e),_e.attr({index:0,j});var Oe=0;!this.initialAnim||c.globals.resized||c.globals.dataChanged||(Oe=c.config.chart.animations.speed),c.globals.dataChanged&&(Oe=c.config.chart.animations.dynamicAnimation.speed),this.animDur=Oe/(1.2*o.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(_e,{centerX:o.centerX,centerY:o.centerY,endAngle:X,startAngle:A,prevEndAngle:te,prevStartAngle:I,size:o.size,i:j,totalItems:2,animBeginArr:this.animBeginArr,dur:Oe,shouldSetPrevPaths:!0,easing:c.globals.easing})}return{g,elHollow:k,dataLabels:B}}},{key:"drawHollow",value:function(o){var c=new H(this.ctx).drawCircle(2*o.size);return c.attr({class:"apexcharts-radialbar-hollow",cx:o.centerX,cy:o.centerY,r:o.size,fill:o.fill}),c}},{key:"drawHollowImage",value:function(o,c,h,f){var u=this.w,g=new ne(this.ctx),x=S.randomId(),b=u.config.plotOptions.radialBar.hollow.image;if(u.config.plotOptions.radialBar.hollow.imageClipped)g.clippedImgArea({width:h,height:h,image:b,patternID:"pattern".concat(u.globals.cuid).concat(x)}),f="url(#pattern".concat(u.globals.cuid).concat(x,")");else{var w=u.config.plotOptions.radialBar.hollow.imageWidth,_=u.config.plotOptions.radialBar.hollow.imageHeight;if(w===void 0&&_===void 0){var k=u.globals.dom.Paper.image(b).loaded(function(R){this.move(o.centerX-R.width/2+u.config.plotOptions.radialBar.hollow.imageOffsetX,o.centerY-R.height/2+u.config.plotOptions.radialBar.hollow.imageOffsetY)});c.add(k)}else{var P=u.globals.dom.Paper.image(b).loaded(function(R){this.move(o.centerX-w/2+u.config.plotOptions.radialBar.hollow.imageOffsetX,o.centerY-_/2+u.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(w,_)});c.add(P)}}return f}},{key:"getStrokeWidth",value:function(o){var c=this.w;return o.size*(100-parseInt(c.config.plotOptions.radialBar.hollow.size,10))/100/(o.series.length+1)-this.margin}}]),r}(),fh=function(F){y(r,bt);var i=L(r);function r(){return l(this,r),i.apply(this,arguments)}return p(r,[{key:"draw",value:function(o,c){var h=this.w,f=new H(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=o,this.seriesRangeStart=h.globals.seriesRangeStart,this.seriesRangeEnd=h.globals.seriesRangeEnd,this.barHelpers.initVariables(o);for(var u=f.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),g=0;g<o.length;g++){var x,b,w,_=void 0,k=void 0,P=void 0,R=h.globals.comboCharts?c[g]:g,B=f.group({class:"apexcharts-series",seriesName:S.escapeString(h.globals.seriesNames[R]),rel:g+1,"data:realIndex":R});this.ctx.series.addCollapsedClassToSeries(B,R),o[g].length>0&&(this.visibleI=this.visibleI+1);var V=0,j=0;this.yRatio.length>1&&(this.yaxisIndex=R);var U=this.barHelpers.initialPositions();k=U.y,w=U.zeroW,_=U.x,j=U.barWidth,x=U.xDivision,b=U.zeroH;for(var m=f.group({class:"apexcharts-datalabels","data:realIndex":R}),A=f.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),I=0;I<h.globals.dataPoints;I++){var O=this.barHelpers.getStrokeWidth(g,I,R),X=this.seriesRangeStart[g][I],te=this.seriesRangeEnd[g][I],ee=null,Se=null,_e={x:_,y:k,strokeWidth:O,elSeries:B};if(P=U.yDivision,V=U.barHeight,this.isHorizontal){Se=k+V*this.visibleI;var Le=this.seriesLen;h.config.plotOptions.bar.rangeBarGroupRows&&(Le=1);var Oe=(P-V*Le)/2;if(h.config.series[g].data[I]===void 0)break;if(h.config.series[g].data[I].x){var St=this.detectOverlappingBars({i:g,j:I,barYPosition:Se,srty:Oe,barHeight:V,yDivision:P,initPositions:U});V=St.barHeight,Se=St.barYPosition}j=(ee=this.drawRangeBarPaths(s({indexes:{i:g,j:I,realIndex:R},barHeight:V,barYPosition:Se,zeroW:w,yDivision:P,y1:X,y2:te},_e))).barWidth}else V=(ee=this.drawRangeColumnPaths(s({indexes:{i:g,j:I,realIndex:R},zeroH:b,barWidth:j,xDivision:x},_e))).barHeight;var wt=this.barHelpers.drawGoalLine({barXPosition:ee.barXPosition,barYPosition:Se,goalX:ee.goalX,goalY:ee.goalY,barHeight:V,barWidth:j});wt&&A.add(wt),k=ee.y,_=ee.x;var Dt=this.barHelpers.getPathFillColor(o,g,I,R),Yt=h.globals.stroke.colors[R];this.renderSeries({realIndex:R,pathFill:Dt,lineFill:Yt,j:I,i:g,x:_,y:k,y1:X,y2:te,pathFrom:ee.pathFrom,pathTo:ee.pathTo,strokeWidth:O,elSeries:B,series:o,barHeight:V,barYPosition:Se,barWidth:j,elDataLabelsWrap:m,elGoalsMarkers:A,visibleSeries:this.visibleI,type:"rangebar"})}u.add(B)}return u}},{key:"detectOverlappingBars",value:function(o){var c=o.i,h=o.j,f=o.barYPosition,u=o.srty,g=o.barHeight,x=o.yDivision,b=o.initPositions,w=this.w,_=[],k=w.config.series[c].data[h].rangeName,P=w.config.series[c].data[h].x,R=w.globals.labels.indexOf(P),B=w.globals.seriesRange[c].findIndex(function(V){return V.x===P&&V.overlaps.length>0});return f=w.config.plotOptions.bar.rangeBarGroupRows?u+x*R:u+g*this.visibleI+x*R,B>-1&&!w.config.plotOptions.bar.rangeBarOverlap&&(_=w.globals.seriesRange[c][B].overlaps).indexOf(k)>-1&&(f=(g=b.barHeight/_.length)*this.visibleI+x*(100-parseInt(this.barOptions.barHeight,10))/100/2+g*(this.visibleI+_.indexOf(k))+x*R),{barYPosition:f,barHeight:g}}},{key:"drawRangeColumnPaths",value:function(o){var c=o.indexes,h=o.x;o.strokeWidth;var f=o.xDivision,u=o.barWidth,g=o.zeroH,x=this.w,b=c.i,w=c.j,_=this.yRatio[this.yaxisIndex],k=c.realIndex,P=this.getRangeValue(k,w),R=Math.min(P.start,P.end),B=Math.max(P.start,P.end);x.globals.isXNumeric&&(h=(x.globals.seriesX[b][w]-x.globals.minX)/this.xRatio-u/2);var V=h+u*this.visibleI;this.series[b][w]===void 0||this.series[b][w]===null?R=g:(R=g-R/_,B=g-B/_);var j=Math.abs(B-R),U=this.barHelpers.getColumnPaths({barXPosition:V,barWidth:u,y1:R,y2:B,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:c.realIndex,i:k,j:w,w:x});return x.globals.isXNumeric||(h+=f),{pathTo:U.pathTo,pathFrom:U.pathFrom,barHeight:j,x:h,y:B,goalY:this.barHelpers.getGoalValues("y",null,g,b,w),barXPosition:V}}},{key:"drawRangeBarPaths",value:function(o){var c=o.indexes,h=o.y,f=o.y1,u=o.y2,g=o.yDivision,x=o.barHeight,b=o.barYPosition,w=o.zeroW,_=this.w,k=w+f/this.invertedYRatio,P=w+u/this.invertedYRatio,R=Math.abs(P-k),B=this.barHelpers.getBarpaths({barYPosition:b,barHeight:x,x1:k,x2:P,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:c.realIndex,realIndex:c.realIndex,j:c.j,w:_});return _.globals.isXNumeric||(h+=g),{pathTo:B.pathTo,pathFrom:B.pathFrom,barWidth:R,x:P,goalX:this.barHelpers.getGoalValues("x",w,null,c.realIndex,c.j),y:h}}},{key:"getRangeValue",value:function(o,c){var h=this.w;return{start:h.globals.seriesRangeStart[o][c],end:h.globals.seriesRangeEnd[o][c]}}}]),r}(),ph=function(){function F(i){l(this,F),this.w=i.w,this.lineCtx=i}return p(F,[{key:"sameValueSeriesFix",value:function(i,r){var o=this.w;if((o.config.fill.type==="gradient"||o.config.fill.type[i]==="gradient")&&new $(this.lineCtx.ctx,o).seriesHaveSameValues(i)){var c=r[i].slice();c[c.length-1]=c[c.length-1]+1e-6,r[i]=c}return r}},{key:"calculatePoints",value:function(i){var r=i.series,o=i.realIndex,c=i.x,h=i.y,f=i.i,u=i.j,g=i.prevY,x=this.w,b=[],w=[];if(u===0){var _=this.lineCtx.categoryAxisCorrection+x.config.markers.offsetX;x.globals.isXNumeric&&(_=(x.globals.seriesX[o][0]-x.globals.minX)/this.lineCtx.xRatio+x.config.markers.offsetX),b.push(_),w.push(S.isNumber(r[f][0])?g+x.config.markers.offsetY:null),b.push(c+x.config.markers.offsetX),w.push(S.isNumber(r[f][u+1])?h+x.config.markers.offsetY:null)}else b.push(c+x.config.markers.offsetX),w.push(S.isNumber(r[f][u+1])?h+x.config.markers.offsetY:null);return{x:b,y:w}}},{key:"checkPreviousPaths",value:function(i){for(var r=i.pathFromLine,o=i.pathFromArea,c=i.realIndex,h=this.w,f=0;f<h.globals.previousPaths.length;f++){var u=h.globals.previousPaths[f];(u.type==="line"||u.type==="area")&&u.paths.length>0&&parseInt(u.realIndex,10)===parseInt(c,10)&&(u.type==="line"?(this.lineCtx.appendPathFrom=!1,r=h.globals.previousPaths[f].paths[0].d):u.type==="area"&&(this.lineCtx.appendPathFrom=!1,o=h.globals.previousPaths[f].paths[0].d,h.config.stroke.show&&h.globals.previousPaths[f].paths[1]&&(r=h.globals.previousPaths[f].paths[1].d)))}return{pathFromLine:r,pathFromArea:o}}},{key:"determineFirstPrevY",value:function(i){var r,o=i.i,c=i.series,h=i.prevY,f=i.lineYPosition,u=this.w;if(((r=c[o])===null||r===void 0?void 0:r[0])!==void 0)h=(f=u.config.chart.stacked&&o>0?this.lineCtx.prevSeriesY[o-1][0]:this.lineCtx.zeroY)-c[o][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?c[o][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(u.config.chart.stacked&&o>0&&c[o][0]===void 0){for(var g=o-1;g>=0;g--)if(c[g][0]!==null&&c[g][0]!==void 0){h=f=this.lineCtx.prevSeriesY[g][0];break}}return{prevY:h,lineYPosition:f}}}]),F}(),ga=function(){function F(i,r,o){l(this,F),this.ctx=i,this.w=i.w,this.xyRatios=r,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||o,this.scatter=new Ee(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new ph(this),this.markers=new xe(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return p(F,[{key:"draw",value:function(i,r,o,c){var h=this.w,f=new H(this.ctx),u=h.globals.comboCharts?r:h.config.chart.type,g=f.group({class:"apexcharts-".concat(u,"-series apexcharts-plot-series")}),x=new $(this.ctx,h);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,i=x.getLogSeries(i),this.yRatio=x.getLogYRatios(this.yRatio);for(var b=[],w=0;w<i.length;w++){i=this.lineHelpers.sameValueSeriesFix(w,i);var _=h.globals.comboCharts?o[w]:w;this._initSerieVariables(i,w,_);var k=[],P=[],R=h.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,_),h.globals.isXNumeric&&h.globals.seriesX.length>0&&(R=(h.globals.seriesX[_][0]-h.globals.minX)/this.xRatio),P.push(R);var B,V=R,j=void 0,U=V,m=this.zeroY,A=this.zeroY;m=this.lineHelpers.determineFirstPrevY({i:w,series:i,prevY:m,lineYPosition:0}).prevY,k.push(m),B=m,u==="rangeArea"&&(j=A=this.lineHelpers.determineFirstPrevY({i:w,series:c,prevY:A,lineYPosition:0}).prevY);var I={type:u,series:i,realIndex:_,i:w,x:R,y:1,pX:V,pY:B,pathsFrom:this._calculatePathsFrom({type:u,series:i,i:w,realIndex:_,prevX:U,prevY:m,prevY2:A}),linePaths:[],areaPaths:[],seriesIndex:o,lineYPosition:0,xArrj:P,yArrj:k,seriesRangeEnd:c},O=this._iterateOverDataPoints(s(s({},I),{},{iterations:u==="rangeArea"?i[w].length-1:void 0,isRangeStart:!0}));if(u==="rangeArea"){var X=this._calculatePathsFrom({series:c,i:w,realIndex:_,prevX:U,prevY:A}),te=this._iterateOverDataPoints(s(s({},I),{},{series:c,pY:j,pathsFrom:X,iterations:c[w].length-1,isRangeStart:!1}));O.linePaths[0]=te.linePath+O.linePath,O.pathFromLine=te.pathFromLine+O.pathFromLine}this._handlePaths({type:u,realIndex:_,i:w,paths:O}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),b.push(this.elSeries)}if(h.config.chart.stacked)for(var ee=b.length;ee>0;ee--)g.add(b[ee-1]);else for(var Se=0;Se<b.length;Se++)g.add(b[Se]);return g}},{key:"_initSerieVariables",value:function(i,r,o){var c=this.w,h=new H(this.ctx);this.xDivision=c.globals.gridWidth/(c.globals.dataPoints-(c.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(c.config.stroke.width)?c.config.stroke.width[o]:c.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=o),this.isReversed=c.config.yaxis[this.yaxisIndex]&&c.config.yaxis[this.yaxisIndex].reversed,this.zeroY=c.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?c.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>c.globals.gridHeight||c.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=c.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=h.group({class:"apexcharts-series",seriesName:S.escapeString(c.globals.seriesNames[o])}),this.elPointsMain=h.group({class:"apexcharts-series-markers-wrap","data:realIndex":o}),this.elDataLabelsWrap=h.group({class:"apexcharts-datalabels","data:realIndex":o});var f=i[r].length===c.globals.dataPoints;this.elSeries.attr({"data:longestSeries":f,rel:r+1,"data:realIndex":o}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(i){var r,o,c,h,f=i.type,u=i.series,g=i.i,x=i.realIndex,b=i.prevX,w=i.prevY,_=i.prevY2,k=this.w,P=new H(this.ctx);if(u[g][0]===null){for(var R=0;R<u[g].length;R++)if(u[g][R]!==null){b=this.xDivision*R,w=this.zeroY-u[g][R]/this.yRatio[this.yaxisIndex],r=P.move(b,w),o=P.move(b,this.areaBottomY);break}}else r=P.move(b,w),f==="rangeArea"&&(r=P.move(b,_)+P.line(b,w)),o=P.move(b,this.areaBottomY)+P.line(b,w);if(c=P.move(-1,this.zeroY)+P.line(-1,this.zeroY),h=P.move(-1,this.zeroY)+P.line(-1,this.zeroY),k.globals.previousPaths.length>0){var B=this.lineHelpers.checkPreviousPaths({pathFromLine:c,pathFromArea:h,realIndex:x});c=B.pathFromLine,h=B.pathFromArea}return{prevX:b,prevY:w,linePath:r,areaPath:o,pathFromLine:c,pathFromArea:h}}},{key:"_handlePaths",value:function(i){var r=i.type,o=i.realIndex,c=i.i,h=i.paths,f=this.w,u=new H(this.ctx),g=new ne(this.ctx);this.prevSeriesY.push(h.yArrj),f.globals.seriesXvalues[o]=h.xArrj,f.globals.seriesYvalues[o]=h.yArrj;var x=f.config.forecastDataPoints;if(x.count>0&&r!=="rangeArea"){var b=f.globals.seriesXvalues[o][f.globals.seriesXvalues[o].length-x.count-1],w=u.drawRect(b,0,f.globals.gridWidth,f.globals.gridHeight,0);f.globals.dom.elForecastMask.appendChild(w.node);var _=u.drawRect(0,0,b,f.globals.gridHeight,0);f.globals.dom.elNonForecastMask.appendChild(_.node)}this.pointsChart||f.globals.delayedElements.push({el:this.elPointsMain.node,index:o});var k={i:c,realIndex:o,animationDelay:c,initialSpeed:f.config.chart.animations.speed,dataChangeSpeed:f.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(r)};if(r==="area")for(var P=g.fillPath({seriesNumber:o}),R=0;R<h.areaPaths.length;R++){var B=u.renderPaths(s(s({},k),{},{pathFrom:h.pathFromArea,pathTo:h.areaPaths[R],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:P}));this.elSeries.add(B)}if(f.config.stroke.show&&!this.pointsChart){var V=null;if(r==="line")V=g.fillPath({seriesNumber:o,i:c});else if(f.config.stroke.fill.type==="solid")V=f.globals.stroke.colors[o];else{var j=f.config.fill;f.config.fill=f.config.stroke.fill,V=g.fillPath({seriesNumber:o,i:c}),f.config.fill=j}for(var U=0;U<h.linePaths.length;U++){var m=V;r==="rangeArea"&&(m=g.fillPath({seriesNumber:o}));var A=s(s({},k),{},{pathFrom:h.pathFromLine,pathTo:h.linePaths[U],stroke:V,strokeWidth:this.strokeWidth,strokeLineCap:f.config.stroke.lineCap,fill:r==="rangeArea"?m:"none"}),I=u.renderPaths(A);if(this.elSeries.add(I),I.attr("fill-rule","evenodd"),x.count>0&&r!=="rangeArea"){var O=u.renderPaths(A);O.node.setAttribute("stroke-dasharray",x.dashArray),x.strokeWidth&&O.node.setAttribute("stroke-width",x.strokeWidth),this.elSeries.add(O),O.attr("clip-path","url(#forecastMask".concat(f.globals.cuid,")")),I.attr("clip-path","url(#nonForecastMask".concat(f.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(i){var r=i.type,o=i.series,c=i.iterations,h=i.realIndex,f=i.i,u=i.x,g=i.y,x=i.pX,b=i.pY,w=i.pathsFrom,_=i.linePaths,k=i.areaPaths,P=i.seriesIndex,R=i.lineYPosition,B=i.xArrj,V=i.yArrj,j=i.isRangeStart,U=i.seriesRangeEnd,m=this.w,A=new H(this.ctx),I=this.yRatio,O=w.prevY,X=w.linePath,te=w.areaPath,ee=w.pathFromLine,Se=w.pathFromArea,_e=S.isNumber(m.globals.minYArr[h])?m.globals.minYArr[h]:m.globals.minY;c||(c=m.globals.dataPoints>1?m.globals.dataPoints-1:m.globals.dataPoints);for(var Le=g,Oe=0;Oe<c;Oe++){var St=o[f][Oe+1]===void 0||o[f][Oe+1]===null;if(m.globals.isXNumeric){var wt=m.globals.seriesX[h][Oe+1];m.globals.seriesX[h][Oe+1]===void 0&&(wt=m.globals.seriesX[h][c-1]),u=(wt-m.globals.minX)/this.xRatio}else u+=this.xDivision;m.config.chart.stacked?f>0&&m.globals.collapsedSeries.length<m.config.series.length-1?R=this.prevSeriesY[function(dn){for(var fn=dn,li=0;li<m.globals.series.length;li++)if(m.globals.collapsedSeriesIndices.indexOf(dn)>-1){fn--;break}return fn>=0?fn:0}(f-1)][Oe+1]:R=this.zeroY:R=this.zeroY,St?g=R-_e/I[this.yaxisIndex]+2*(this.isReversed?_e/I[this.yaxisIndex]:0):(g=R-o[f][Oe+1]/I[this.yaxisIndex]+2*(this.isReversed?o[f][Oe+1]/I[this.yaxisIndex]:0),r==="rangeArea"&&(Le=R-U[f][Oe+1]/I[this.yaxisIndex]+2*(this.isReversed?U[f][Oe+1]/I[this.yaxisIndex]:0))),B.push(u),V.push(g);var Dt=this.lineHelpers.calculatePoints({series:o,x:u,y:g,realIndex:h,i:f,j:Oe,prevY:O}),Yt=this._createPaths({type:r,series:o,i:f,realIndex:h,j:Oe,x:u,y:g,y2:Le,pX:x,pY:b,linePath:X,areaPath:te,linePaths:_,areaPaths:k,seriesIndex:P,isRangeStart:j});k=Yt.areaPaths,_=Yt.linePaths,x=Yt.pX,b=Yt.pY,te=Yt.areaPath,X=Yt.linePath,this.appendPathFrom&&(ee+=A.line(u,this.zeroY),Se+=A.line(u,this.zeroY)),this.handleNullDataPoints(o,Dt,f,Oe,h),this._handleMarkersAndLabels({type:r,pointsPos:Dt,i:f,j:Oe,realIndex:h,isRangeStart:j})}return{yArrj:V,xArrj:B,pathFromArea:Se,areaPaths:k,pathFromLine:ee,linePaths:_,linePath:X,areaPath:te}}},{key:"_handleMarkersAndLabels",value:function(i){var r=i.type,o=i.pointsPos,c=i.isRangeStart,h=i.i,f=i.j,u=i.realIndex,g=this.w,x=new Ie(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,f,{realIndex:u,pointsPos:o,zRatio:this.zRatio,elParent:this.elPointsMain});else{g.globals.series[h].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var b=this.markers.plotChartMarkers(o,u,f+1);b!==null&&this.elPointsMain.add(b)}var w=x.drawDataLabel({type:r,isRangeStart:c,pos:o,i:u,j:f+1});w!==null&&this.elDataLabelsWrap.add(w)}},{key:"_createPaths",value:function(i){var r=i.type,o=i.series,c=i.i,h=i.realIndex,f=i.j,u=i.x,g=i.y,x=i.y2,b=i.pX,w=i.pY,_=i.linePath,k=i.areaPath,P=i.linePaths,R=i.areaPaths,B=i.seriesIndex,V=i.isRangeStart,j=this.w,U=new H(this.ctx),m=j.config.stroke.curve,A=this.areaBottomY;if(Array.isArray(j.config.stroke.curve)&&(m=Array.isArray(B)?j.config.stroke.curve[B[c]]:j.config.stroke.curve[c]),m==="smooth"){var I=.35*(u-b);j.globals.hasNullValues?(o[c][f]!==null&&(o[c][f+1]!==null?(_=U.move(b,w)+U.curve(b+I,w,u-I,g,u+1,g),k=U.move(b+1,w)+U.curve(b+I,w,u-I,g,u+1,g)+U.line(u,A)+U.line(b,A)+"z"):(_=U.move(b,w),k=U.move(b,w)+"z")),P.push(_),R.push(k)):(_+=U.curve(b+I,w,u-I,g,u,g),k+=U.curve(b+I,w,u-I,g,u,g)),b=u,w=g,f===o[c].length-2&&(k=k+U.curve(b,w,u,g,u,A)+U.move(u,g)+"z",r==="rangeArea"&&V?_=_+U.curve(b,w,u,g,u,x)+U.move(u,x)+"z":j.globals.hasNullValues||(P.push(_),R.push(k)))}else{if(o[c][f+1]===null){_+=U.move(u,g);var O=j.globals.isXNumeric?(j.globals.seriesX[h][f]-j.globals.minX)/this.xRatio:u-this.xDivision;k=k+U.line(O,A)+U.move(u,g)+"z"}o[c][f]===null&&(_+=U.move(u,g),k+=U.move(u,A)),m==="stepline"?(_=_+U.line(u,null,"H")+U.line(null,g,"V"),k=k+U.line(u,null,"H")+U.line(null,g,"V")):m==="straight"&&(_+=U.line(u,g),k+=U.line(u,g)),f===o[c].length-2&&(k=k+U.line(u,A)+U.move(u,g)+"z",r==="rangeArea"&&V?_=_+U.line(u,x)+U.move(u,x)+"z":(P.push(_),R.push(k)))}return{linePaths:P,areaPaths:R,pX:b,pY:w,linePath:_,areaPath:k}}},{key:"handleNullDataPoints",value:function(i,r,o,c,h){var f=this.w;if(i[o][c]===null&&f.config.markers.showNullDataPoints||i[o].length===1){var u=this.markers.plotChartMarkers(r,h,c+1,this.strokeWidth-f.config.markers.strokeWidth/2,!0);u!==null&&this.elPointsMain.add(u)}}}]),F}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function F(u,g,x,b){this.xoffset=u,this.yoffset=g,this.height=b,this.width=x,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(w){var _,k=[],P=this.xoffset,R=this.yoffset,B=h(w)/this.height,V=h(w)/this.width;if(this.width>=this.height)for(_=0;_<w.length;_++)k.push([P,R,P+B,R+w[_]/B]),R+=w[_]/B;else for(_=0;_<w.length;_++)k.push([P,R,P+w[_]/V,R+V]),P+=w[_]/V;return k},this.cutArea=function(w){var _;if(this.width>=this.height){var k=w/this.height,P=this.width-k;_=new F(this.xoffset+k,this.yoffset,P,this.height)}else{var R=w/this.width,B=this.height-R;_=new F(this.xoffset,this.yoffset+R,this.width,B)}return _}}function i(u,g,x,b,w){b=b===void 0?0:b,w=w===void 0?0:w;var _=r(function(k,P){var R,B=[],V=P/h(k);for(R=0;R<k.length;R++)B[R]=k[R]*V;return B}(u,g*x),[],new F(b,w,g,x),[]);return function(k){var P,R,B=[];for(P=0;P<k.length;P++)for(R=0;R<k[P].length;R++)B.push(k[P][R]);return B}(_)}function r(u,g,x,b){var w,_,k;if(u.length!==0)return w=x.shortestEdge(),function(P,R,B){var V;if(P.length===0)return!0;(V=P.slice()).push(R);var j=o(P,B),U=o(V,B);return j>=U}(g,_=u[0],w)?(g.push(_),r(u.slice(1),g,x,b)):(k=x.cutArea(h(g),b),b.push(x.getCoordinates(g)),r(u,[],k,b)),b;b.push(x.getCoordinates(g))}function o(u,g){var x=Math.min.apply(Math,u),b=Math.max.apply(Math,u),w=h(u);return Math.max(Math.pow(g,2)*b/Math.pow(w,2),Math.pow(w,2)/(Math.pow(g,2)*x))}function c(u){return u&&u.constructor===Array}function h(u){var g,x=0;for(g=0;g<u.length;g++)x+=u[g];return x}function f(u){var g,x=0;if(c(u[0]))for(g=0;g<u.length;g++)x+=f(u[g]);else x=h(u);return x}return function u(g,x,b,w,_){w=w===void 0?0:w,_=_===void 0?0:_;var k,P,R=[],B=[];if(c(g[0])){for(P=0;P<g.length;P++)R[P]=f(g[P]);for(k=i(R,x,b,w,_),P=0;P<g.length;P++)B.push(u(g[P],k[P][2]-k[P][0],k[P][3]-k[P][1],k[P][0],k[P][1]))}else B=i(g,x,b,w,_);return B}}();var Z,oe,fe=function(){function F(i,r){l(this,F),this.ctx=i,this.w=i.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Nn(i),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return p(F,[{key:"draw",value:function(i){var r=this,o=this.w,c=new H(this.ctx),h=new ne(this.ctx),f=c.group({class:"apexcharts-treemap"});if(o.globals.noData)return f;var u=[];return i.forEach(function(g){var x=g.map(function(b){return Math.abs(b)});u.push(x)}),this.negRange=this.helpers.checkColorRange(),o.config.series.forEach(function(g,x){g.data.forEach(function(b){Array.isArray(r.labels[x])||(r.labels[x]=[]),r.labels[x].push(b.x)})}),window.TreemapSquared.generate(u,o.globals.gridWidth,o.globals.gridHeight).forEach(function(g,x){var b=c.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:S.escapeString(o.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});if(o.config.chart.dropShadow.enabled){var w=o.config.chart.dropShadow;new W(r.ctx).dropShadow(f,w,x)}var _=c.group({class:"apexcharts-data-labels"});g.forEach(function(k,P){var R=k[0],B=k[1],V=k[2],j=k[3],U=c.drawRect(R,B,V-R,j-B,0,"#fff",1,r.strokeWidth,o.config.plotOptions.treemap.useFillColorAsStroke?A:o.globals.stroke.colors[x]);U.attr({cx:R,cy:B,index:x,i:x,j:P,width:V-R,height:j-B});var m=r.helpers.getShadeColor(o.config.chart.type,x,P,r.negRange),A=m.color;o.config.series[x].data[P]!==void 0&&o.config.series[x].data[P].fillColor&&(A=o.config.series[x].data[P].fillColor);var I=h.fillPath({color:A,seriesNumber:x,dataPointIndex:P});U.node.classList.add("apexcharts-treemap-rect"),U.attr({fill:I}),r.helpers.addListeners(U);var O={x:R+(V-R)/2,y:B+(j-B)/2,width:0,height:0},X={x:R,y:B,width:V-R,height:j-B};if(o.config.chart.animations.enabled&&!o.globals.dataChanged){var te=1;o.globals.resized||(te=o.config.chart.animations.speed),r.animateTreemap(U,O,X,te)}if(o.globals.dataChanged){var ee=1;r.dynamicAnim.enabled&&o.globals.shouldAnimate&&(ee=r.dynamicAnim.speed,o.globals.previousPaths[x]&&o.globals.previousPaths[x][P]&&o.globals.previousPaths[x][P].rect&&(O=o.globals.previousPaths[x][P].rect),r.animateTreemap(U,O,X,ee))}var Se=r.getFontSize(k),_e=o.config.dataLabels.formatter(r.labels[x][P],{value:o.globals.series[x][P],seriesIndex:x,dataPointIndex:P,w:o}),Le=r.helpers.calculateDataLabels({text:_e,x:(R+V)/2,y:(B+j)/2+r.strokeWidth/2+Se/3,i:x,j:P,colorProps:m,fontSize:Se,series:i});o.config.dataLabels.enabled&&Le&&r.rotateToFitLabel(Le,Se,_e,R,B,V,j),b.add(U),Le!==null&&b.add(Le)}),b.add(_),f.add(b)}),f}},{key:"getFontSize",value:function(i){var r=this.w,o,c,h,f,u=function g(x){var b,w=0;if(Array.isArray(x[0]))for(b=0;b<x.length;b++)w+=g(x[b]);else for(b=0;b<x.length;b++)w+=x[b].length;return w}(this.labels)/function g(x){var b,w=0;if(Array.isArray(x[0]))for(b=0;b<x.length;b++)w+=g(x[b]);else for(b=0;b<x.length;b++)w+=1;return w}(this.labels);return o=i[2]-i[0],c=i[3]-i[1],h=o*c,f=Math.pow(h,.5),Math.min(f/u,parseInt(r.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(i,r,o,c,h,f,u){var g=new H(this.ctx),x=g.getTextRects(o,r);if(x.width+this.w.config.stroke.width+5>f-c&&x.width<=u-h){var b=g.rotateAroundCenter(i.node);i.node.setAttribute("transform","rotate(-90 ".concat(b.x," ").concat(b.y,")"))}}},{key:"animateTreemap",value:function(i,r,o,c){var h=new G(this.ctx);h.animateRect(i,{x:r.x,y:r.y,width:r.width,height:r.height},{x:o.x,y:o.y,width:o.width,height:o.height},c,function(){h.animationCompleted(i)})}}]),F}(),de=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return p(F,[{key:"calculateTimeScaleTicks",value:function(i,r){var o=this,c=this.w;if(c.globals.allSeriesCollapsed)return c.globals.labels=[],c.globals.timescaleLabels=[],[];var h=new ae(this.ctx),f=(r-i)/864e5;this.determineInterval(f),c.globals.disableZoomIn=!1,c.globals.disableZoomOut=!1,f<.00011574074074074075?c.globals.disableZoomIn=!0:f>5e4&&(c.globals.disableZoomOut=!0);var u=h.getTimeUnitsfromTimestamp(i,r,this.utc),g=c.globals.gridWidth/f,x=g/24,b=x/60,w=b/60,_=Math.floor(24*f),k=Math.floor(1440*f),P=Math.floor(86400*f),R=Math.floor(f),B=Math.floor(f/30),V=Math.floor(f/365),j={minMillisecond:u.minMillisecond,minSecond:u.minSecond,minMinute:u.minMinute,minHour:u.minHour,minDate:u.minDate,minMonth:u.minMonth,minYear:u.minYear},U={firstVal:j,currentMillisecond:j.minMillisecond,currentSecond:j.minSecond,currentMinute:j.minMinute,currentHour:j.minHour,currentMonthDate:j.minDate,currentDate:j.minDate,currentMonth:j.minMonth,currentYear:j.minYear,daysWidthOnXAxis:g,hoursWidthOnXAxis:x,minutesWidthOnXAxis:b,secondsWidthOnXAxis:w,numberOfSeconds:P,numberOfMinutes:k,numberOfHours:_,numberOfDays:R,numberOfMonths:B,numberOfYears:V};switch(this.tickInterval){case"years":this.generateYearScale(U);break;case"months":case"half_year":this.generateMonthScale(U);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(U);break;case"hours":this.generateHourScale(U);break;case"minutes_fives":case"minutes":this.generateMinuteScale(U);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(U)}var m=this.timeScaleArray.map(function(A){var I={position:A.position,unit:A.unit,year:A.year,day:A.day?A.day:1,hour:A.hour?A.hour:0,month:A.month+1};return A.unit==="month"?s(s({},I),{},{day:1,value:A.value+1}):A.unit==="day"||A.unit==="hour"?s(s({},I),{},{value:A.value}):A.unit==="minute"?s(s({},I),{},{value:A.value,minute:A.value}):A.unit==="second"?s(s({},I),{},{value:A.value,minute:A.minute,second:A.second}):A});return m.filter(function(A){var I=1,O=Math.ceil(c.globals.gridWidth/120),X=A.value;c.config.xaxis.tickAmount!==void 0&&(O=c.config.xaxis.tickAmount),m.length>O&&(I=Math.floor(m.length/O));var te=!1,ee=!1;switch(o.tickInterval){case"years":A.unit==="year"&&(te=!0);break;case"half_year":I=7,A.unit==="year"&&(te=!0);break;case"months":I=1,A.unit==="year"&&(te=!0);break;case"months_fortnight":I=15,A.unit!=="year"&&A.unit!=="month"||(te=!0),X===30&&(ee=!0);break;case"months_days":I=10,A.unit==="month"&&(te=!0),X===30&&(ee=!0);break;case"week_days":I=8,A.unit==="month"&&(te=!0);break;case"days":I=1,A.unit==="month"&&(te=!0);break;case"hours":A.unit==="day"&&(te=!0);break;case"minutes_fives":case"seconds_fives":X%5!=0&&(ee=!0);break;case"seconds_tens":X%10!=0&&(ee=!0)}if(o.tickInterval==="hours"||o.tickInterval==="minutes_fives"||o.tickInterval==="seconds_tens"||o.tickInterval==="seconds_fives"){if(!ee)return!0}else if((X%I==0||te)&&!ee)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(i,r){var o=this.w,c=this.formatDates(i),h=this.removeOverlappingTS(c);o.globals.timescaleLabels=h.slice(),new je(this.ctx).plotCoords()}},{key:"determineInterval",value:function(i){var r=24*i,o=60*r;switch(!0){case i/365>5:this.tickInterval="years";break;case i>800:this.tickInterval="half_year";break;case i>180:this.tickInterval="months";break;case i>90:this.tickInterval="months_fortnight";break;case i>60:this.tickInterval="months_days";break;case i>30:this.tickInterval="week_days";break;case i>2:this.tickInterval="days";break;case r>2.4:this.tickInterval="hours";break;case o>15:this.tickInterval="minutes_fives";break;case o>5:this.tickInterval="minutes";break;case o>1:this.tickInterval="seconds_tens";break;case 60*o>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(i){var r=i.firstVal,o=i.currentMonth,c=i.currentYear,h=i.daysWidthOnXAxis,f=i.numberOfYears,u=r.minYear,g=0,x=new ae(this.ctx),b="year";if(r.minDate>1||r.minMonth>0){var w=x.determineRemainingDaysOfYear(r.minYear,r.minMonth,r.minDate);g=(x.determineDaysOfYear(r.minYear)-w+1)*h,u=r.minYear+1,this.timeScaleArray.push({position:g,value:u,unit:b,year:u,month:S.monthMod(o+1)})}else r.minDate===1&&r.minMonth===0&&this.timeScaleArray.push({position:g,value:u,unit:b,year:c,month:S.monthMod(o+1)});for(var _=u,k=g,P=0;P<f;P++)_++,k=x.determineDaysOfYear(_-1)*h+k,this.timeScaleArray.push({position:k,value:_,unit:b,year:_,month:1})}},{key:"generateMonthScale",value:function(i){var r=i.firstVal,o=i.currentMonthDate,c=i.currentMonth,h=i.currentYear,f=i.daysWidthOnXAxis,u=i.numberOfMonths,g=c,x=0,b=new ae(this.ctx),w="month",_=0;if(r.minDate>1){x=(b.determineDaysOfMonths(c+1,r.minYear)-o+1)*f,g=S.monthMod(c+1);var k=h+_,P=S.monthMod(g),R=g;g===0&&(w="year",R=k,P=1,k+=_+=1),this.timeScaleArray.push({position:x,value:R,unit:w,year:k,month:P})}else this.timeScaleArray.push({position:x,value:g,unit:w,year:h,month:S.monthMod(c)});for(var B=g+1,V=x,j=0,U=1;j<u;j++,U++){(B=S.monthMod(B))===0?(w="year",_+=1):w="month";var m=this._getYear(h,B,_);V=b.determineDaysOfMonths(B,m)*f+V;var A=B===0?m:B;this.timeScaleArray.push({position:V,value:A,unit:w,year:m,month:B===0?1:B}),B++}}},{key:"generateDayScale",value:function(i){var r=i.firstVal,o=i.currentMonth,c=i.currentYear,h=i.hoursWidthOnXAxis,f=i.numberOfDays,u=new ae(this.ctx),g="day",x=r.minDate+1,b=x,w=function(U,m,A){return U>u.determineDaysOfMonths(m+1,A)&&(b=1,g="month",k=m+=1),m},_=(24-r.minHour)*h,k=x,P=w(b,o,c);r.minHour===0&&r.minDate===1?(_=0,k=S.monthMod(r.minMonth),g="month",b=r.minDate,f++):r.minDate!==1&&r.minHour===0&&r.minMinute===0&&(_=0,x=r.minDate,k=x,P=w(b=x,o,c)),this.timeScaleArray.push({position:_,value:k,unit:g,year:this._getYear(c,P,0),month:S.monthMod(P),day:b});for(var R=_,B=0;B<f;B++){g="day",P=w(b+=1,P,this._getYear(c,P,0));var V=this._getYear(c,P,0);R=24*h+R;var j=b===1?S.monthMod(P):b;this.timeScaleArray.push({position:R,value:j,unit:g,year:V,month:S.monthMod(P),day:j})}}},{key:"generateHourScale",value:function(i){var r=i.firstVal,o=i.currentDate,c=i.currentMonth,h=i.currentYear,f=i.minutesWidthOnXAxis,u=i.numberOfHours,g=new ae(this.ctx),x="hour",b=function(I,O){return I>g.determineDaysOfMonths(O+1,h)&&(B=1,O+=1),{month:O,date:B}},w=function(I,O){return I>g.determineDaysOfMonths(O+1,h)?O+=1:O},_=60-(r.minMinute+r.minSecond/60),k=_*f,P=r.minHour+1,R=P+1;_===60&&(k=0,R=(P=r.minHour)+1);var B=o,V=w(B,c);this.timeScaleArray.push({position:k,value:P,unit:x,day:B,hour:R,year:h,month:S.monthMod(V)});for(var j=k,U=0;U<u;U++){x="hour",R>=24&&(R=0,x="day",V=b(B+=1,V).month,V=w(B,V));var m=this._getYear(h,V,0);j=R===0&&U===0?_*f:60*f+j;var A=R===0?B:R;this.timeScaleArray.push({position:j,value:A,unit:x,hour:R,day:B,year:m,month:S.monthMod(V)}),R++}}},{key:"generateMinuteScale",value:function(i){for(var r=i.currentMillisecond,o=i.currentSecond,c=i.currentMinute,h=i.currentHour,f=i.currentDate,u=i.currentMonth,g=i.currentYear,x=i.minutesWidthOnXAxis,b=i.secondsWidthOnXAxis,w=i.numberOfMinutes,_=c+1,k=f,P=u,R=g,B=h,V=(60-o-r/1e3)*b,j=0;j<w;j++)_>=60&&(_=0,(B+=1)===24&&(B=0)),this.timeScaleArray.push({position:V,value:_,unit:"minute",hour:B,minute:_,day:k,year:this._getYear(R,P,0),month:S.monthMod(P)}),V+=x,_++}},{key:"generateSecondScale",value:function(i){for(var r=i.currentMillisecond,o=i.currentSecond,c=i.currentMinute,h=i.currentHour,f=i.currentDate,u=i.currentMonth,g=i.currentYear,x=i.secondsWidthOnXAxis,b=i.numberOfSeconds,w=o+1,_=c,k=f,P=u,R=g,B=h,V=(1e3-r)/1e3*x,j=0;j<b;j++)w>=60&&(w=0,++_>=60&&(_=0,++B===24&&(B=0))),this.timeScaleArray.push({position:V,value:w,unit:"second",hour:B,minute:_,second:w,day:k,year:this._getYear(R,P,0),month:S.monthMod(P)}),V+=x,w++}},{key:"createRawDateString",value:function(i,r){var o=i.year;return i.month===0&&(i.month=1),o+="-"+("0"+i.month.toString()).slice(-2),i.unit==="day"?o+=i.unit==="day"?"-"+("0"+r).slice(-2):"-01":o+="-"+("0"+(i.day?i.day:"1")).slice(-2),i.unit==="hour"?o+=i.unit==="hour"?"T"+("0"+r).slice(-2):"T00":o+="T"+("0"+(i.hour?i.hour:"0")).slice(-2),i.unit==="minute"?o+=":"+("0"+r).slice(-2):o+=":"+(i.minute?("0"+i.minute).slice(-2):"00"),i.unit==="second"?o+=":"+("0"+r).slice(-2):o+=":00",this.utc&&(o+=".000Z"),o}},{key:"formatDates",value:function(i){var r=this,o=this.w;return i.map(function(c){var h=c.value.toString(),f=new ae(r.ctx),u=r.createRawDateString(c,h),g=f.getDate(f.parseDate(u));if(r.utc||(g=f.getDate(f.parseDateWithTimezone(u))),o.config.xaxis.labels.format===void 0){var x="dd MMM",b=o.config.xaxis.labels.datetimeFormatter;c.unit==="year"&&(x=b.year),c.unit==="month"&&(x=b.month),c.unit==="day"&&(x=b.day),c.unit==="hour"&&(x=b.hour),c.unit==="minute"&&(x=b.minute),c.unit==="second"&&(x=b.second),h=f.formatDate(g,x)}else h=f.formatDate(g,o.config.xaxis.labels.format);return{dateString:u,position:c.position,value:h,unit:c.unit,year:c.year,month:c.month}})}},{key:"removeOverlappingTS",value:function(i){var r,o=this,c=new H(this.ctx),h=!1;i.length>0&&i[0].value&&i.every(function(g){return g.value.length===i[0].value.length})&&(h=!0,r=c.getTextRects(i[0].value).width);var f=0,u=i.map(function(g,x){if(x>0&&o.w.config.xaxis.labels.hideOverlappingLabels){var b=h?r:c.getTextRects(i[f].value).width,w=i[f].position;return g.position>w+b+10?(f=x,g):null}return g});return u=u.filter(function(g){return g!==null})}},{key:"_getYear",value:function(i,r,o){return i+Math.floor(r/12)+o}}]),F}(),Ae=function(){function F(i,r){l(this,F),this.ctx=r,this.w=r.w,this.el=i}return p(F,[{key:"setupElements",value:function(){var i=this.w.globals,r=this.w.config,o=r.chart.type;i.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(o)>-1,i.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(o)>-1,i.isBarHorizontal=(r.chart.type==="bar"||r.chart.type==="rangeBar"||r.chart.type==="boxPlot")&&r.plotOptions.bar.horizontal,i.chartClass=".apexcharts"+i.chartID,i.dom.baseEl=this.el,i.dom.elWrap=document.createElement("div"),H.setAttrs(i.dom.elWrap,{id:i.chartClass.substring(1),class:"apexcharts-canvas "+i.chartClass.substring(1)}),this.el.appendChild(i.dom.elWrap),i.dom.Paper=new window.SVG.Doc(i.dom.elWrap),i.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(r.chart.offsetX,", ").concat(r.chart.offsetY,")")}),i.dom.Paper.node.style.background=r.chart.background,this.setSVGDimensions(),i.dom.elGraphical=i.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),i.dom.elAnnotations=i.dom.Paper.group().attr({class:"apexcharts-annotations"}),i.dom.elDefs=i.dom.Paper.defs(),i.dom.elLegendWrap=document.createElement("div"),i.dom.elLegendWrap.classList.add("apexcharts-legend"),i.dom.elWrap.appendChild(i.dom.elLegendWrap),i.dom.Paper.add(i.dom.elGraphical),i.dom.elGraphical.add(i.dom.elDefs)}},{key:"plotChartType",value:function(i,r){var o=this.w,c=o.config,h=o.globals,f={series:[],i:[]},u={series:[],i:[]},g={series:[],i:[]},x={series:[],i:[]},b={series:[],i:[]},w={series:[],i:[]},_={series:[],i:[]},k={series:[],i:[]},P={series:[],seriesRangeEnd:[],i:[]};h.series.map(function(O,X){var te=0;i[X].type!==void 0?(i[X].type==="column"||i[X].type==="bar"?(h.series.length>1&&c.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),b.series.push(O),b.i.push(X),te++,o.globals.columnSeries=b.series):i[X].type==="area"?(u.series.push(O),u.i.push(X),te++):i[X].type==="line"?(f.series.push(O),f.i.push(X),te++):i[X].type==="scatter"?(g.series.push(O),g.i.push(X)):i[X].type==="bubble"?(x.series.push(O),x.i.push(X),te++):i[X].type==="candlestick"?(w.series.push(O),w.i.push(X),te++):i[X].type==="boxPlot"?(_.series.push(O),_.i.push(X),te++):i[X].type==="rangeBar"?(k.series.push(O),k.i.push(X),te++):i[X].type==="rangeArea"?(P.series.push(h.seriesRangeStart[X]),P.seriesRangeEnd.push(h.seriesRangeEnd[X]),P.i.push(X),te++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),te>1&&(h.comboCharts=!0)):(f.series.push(O),f.i.push(X))});var R=new ga(this.ctx,r),B=new kt(this.ctx,r);this.ctx.pie=new $o(this.ctx);var V=new Zo(this.ctx);this.ctx.rangeBar=new fh(this.ctx,r);var j=new pa(this.ctx),U=[];if(h.comboCharts){if(u.series.length>0&&U.push(R.draw(u.series,"area",u.i)),b.series.length>0)if(o.config.chart.stacked){var m=new un(this.ctx,r);U.push(m.draw(b.series,b.i))}else this.ctx.bar=new bt(this.ctx,r),U.push(this.ctx.bar.draw(b.series,b.i));if(P.series.length>0&&U.push(R.draw(P.series,"rangeArea",P.i,P.seriesRangeEnd)),f.series.length>0&&U.push(R.draw(f.series,"line",f.i)),w.series.length>0&&U.push(B.draw(w.series,w.i)),_.series.length>0&&U.push(B.draw(_.series,_.i)),k.series.length>0&&U.push(this.ctx.rangeBar.draw(k.series,k.i)),g.series.length>0){var A=new ga(this.ctx,r,!0);U.push(A.draw(g.series,"scatter",g.i))}if(x.series.length>0){var I=new ga(this.ctx,r,!0);U.push(I.draw(x.series,"bubble",x.i))}}else switch(c.chart.type){case"line":U=R.draw(h.series,"line");break;case"area":U=R.draw(h.series,"area");break;case"bar":c.chart.stacked?U=new un(this.ctx,r).draw(h.series):(this.ctx.bar=new bt(this.ctx,r),U=this.ctx.bar.draw(h.series));break;case"candlestick":U=new kt(this.ctx,r).draw(h.series);break;case"boxPlot":U=new kt(this.ctx,r).draw(h.series);break;case"rangeBar":U=this.ctx.rangeBar.draw(h.series);break;case"rangeArea":U=R.draw(h.seriesRangeStart,"rangeArea",void 0,h.seriesRangeEnd);break;case"heatmap":U=new Kn(this.ctx,r).draw(h.series);break;case"treemap":U=new fe(this.ctx,r).draw(h.series);break;case"pie":case"donut":case"polarArea":U=this.ctx.pie.draw(h.series);break;case"radialBar":U=V.draw(h.series);break;case"radar":U=j.draw(h.series);break;default:U=R.draw(h.series)}return U}},{key:"setSVGDimensions",value:function(){var i=this.w.globals,r=this.w.config;i.svgWidth=r.chart.width,i.svgHeight=r.chart.height;var o=S.getDimensions(this.el),c=r.chart.width.toString().split(/[0-9]+/g).pop();c==="%"?S.isNumber(o[0])&&(o[0].width===0&&(o=S.getDimensions(this.el.parentNode)),i.svgWidth=o[0]*parseInt(r.chart.width,10)/100):c!=="px"&&c!==""||(i.svgWidth=parseInt(r.chart.width,10));var h=r.chart.height.toString().split(/[0-9]+/g).pop();if(i.svgHeight!=="auto"&&i.svgHeight!=="")if(h==="%"){var f=S.getDimensions(this.el.parentNode);i.svgHeight=f[1]*parseInt(r.chart.height,10)/100}else i.svgHeight=parseInt(r.chart.height,10);else i.axisCharts?i.svgHeight=i.svgWidth/1.61:i.svgHeight=i.svgWidth/1.2;if(i.svgWidth<0&&(i.svgWidth=0),i.svgHeight<0&&(i.svgHeight=0),H.setAttrs(i.dom.Paper.node,{width:i.svgWidth,height:i.svgHeight}),h!=="%"){var u=r.chart.sparkline.enabled?0:i.axisCharts?r.chart.parentHeightOffset:0;i.dom.Paper.node.parentNode.parentNode.style.minHeight=i.svgHeight+u+"px"}i.dom.elWrap.style.width=i.svgWidth+"px",i.dom.elWrap.style.height=i.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var i=this.w.globals,r=i.translateY,o={transform:"translate("+i.translateX+", "+r+")"};H.setAttrs(i.dom.elGraphical.node,o)}},{key:"resizeNonAxisCharts",value:function(){var i=this.w,r=i.globals,o=0,c=i.config.chart.sparkline.enabled?1:15;c+=i.config.grid.padding.bottom,i.config.legend.position!=="top"&&i.config.legend.position!=="bottom"||!i.config.legend.show||i.config.legend.floating||(o=new Qe(this.ctx).legendHelpers.getLegendBBox().clwh+10);var h=i.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),f=2.05*i.globals.radialSize;if(h&&!i.config.chart.sparkline.enabled&&i.config.plotOptions.radialBar.startAngle!==0){var u=S.getBoundingClientRect(h);f=u.bottom;var g=u.bottom-u.top;f=Math.max(2.05*i.globals.radialSize,g)}var x=f+r.translateY+o+c;r.dom.elLegendForeign&&r.dom.elLegendForeign.setAttribute("height",x),i.config.chart.height&&String(i.config.chart.height).indexOf("%")>0||(r.dom.elWrap.style.height=x+"px",H.setAttrs(r.dom.Paper.node,{height:x}),r.dom.Paper.node.parentNode.parentNode.style.minHeight=x+"px")}},{key:"coreCalculations",value:function(){new De(this.ctx).init()}},{key:"resetGlobals",value:function(){var i=this,r=function(){return i.w.config.series.map(function(h){return[]})},o=new Ne,c=this.w.globals;o.initGlobalVars(c),c.seriesXvalues=r(),c.seriesYvalues=r()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var i=null,r=this.w;if(r.globals.axisCharts){if(r.config.xaxis.crosshairs.position==="back"&&new tt(this.ctx).drawXCrosshairs(),r.config.yaxis[0].crosshairs.position==="back"&&new tt(this.ctx).drawYCrosshairs(),r.config.xaxis.type==="datetime"&&r.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new de(this.ctx);var o=[];isFinite(r.globals.minX)&&isFinite(r.globals.maxX)&&!r.globals.isBarHorizontal?o=this.ctx.timeScale.calculateTimeScaleTicks(r.globals.minX,r.globals.maxX):r.globals.isBarHorizontal&&(o=this.ctx.timeScale.calculateTimeScaleTicks(r.globals.minY,r.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(o)}i=new $(this.ctx).getCalculatedRatios()}return i}},{key:"updateSourceChart",value:function(i){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:i.w.globals.minX,max:i.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var i=this,r=this.w;if(r.config.chart.brush.enabled&&typeof r.config.chart.events.selection!="function"){var o=r.config.chart.brush.targets||[r.config.chart.brush.target];o.forEach(function(c){var h=ApexCharts.getChartByID(c);h.w.globals.brushSource=i.ctx,typeof h.w.config.chart.events.zoomed!="function"&&(h.w.config.chart.events.zoomed=function(){i.updateSourceChart(h)}),typeof h.w.config.chart.events.scrolled!="function"&&(h.w.config.chart.events.scrolled=function(){i.updateSourceChart(h)})}),r.config.chart.events.selection=function(c,h){o.forEach(function(f){var u=ApexCharts.getChartByID(f),g=S.clone(r.config.yaxis);if(r.config.chart.brush.autoScaleYaxis&&u.w.globals.series.length===1){var x=new ye(u);g=x.autoScaleY(u,g,h)}var b=u.w.config.yaxis.reduce(function(w,_,k){return[].concat(N(w),[s(s({},u.w.config.yaxis[k]),{},{min:g[0].min,max:g[0].max})])},[]);u.ctx.updateHelpers._updateOptions({xaxis:{min:h.xaxis.min,max:h.xaxis.max},yaxis:b},!1,!1,!1,!1)})}}}}]),F}(),at=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"_updateOptions",value:function(i){var r=this,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(u){var g=[r.ctx];h&&(g=r.ctx.getSyncedCharts()),r.ctx.w.globals.isExecCalled&&(g=[r.ctx],r.ctx.w.globals.isExecCalled=!1),g.forEach(function(x,b){var w=x.w;if(w.globals.shouldAnimate=c,o||(w.globals.resized=!0,w.globals.dataChanged=!0,c&&x.series.getPreviousPaths()),i&&a(i)==="object"&&(x.config=new Ce(i),i=$.extendArrayProps(x.config,i,w),x.w.globals.chartID!==r.ctx.w.globals.chartID&&delete i.series,w.config=S.extend(w.config,i),f&&(w.globals.lastXAxis=i.xaxis?S.clone(i.xaxis):[],w.globals.lastYAxis=i.yaxis?S.clone(i.yaxis):[],w.globals.initialConfig=S.extend({},w.config),w.globals.initialSeries=S.clone(w.config.series),i.series))){for(var _=0;_<w.globals.collapsedSeriesIndices.length;_++){var k=w.config.series[w.globals.collapsedSeriesIndices[_]];w.globals.collapsedSeries[_].data=w.globals.axisCharts?k.data.slice():k}for(var P=0;P<w.globals.ancillaryCollapsedSeriesIndices.length;P++){var R=w.config.series[w.globals.ancillaryCollapsedSeriesIndices[P]];w.globals.ancillaryCollapsedSeries[P].data=w.globals.axisCharts?R.data.slice():R}x.series.emptyCollapsedSeries(w.config.series)}return x.update(i).then(function(){b===g.length-1&&u(x)})})})}},{key:"_updateSeries",value:function(i,r){var o=this,c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(h){var f,u=o.w;return u.globals.shouldAnimate=r,u.globals.dataChanged=!0,r&&o.ctx.series.getPreviousPaths(),u.globals.axisCharts?((f=i.map(function(g,x){return o._extendSeries(g,x)})).length===0&&(f=[{data:[]}]),u.config.series=f):u.config.series=i.slice(),c&&(u.globals.initialConfig.series=S.clone(u.config.series),u.globals.initialSeries=S.clone(u.config.series)),o.ctx.update().then(function(){h(o.ctx)})})}},{key:"_extendSeries",value:function(i,r){var o=this.w,c=o.config.series[r];return s(s({},o.config.series[r]),{},{name:i.name?i.name:c&&c.name,color:i.color?i.color:c&&c.color,type:i.type?i.type:c&&c.type,data:i.data?i.data:c&&c.data})}},{key:"toggleDataPointSelection",value:function(i,r){var o=this.w,c=null,h=".apexcharts-series[data\\:realIndex='".concat(i,"']");return o.globals.axisCharts?c=o.globals.dom.Paper.select("".concat(h," path[j='").concat(r,"'], ").concat(h," circle[j='").concat(r,"'], ").concat(h," rect[j='").concat(r,"']")).members[0]:r===void 0&&(c=o.globals.dom.Paper.select("".concat(h," path[j='").concat(i,"']")).members[0],o.config.chart.type!=="pie"&&o.config.chart.type!=="polarArea"&&o.config.chart.type!=="donut"||this.ctx.pie.pieClicked(i)),c?(new H(this.ctx).pathMouseDown(c,null),c.node?c.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(i){var r=this.w;if(["min","max"].forEach(function(c){i.xaxis[c]!==void 0&&(r.config.xaxis[c]=i.xaxis[c],r.globals.lastXAxis[c]=i.xaxis[c])}),i.xaxis.categories&&i.xaxis.categories.length&&(r.config.xaxis.categories=i.xaxis.categories),r.config.xaxis.convertedCatToNumeric){var o=new pe(i);i=o.convertCatToNumericXaxis(i,this.ctx)}return i}},{key:"forceYAxisUpdate",value:function(i){return i.chart&&i.chart.stacked&&i.chart.stackType==="100%"&&(Array.isArray(i.yaxis)?i.yaxis.forEach(function(r,o){i.yaxis[o].min=0,i.yaxis[o].max=100}):(i.yaxis.min=0,i.yaxis.max=100)),i}},{key:"revertDefaultAxisMinMax",value:function(i){var r=this,o=this.w,c=o.globals.lastXAxis,h=o.globals.lastYAxis;i&&i.xaxis&&(c=i.xaxis),i&&i.yaxis&&(h=i.yaxis),o.config.xaxis.min=c.min,o.config.xaxis.max=c.max;var f=function(u){h[u]!==void 0&&(o.config.yaxis[u].min=h[u].min,o.config.yaxis[u].max=h[u].max)};o.config.yaxis.map(function(u,g){o.globals.zoomed||h[g]!==void 0?f(g):r.ctx.opts.yaxis[g]!==void 0&&(u.min=r.ctx.opts.yaxis[g].min,u.max=r.ctx.opts.yaxis[g].max)})}}]),F}();Z=typeof window!="undefined"?window:void 0,oe=function(F,i){var r=(this!==void 0?this:F).SVG=function(m){if(r.supported)return m=new r.Doc(m),r.parser.draw||r.prepare(),m};if(r.ns="http://www.w3.org/2000/svg",r.xmlns="http://www.w3.org/2000/xmlns/",r.xlink="http://www.w3.org/1999/xlink",r.svgjs="http://svgjs.dev",r.supported=!0,!r.supported)return!1;r.did=1e3,r.eid=function(m){return"Svgjs"+b(m)+r.did++},r.create=function(m){var A=i.createElementNS(this.ns,m);return A.setAttribute("id",this.eid(m)),A},r.extend=function(){var m,A;A=(m=[].slice.call(arguments)).pop();for(var I=m.length-1;I>=0;I--)if(m[I])for(var O in A)m[I].prototype[O]=A[O];r.Set&&r.Set.inherit&&r.Set.inherit()},r.invent=function(m){var A=typeof m.create=="function"?m.create:function(){this.constructor.call(this,r.create(m.create))};return m.inherit&&(A.prototype=new m.inherit),m.extend&&r.extend(A,m.extend),m.construct&&r.extend(m.parent||r.Container,m.construct),A},r.adopt=function(m){return m?m.instance?m.instance:((A=m.nodeName=="svg"?m.parentNode instanceof F.SVGElement?new r.Nested:new r.Doc:m.nodeName=="linearGradient"?new r.Gradient("linear"):m.nodeName=="radialGradient"?new r.Gradient("radial"):r[b(m.nodeName)]?new r[b(m.nodeName)]:new r.Element(m)).type=m.nodeName,A.node=m,m.instance=A,A instanceof r.Doc&&A.namespace().defs(),A.setData(JSON.parse(m.getAttribute("svgjs:data"))||{}),A):null;var A},r.prepare=function(){var m=i.getElementsByTagName("body")[0],A=(m?new r.Doc(m):r.adopt(i.documentElement).nested()).size(2,0);r.parser={body:m||i.documentElement,draw:A.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:A.polyline().node,path:A.path().node,native:r.create("svg")}},r.parser={native:r.create("svg")},i.addEventListener("DOMContentLoaded",function(){r.parser.draw||r.prepare()},!1),r.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},r.utils={map:function(m,A){for(var I=m.length,O=[],X=0;X<I;X++)O.push(A(m[X]));return O},filter:function(m,A){for(var I=m.length,O=[],X=0;X<I;X++)A(m[X])&&O.push(m[X]);return O},filterSVGElements:function(m){return this.filter(m,function(A){return A instanceof F.SVGElement})}},r.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},r.Color=function(m){var A,I;this.r=0,this.g=0,this.b=0,m&&(typeof m=="string"?r.regex.isRgb.test(m)?(A=r.regex.rgb.exec(m.replace(r.regex.whitespace,"")),this.r=parseInt(A[1]),this.g=parseInt(A[2]),this.b=parseInt(A[3])):r.regex.isHex.test(m)&&(A=r.regex.hex.exec((I=m).length==4?["#",I.substring(1,2),I.substring(1,2),I.substring(2,3),I.substring(2,3),I.substring(3,4),I.substring(3,4)].join(""):I),this.r=parseInt(A[1],16),this.g=parseInt(A[2],16),this.b=parseInt(A[3],16)):a(m)==="object"&&(this.r=m.r,this.g=m.g,this.b=m.b))},r.extend(r.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+w(this.r)+w(this.g)+w(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(m){return this.destination=new r.Color(m),this},at:function(m){return this.destination?(m=m<0?0:m>1?1:m,new r.Color({r:~~(this.r+(this.destination.r-this.r)*m),g:~~(this.g+(this.destination.g-this.g)*m),b:~~(this.b+(this.destination.b-this.b)*m)})):this}}),r.Color.test=function(m){return m+="",r.regex.isHex.test(m)||r.regex.isRgb.test(m)},r.Color.isRgb=function(m){return m&&typeof m.r=="number"&&typeof m.g=="number"&&typeof m.b=="number"},r.Color.isColor=function(m){return r.Color.isRgb(m)||r.Color.test(m)},r.Array=function(m,A){(m=(m||[]).valueOf()).length==0&&A&&(m=A.valueOf()),this.value=this.parse(m)},r.extend(r.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(m){return m=m.valueOf(),Array.isArray(m)?m:this.split(m)}}),r.PointArray=function(m,A){r.Array.call(this,m,A||[[0,0]])},r.PointArray.prototype=new r.Array,r.PointArray.prototype.constructor=r.PointArray;for(var o={M:function(m,A,I){return A.x=I.x=m[0],A.y=I.y=m[1],["M",A.x,A.y]},L:function(m,A){return A.x=m[0],A.y=m[1],["L",m[0],m[1]]},H:function(m,A){return A.x=m[0],["H",m[0]]},V:function(m,A){return A.y=m[0],["V",m[0]]},C:function(m,A){return A.x=m[4],A.y=m[5],["C",m[0],m[1],m[2],m[3],m[4],m[5]]},Q:function(m,A){return A.x=m[2],A.y=m[3],["Q",m[0],m[1],m[2],m[3]]},Z:function(m,A,I){return A.x=I.x,A.y=I.y,["Z"]}},c="mlhvqtcsaz".split(""),h=0,f=c.length;h<f;++h)o[c[h]]=function(m){return function(A,I,O){if(m=="H")A[0]=A[0]+I.x;else if(m=="V")A[0]=A[0]+I.y;else if(m=="A")A[5]=A[5]+I.x,A[6]=A[6]+I.y;else for(var X=0,te=A.length;X<te;++X)A[X]=A[X]+(X%2?I.y:I.x);if(o&&typeof o[m]=="function")return o[m](A,I,O)}}(c[h].toUpperCase());r.PathArray=function(m,A){r.Array.call(this,m,A||[["M",0,0]])},r.PathArray.prototype=new r.Array,r.PathArray.prototype.constructor=r.PathArray,r.extend(r.PathArray,{toString:function(){return function(m){for(var A=0,I=m.length,O="";A<I;A++)O+=m[A][0],m[A][1]!=null&&(O+=m[A][1],m[A][2]!=null&&(O+=" ",O+=m[A][2],m[A][3]!=null&&(O+=" ",O+=m[A][3],O+=" ",O+=m[A][4],m[A][5]!=null&&(O+=" ",O+=m[A][5],O+=" ",O+=m[A][6],m[A][7]!=null&&(O+=" ",O+=m[A][7])))));return O+" "}(this.value)},move:function(m,A){var I=this.bbox();return I.x,I.y,this},at:function(m){if(!this.destination)return this;for(var A=this.value,I=this.destination.value,O=[],X=new r.PathArray,te=0,ee=A.length;te<ee;te++){O[te]=[A[te][0]];for(var Se=1,_e=A[te].length;Se<_e;Se++)O[te][Se]=A[te][Se]+(I[te][Se]-A[te][Se])*m;O[te][0]==="A"&&(O[te][4]=+(O[te][4]!=0),O[te][5]=+(O[te][5]!=0))}return X.value=O,X},parse:function(m){if(m instanceof r.PathArray)return m.valueOf();var A,I={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};m=typeof m=="string"?m.replace(r.regex.numbersWithDots,g).replace(r.regex.pathLetters," $& ").replace(r.regex.hyphen,"$1 -").trim().split(r.regex.delimiter):m.reduce(function(_e,Le){return[].concat.call(_e,Le)},[]);var O=[],X=new r.Point,te=new r.Point,ee=0,Se=m.length;do r.regex.isPathLetter.test(m[ee])?(A=m[ee],++ee):A=="M"?A="L":A=="m"&&(A="l"),O.push(o[A].call(null,m.slice(ee,ee+=I[A.toUpperCase()]).map(parseFloat),X,te));while(Se>ee);return O},bbox:function(){return r.parser.draw||r.prepare(),r.parser.path.setAttribute("d",this.toString()),r.parser.path.getBBox()}}),r.Number=r.invent({create:function(m,A){this.value=0,this.unit=A||"",typeof m=="number"?this.value=isNaN(m)?0:isFinite(m)?m:m<0?-34e37:34e37:typeof m=="string"?(A=m.match(r.regex.numberAndUnit))&&(this.value=parseFloat(A[1]),A[5]=="%"?this.value/=100:A[5]=="s"&&(this.value*=1e3),this.unit=A[5]):m instanceof r.Number&&(this.value=m.valueOf(),this.unit=m.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(m){return m=new r.Number(m),new r.Number(this+m,this.unit||m.unit)},minus:function(m){return m=new r.Number(m),new r.Number(this-m,this.unit||m.unit)},times:function(m){return m=new r.Number(m),new r.Number(this*m,this.unit||m.unit)},divide:function(m){return m=new r.Number(m),new r.Number(this/m,this.unit||m.unit)},to:function(m){var A=new r.Number(this);return typeof m=="string"&&(A.unit=m),A},morph:function(m){return this.destination=new r.Number(m),m.relative&&(this.destination.value+=this.value),this},at:function(m){return this.destination?new r.Number(this.destination).minus(this).times(m).plus(this):this}}}),r.Element=r.invent({create:function(m){this._stroke=r.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=m)&&(this.type=m.nodeName,this.node.instance=this,this._stroke=m.getAttribute("stroke")||this._stroke)},extend:{x:function(m){return this.attr("x",m)},y:function(m){return this.attr("y",m)},cx:function(m){return m==null?this.x()+this.width()/2:this.x(m-this.width()/2)},cy:function(m){return m==null?this.y()+this.height()/2:this.y(m-this.height()/2)},move:function(m,A){return this.x(m).y(A)},center:function(m,A){return this.cx(m).cy(A)},width:function(m){return this.attr("width",m)},height:function(m){return this.attr("height",m)},size:function(m,A){var I=_(this,m,A);return this.width(new r.Number(I.width)).height(new r.Number(I.height))},clone:function(m){this.writeDataToDom();var A=R(this.node.cloneNode(!0));return m?m.add(A):this.after(A),A},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(m){return this.after(m).remove(),m},addTo:function(m){return m.put(this)},putIn:function(m){return m.add(this)},id:function(m){return this.attr("id",m)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var m=this.attr("class");return m==null?[]:m.trim().split(r.regex.delimiter)},hasClass:function(m){return this.classes().indexOf(m)!=-1},addClass:function(m){if(!this.hasClass(m)){var A=this.classes();A.push(m),this.attr("class",A.join(" "))}return this},removeClass:function(m){return this.hasClass(m)&&this.attr("class",this.classes().filter(function(A){return A!=m}).join(" ")),this},toggleClass:function(m){return this.hasClass(m)?this.removeClass(m):this.addClass(m)},reference:function(m){return r.get(this.attr(m))},parent:function(m){var A=this;if(!A.node.parentNode)return null;if(A=r.adopt(A.node.parentNode),!m)return A;for(;A&&A.node instanceof F.SVGElement;){if(typeof m=="string"?A.matches(m):A instanceof m)return A;if(!A.node.parentNode||A.node.parentNode.nodeName=="#document")return null;A=r.adopt(A.node.parentNode)}},doc:function(){return this instanceof r.Doc?this:this.parent(r.Doc)},parents:function(m){var A=[],I=this;do{if(!(I=I.parent(m))||!I.node)break;A.push(I)}while(I.parent);return A},matches:function(m){return function(A,I){return(A.matches||A.matchesSelector||A.msMatchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector).call(A,I)}(this.node,m)},native:function(){return this.node},svg:function(m){var A=i.createElement("svg");if(!(m&&this instanceof r.Parent))return A.appendChild(m=i.createElement("svg")),this.writeDataToDom(),m.appendChild(this.node.cloneNode(!0)),A.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");A.innerHTML="<svg>"+m.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var I=0,O=A.firstChild.childNodes.length;I<O;I++)this.node.appendChild(A.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(m){return this.dom=m,this},is:function(m){return function(A,I){return A instanceof I}(this,m)}}}),r.easing={"-":function(m){return m},"<>":function(m){return-Math.cos(m*Math.PI)/2+.5},">":function(m){return Math.sin(m*Math.PI/2)},"<":function(m){return 1-Math.cos(m*Math.PI/2)}},r.morph=function(m){return function(A,I){return new r.MorphObj(A,I).at(m)}},r.Situation=r.invent({create:function(m){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new r.Number(m.duration).valueOf(),this.delay=new r.Number(m.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=m.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),r.FX=r.invent({create:function(m){this._target=m,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(m,A,I){a(m)==="object"&&(A=m.ease,I=m.delay,m=m.duration);var O=new r.Situation({duration:m||1e3,delay:I||0,ease:r.easing[A||"-"]||A});return this.queue(O),this},target:function(m){return m&&m instanceof r.Element?(this._target=m,this):this._target},timeToAbsPos:function(m){return(m-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(m){return this.situation.duration/this._speed*m+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=F.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){F.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(m){return(typeof m=="function"||m instanceof r.Situation)&&this.situations.push(m),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof r.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var m,A=this.situation;if(A.init)return this;for(var I in A.animations){m=this.target()[I](),Array.isArray(m)||(m=[m]),Array.isArray(A.animations[I])||(A.animations[I]=[A.animations[I]]);for(var O=m.length;O--;)A.animations[I][O]instanceof r.Number&&(m[O]=new r.Number(m[O])),A.animations[I][O]=m[O].morph(A.animations[I][O])}for(var I in A.attrs)A.attrs[I]=new r.MorphObj(this.target().attr(I),A.attrs[I]);for(var I in A.styles)A.styles[I]=new r.MorphObj(this.target().style(I),A.styles[I]);return A.initialTransformation=this.target().matrixify(),A.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(m,A){var I=this.active;return this.active=!1,A&&this.clearQueue(),m&&this.situation&&(!I&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(m){var A=this.last();return this.target().on("finished.fx",function I(O){O.detail.situation==A&&(m.call(this,A),this.off("finished.fx",I))}),this._callStart()},during:function(m){var A=this.last(),I=function(O){O.detail.situation==A&&m.call(this,O.detail.pos,r.morph(O.detail.pos),O.detail.eased,A)};return this.target().off("during.fx",I).on("during.fx",I),this.after(function(){this.off("during.fx",I)}),this._callStart()},afterAll:function(m){var A=function I(O){m.call(this),this.off("allfinished.fx",I)};return this.target().off("allfinished.fx",A).on("allfinished.fx",A),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(m,A,I){return this.last()[I||"animations"][m]=A,this._callStart()},step:function(m){var A,I,O;m||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(A=Math.max(this.absPos,0),I=Math.floor(A),this.situation.loops===!0||I<this.situation.loops?(this.pos=A-I,O=this.situation.loop,this.situation.loop=I):(this.absPos=this.situation.loops,this.pos=1,O=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-O)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var X=this.situation.ease(this.pos);for(var te in this.situation.once)te>this.lastPos&&te<=X&&(this.situation.once[te].call(this.target(),this.pos,X),delete this.situation.once[te]);return this.active&&this.target().fire("during",{pos:this.pos,eased:X,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=X,this):this},eachAt:function(){var m,A=this,I=this.target(),O=this.situation;for(var X in O.animations)m=[].concat(O.animations[X]).map(function(Se){return typeof Se!="string"&&Se.at?Se.at(O.ease(A.pos),A.pos):Se}),I[X].apply(I,m);for(var X in O.attrs)m=[X].concat(O.attrs[X]).map(function(_e){return typeof _e!="string"&&_e.at?_e.at(O.ease(A.pos),A.pos):_e}),I.attr.apply(I,m);for(var X in O.styles)m=[X].concat(O.styles[X]).map(function(_e){return typeof _e!="string"&&_e.at?_e.at(O.ease(A.pos),A.pos):_e}),I.style.apply(I,m);if(O.transforms.length){m=O.initialTransformation,X=0;for(var te=O.transforms.length;X<te;X++){var ee=O.transforms[X];ee instanceof r.Matrix?m=ee.relative?m.multiply(new r.Matrix().morph(ee).at(O.ease(this.pos))):m.morph(ee).at(O.ease(this.pos)):(ee.relative||ee.undo(m.extract()),m=m.multiply(ee.at(O.ease(this.pos))))}I.matrix(m)}return this},once:function(m,A,I){var O=this.last();return I||(m=O.ease(m)),O.once[m]=A,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:r.Element,construct:{animate:function(m,A,I){return(this.fx||(this.fx=new r.FX(this))).animate(m,A,I)},delay:function(m){return(this.fx||(this.fx=new r.FX(this))).delay(m)},stop:function(m,A){return this.fx&&this.fx.stop(m,A),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),r.MorphObj=r.invent({create:function(m,A){return r.Color.isColor(A)?new r.Color(m).morph(A):r.regex.delimiter.test(m)?r.regex.pathLetters.test(m)?new r.PathArray(m).morph(A):new r.Array(m).morph(A):r.regex.numberAndUnit.test(A)?new r.Number(m).morph(A):(this.value=m,void(this.destination=A))},extend:{at:function(m,A){return A<1?this.value:this.destination},valueOf:function(){return this.value}}}),r.extend(r.FX,{attr:function(m,A,I){if(a(m)==="object")for(var O in m)this.attr(O,m[O]);else this.add(m,A,"attrs");return this},plot:function(m,A,I,O){return arguments.length==4?this.plot([m,A,I,O]):this.add("plot",new(this.target()).morphArray(m))}}),r.Box=r.invent({create:function(m,A,I,O){if(!(a(m)!=="object"||m instanceof r.Element))return r.Box.call(this,m.left!=null?m.left:m.x,m.top!=null?m.top:m.y,m.width,m.height);arguments.length==4&&(this.x=m,this.y=A,this.width=I,this.height=O),B(this)}}),r.BBox=r.invent({create:function(m){if(r.Box.apply(this,[].slice.call(arguments)),m instanceof r.Element){var A;try{if(!i.documentElement.contains){for(var I=m.node;I.parentNode;)I=I.parentNode;if(I!=i)throw new Error("Element not in the dom")}A=m.node.getBBox()}catch{if(m instanceof r.Shape){r.parser.draw||r.prepare();var O=m.clone(r.parser.draw.instance).show();O&&O.node&&typeof O.node.getBBox=="function"&&(A=O.node.getBBox()),O&&typeof O.remove=="function"&&O.remove()}else A={x:m.node.clientLeft,y:m.node.clientTop,width:m.node.clientWidth,height:m.node.clientHeight}}r.Box.call(this,A)}},inherit:r.Box,parent:r.Element,construct:{bbox:function(){return new r.BBox(this)}}}),r.BBox.prototype.constructor=r.BBox,r.Matrix=r.invent({create:function(m){var A=P([1,0,0,1,0,0]);m=m===null?A:m instanceof r.Element?m.matrixify():typeof m=="string"?P(m.split(r.regex.delimiter).map(parseFloat)):arguments.length==6?P([].slice.call(arguments)):Array.isArray(m)?P(m):m&&a(m)==="object"?m:A;for(var I=j.length-1;I>=0;--I)this[j[I]]=m[j[I]]!=null?m[j[I]]:A[j[I]]},extend:{extract:function(){var m=k(this,0,1);k(this,1,0);var A=180/Math.PI*Math.atan2(m.y,m.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(A*Math.PI/180)+this.f*Math.sin(A*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(A*Math.PI/180)+this.e*Math.sin(-A*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:A,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new r.Matrix(this)}},clone:function(){return new r.Matrix(this)},morph:function(m){return this.destination=new r.Matrix(m),this},multiply:function(m){return new r.Matrix(this.native().multiply(function(A){return A instanceof r.Matrix||(A=new r.Matrix(A)),A}(m).native()))},inverse:function(){return new r.Matrix(this.native().inverse())},translate:function(m,A){return new r.Matrix(this.native().translate(m||0,A||0))},native:function(){for(var m=r.parser.native.createSVGMatrix(),A=j.length-1;A>=0;A--)m[j[A]]=this[j[A]];return m},toString:function(){return"matrix("+V(this.a)+","+V(this.b)+","+V(this.c)+","+V(this.d)+","+V(this.e)+","+V(this.f)+")"}},parent:r.Element,construct:{ctm:function(){return new r.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof r.Nested){var m=this.rect(1,1),A=m.node.getScreenCTM();return m.remove(),new r.Matrix(A)}return new r.Matrix(this.node.getScreenCTM())}}}),r.Point=r.invent({create:function(m,A){var I;I=Array.isArray(m)?{x:m[0],y:m[1]}:a(m)==="object"?{x:m.x,y:m.y}:m!=null?{x:m,y:A!=null?A:m}:{x:0,y:0},this.x=I.x,this.y=I.y},extend:{clone:function(){return new r.Point(this)},morph:function(m,A){return this.destination=new r.Point(m,A),this}}}),r.extend(r.Element,{point:function(m,A){return new r.Point(m,A).transform(this.screenCTM().inverse())}}),r.extend(r.Element,{attr:function(m,A,I){if(m==null){for(m={},I=(A=this.node.attributes).length-1;I>=0;I--)m[A[I].nodeName]=r.regex.isNumber.test(A[I].nodeValue)?parseFloat(A[I].nodeValue):A[I].nodeValue;return m}if(a(m)==="object")for(var O in m)this.attr(O,m[O]);else if(A===null)this.node.removeAttribute(m);else{if(A==null)return(A=this.node.getAttribute(m))==null?r.defaults.attrs[m]:r.regex.isNumber.test(A)?parseFloat(A):A;m=="stroke-width"?this.attr("stroke",parseFloat(A)>0?this._stroke:null):m=="stroke"&&(this._stroke=A),m!="fill"&&m!="stroke"||(r.regex.isImage.test(A)&&(A=this.doc().defs().image(A,0,0)),A instanceof r.Image&&(A=this.doc().defs().pattern(0,0,function(){this.add(A)}))),typeof A=="number"?A=new r.Number(A):r.Color.isColor(A)?A=new r.Color(A):Array.isArray(A)&&(A=new r.Array(A)),m=="leading"?this.leading&&this.leading(A):typeof I=="string"?this.node.setAttributeNS(I,m,A.toString()):this.node.setAttribute(m,A.toString()),!this.rebuild||m!="font-size"&&m!="x"||this.rebuild(m,A)}return this}}),r.extend(r.Element,{transform:function(m,A){var I;return a(m)!=="object"?(I=new r.Matrix(this).extract(),typeof m=="string"?I[m]:I):(I=new r.Matrix(this),A=!!A||!!m.relative,m.a!=null&&(I=A?I.multiply(new r.Matrix(m)):new r.Matrix(m)),this.attr("transform",I))}}),r.extend(r.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(r.regex.transforms).slice(0,-1).map(function(m){var A=m.trim().split("(");return[A[0],A[1].split(r.regex.delimiter).map(function(I){return parseFloat(I)})]}).reduce(function(m,A){return A[0]=="matrix"?m.multiply(P(A[1])):m[A[0]].apply(m,A[1])},new r.Matrix)},toParent:function(m){if(this==m)return this;var A=this.screenCTM(),I=m.screenCTM().inverse();return this.addTo(m).untransform().transform(I.multiply(A)),this},toDoc:function(){return this.toParent(this.doc())}}),r.Transformation=r.invent({create:function(m,A){if(arguments.length>1&&typeof A!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(m))for(var I=0,O=this.arguments.length;I<O;++I)this[this.arguments[I]]=m[I];else if(m&&a(m)==="object")for(I=0,O=this.arguments.length;I<O;++I)this[this.arguments[I]]=m[this.arguments[I]];this.inversed=!1,A===!0&&(this.inversed=!0)}}),r.Translate=r.invent({parent:r.Matrix,inherit:r.Transformation,create:function(m,A){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),r.extend(r.Element,{style:function(m,A){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(a(m)==="object")for(var I in m)this.style(I,m[I]);else{if(!r.regex.isCss.test(m))return this.node.style[x(m)];for(m=m.split(/\s*;\s*/).filter(function(O){return!!O}).map(function(O){return O.split(/\s*:\s*/)});A=m.pop();)this.style(A[0],A[1])}else this.node.style[x(m)]=A===null||r.regex.isBlank.test(A)?"":A;return this}}),r.Parent=r.invent({create:function(m){this.constructor.call(this,m)},inherit:r.Element,extend:{children:function(){return r.utils.map(r.utils.filterSVGElements(this.node.childNodes),function(m){return r.adopt(m)})},add:function(m,A){return A==null?this.node.appendChild(m.node):m.node!=this.node.childNodes[A]&&this.node.insertBefore(m.node,this.node.childNodes[A]),this},put:function(m,A){return this.add(m,A),m},has:function(m){return this.index(m)>=0},index:function(m){return[].slice.call(this.node.childNodes).indexOf(m.node)},get:function(m){return r.adopt(this.node.childNodes[m])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(m,A){for(var I=this.children(),O=0,X=I.length;O<X;O++)I[O]instanceof r.Element&&m.apply(I[O],[O,I]),A&&I[O]instanceof r.Container&&I[O].each(m,A);return this},removeElement:function(m){return this.node.removeChild(m.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),r.extend(r.Parent,{ungroup:function(m,A){return A===0||this instanceof r.Defs||this.node==r.parser.draw||(m=m||(this instanceof r.Doc?this:this.parent(r.Parent)),A=A||1/0,this.each(function(){return this instanceof r.Defs?this:this instanceof r.Parent?this.ungroup(m,A-1):this.toParent(m)}),this.node.firstChild||this.remove()),this},flatten:function(m,A){return this.ungroup(m,A)}}),r.Container=r.invent({create:function(m){this.constructor.call(this,m)},inherit:r.Parent}),r.ViewBox=r.invent({parent:r.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(m){r.Element.prototype[m]=function(A){return r.on(this.node,m,A),this}}),r.listeners=[],r.handlerMap=[],r.listenerId=0,r.on=function(m,A,I,O,X){var te=I.bind(O||m.instance||m),ee=(r.handlerMap.indexOf(m)+1||r.handlerMap.push(m))-1,Se=A.split(".")[0],_e=A.split(".")[1]||"*";r.listeners[ee]=r.listeners[ee]||{},r.listeners[ee][Se]=r.listeners[ee][Se]||{},r.listeners[ee][Se][_e]=r.listeners[ee][Se][_e]||{},I._svgjsListenerId||(I._svgjsListenerId=++r.listenerId),r.listeners[ee][Se][_e][I._svgjsListenerId]=te,m.addEventListener(Se,te,X||{passive:!0})},r.off=function(m,A,I){var O=r.handlerMap.indexOf(m),X=A&&A.split(".")[0],te=A&&A.split(".")[1],ee="";if(O!=-1)if(I){if(typeof I=="function"&&(I=I._svgjsListenerId),!I)return;r.listeners[O][X]&&r.listeners[O][X][te||"*"]&&(m.removeEventListener(X,r.listeners[O][X][te||"*"][I],!1),delete r.listeners[O][X][te||"*"][I])}else if(te&&X){if(r.listeners[O][X]&&r.listeners[O][X][te]){for(var Se in r.listeners[O][X][te])r.off(m,[X,te].join("."),Se);delete r.listeners[O][X][te]}}else if(te)for(var _e in r.listeners[O])for(var ee in r.listeners[O][_e])te===ee&&r.off(m,[_e,te].join("."));else if(X){if(r.listeners[O][X]){for(var ee in r.listeners[O][X])r.off(m,[X,ee].join("."));delete r.listeners[O][X]}}else{for(var _e in r.listeners[O])r.off(m,_e);delete r.listeners[O],delete r.handlerMap[O]}},r.extend(r.Element,{on:function(m,A,I,O){return r.on(this.node,m,A,I,O),this},off:function(m,A){return r.off(this.node,m,A),this},fire:function(m,A){return m instanceof F.Event?this.node.dispatchEvent(m):this.node.dispatchEvent(m=new r.CustomEvent(m,{detail:A,cancelable:!0})),this._event=m,this},event:function(){return this._event}}),r.Defs=r.invent({create:"defs",inherit:r.Container}),r.G=r.invent({create:"g",inherit:r.Container,extend:{x:function(m){return m==null?this.transform("x"):this.transform({x:m-this.x()},!0)}},construct:{group:function(){return this.put(new r.G)}}}),r.Doc=r.invent({create:function(m){m&&((m=typeof m=="string"?i.getElementById(m):m).nodeName=="svg"?this.constructor.call(this,m):(this.constructor.call(this,r.create("svg")),m.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:r.Container,extend:{namespace:function(){return this.attr({xmlns:r.ns,version:"1.1"}).attr("xmlns:xlink",r.xlink,r.xmlns).attr("xmlns:svgjs",r.svgjs,r.xmlns)},defs:function(){var m;return this._defs||((m=this.node.getElementsByTagName("defs")[0])?this._defs=r.adopt(m):this._defs=new r.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,r.parser.draw&&!r.parser.draw.parentNode&&this.node.appendChild(r.parser.draw),this},clone:function(m){this.writeDataToDom();var A=this.node,I=R(A.cloneNode(!0));return m?(m.node||m).appendChild(I.node):A.parentNode.insertBefore(I.node,A.nextSibling),I}}}),r.extend(r.Element,{}),r.Gradient=r.invent({create:function(m){this.constructor.call(this,r.create(m+"Gradient")),this.type=m},inherit:r.Container,extend:{at:function(m,A,I){return this.put(new r.Stop).update(m,A,I)},update:function(m){return this.clear(),typeof m=="function"&&m.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(m,A,I){return m=="transform"&&(m="gradientTransform"),r.Container.prototype.attr.call(this,m,A,I)}},construct:{gradient:function(m,A){return this.defs().gradient(m,A)}}}),r.extend(r.Gradient,r.FX,{from:function(m,A){return(this._target||this).type=="radial"?this.attr({fx:new r.Number(m),fy:new r.Number(A)}):this.attr({x1:new r.Number(m),y1:new r.Number(A)})},to:function(m,A){return(this._target||this).type=="radial"?this.attr({cx:new r.Number(m),cy:new r.Number(A)}):this.attr({x2:new r.Number(m),y2:new r.Number(A)})}}),r.extend(r.Defs,{gradient:function(m,A){return this.put(new r.Gradient(m)).update(A)}}),r.Stop=r.invent({create:"stop",inherit:r.Element,extend:{update:function(m){return(typeof m=="number"||m instanceof r.Number)&&(m={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),m.opacity!=null&&this.attr("stop-opacity",m.opacity),m.color!=null&&this.attr("stop-color",m.color),m.offset!=null&&this.attr("offset",new r.Number(m.offset)),this}}}),r.Pattern=r.invent({create:"pattern",inherit:r.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(m){return this.clear(),typeof m=="function"&&m.call(this,this),this},toString:function(){return this.fill()},attr:function(m,A,I){return m=="transform"&&(m="patternTransform"),r.Container.prototype.attr.call(this,m,A,I)}},construct:{pattern:function(m,A,I){return this.defs().pattern(m,A,I)}}}),r.extend(r.Defs,{pattern:function(m,A,I){return this.put(new r.Pattern).update(I).attr({x:0,y:0,width:m,height:A,patternUnits:"userSpaceOnUse"})}}),r.Shape=r.invent({create:function(m){this.constructor.call(this,m)},inherit:r.Element}),r.Symbol=r.invent({create:"symbol",inherit:r.Container,construct:{symbol:function(){return this.put(new r.Symbol)}}}),r.Use=r.invent({create:"use",inherit:r.Shape,extend:{element:function(m,A){return this.attr("href",(A||"")+"#"+m,r.xlink)}},construct:{use:function(m,A){return this.put(new r.Use).element(m,A)}}}),r.Rect=r.invent({create:"rect",inherit:r.Shape,construct:{rect:function(m,A){return this.put(new r.Rect).size(m,A)}}}),r.Circle=r.invent({create:"circle",inherit:r.Shape,construct:{circle:function(m){return this.put(new r.Circle).rx(new r.Number(m).divide(2)).move(0,0)}}}),r.extend(r.Circle,r.FX,{rx:function(m){return this.attr("r",m)},ry:function(m){return this.rx(m)}}),r.Ellipse=r.invent({create:"ellipse",inherit:r.Shape,construct:{ellipse:function(m,A){return this.put(new r.Ellipse).size(m,A).move(0,0)}}}),r.extend(r.Ellipse,r.Rect,r.FX,{rx:function(m){return this.attr("rx",m)},ry:function(m){return this.attr("ry",m)}}),r.extend(r.Circle,r.Ellipse,{x:function(m){return m==null?this.cx()-this.rx():this.cx(m+this.rx())},y:function(m){return m==null?this.cy()-this.ry():this.cy(m+this.ry())},cx:function(m){return m==null?this.attr("cx"):this.attr("cx",m)},cy:function(m){return m==null?this.attr("cy"):this.attr("cy",m)},width:function(m){return m==null?2*this.rx():this.rx(new r.Number(m).divide(2))},height:function(m){return m==null?2*this.ry():this.ry(new r.Number(m).divide(2))},size:function(m,A){var I=_(this,m,A);return this.rx(new r.Number(I.width).divide(2)).ry(new r.Number(I.height).divide(2))}}),r.Line=r.invent({create:"line",inherit:r.Shape,extend:{array:function(){return new r.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(m,A,I,O){return m==null?this.array():(m=A!==void 0?{x1:m,y1:A,x2:I,y2:O}:new r.PointArray(m).toLine(),this.attr(m))},move:function(m,A){return this.attr(this.array().move(m,A).toLine())},size:function(m,A){var I=_(this,m,A);return this.attr(this.array().size(I.width,I.height).toLine())}},construct:{line:function(m,A,I,O){return r.Line.prototype.plot.apply(this.put(new r.Line),m!=null?[m,A,I,O]:[0,0,0,0])}}}),r.Polyline=r.invent({create:"polyline",inherit:r.Shape,construct:{polyline:function(m){return this.put(new r.Polyline).plot(m||new r.PointArray)}}}),r.Polygon=r.invent({create:"polygon",inherit:r.Shape,construct:{polygon:function(m){return this.put(new r.Polygon).plot(m||new r.PointArray)}}}),r.extend(r.Polyline,r.Polygon,{array:function(){return this._array||(this._array=new r.PointArray(this.attr("points")))},plot:function(m){return m==null?this.array():this.clear().attr("points",typeof m=="string"?m:this._array=new r.PointArray(m))},clear:function(){return delete this._array,this},move:function(m,A){return this.attr("points",this.array().move(m,A))},size:function(m,A){var I=_(this,m,A);return this.attr("points",this.array().size(I.width,I.height))}}),r.extend(r.Line,r.Polyline,r.Polygon,{morphArray:r.PointArray,x:function(m){return m==null?this.bbox().x:this.move(m,this.bbox().y)},y:function(m){return m==null?this.bbox().y:this.move(this.bbox().x,m)},width:function(m){var A=this.bbox();return m==null?A.width:this.size(m,A.height)},height:function(m){var A=this.bbox();return m==null?A.height:this.size(A.width,m)}}),r.Path=r.invent({create:"path",inherit:r.Shape,extend:{morphArray:r.PathArray,array:function(){return this._array||(this._array=new r.PathArray(this.attr("d")))},plot:function(m){return m==null?this.array():this.clear().attr("d",typeof m=="string"?m:this._array=new r.PathArray(m))},clear:function(){return delete this._array,this}},construct:{path:function(m){return this.put(new r.Path).plot(m||new r.PathArray)}}}),r.Image=r.invent({create:"image",inherit:r.Shape,extend:{load:function(m){if(!m)return this;var A=this,I=new F.Image;return r.on(I,"load",function(){r.off(I);var O=A.parent(r.Pattern);O!==null&&(A.width()==0&&A.height()==0&&A.size(I.width,I.height),O&&O.width()==0&&O.height()==0&&O.size(A.width(),A.height()),typeof A._loaded=="function"&&A._loaded.call(A,{width:I.width,height:I.height,ratio:I.width/I.height,url:m}))}),r.on(I,"error",function(O){r.off(I),typeof A._error=="function"&&A._error.call(A,O)}),this.attr("href",I.src=this.src=m,r.xlink)},loaded:function(m){return this._loaded=m,this},error:function(m){return this._error=m,this}},construct:{image:function(m,A,I){return this.put(new r.Image).load(m).size(A||0,I||A||0)}}}),r.Text=r.invent({create:function(){this.constructor.call(this,r.create("text")),this.dom.leading=new r.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",r.defaults.attrs["font-family"])},inherit:r.Shape,extend:{x:function(m){return m==null?this.attr("x"):this.attr("x",m)},text:function(m){if(m===void 0){m="";for(var A=this.node.childNodes,I=0,O=A.length;I<O;++I)I!=0&&A[I].nodeType!=3&&r.adopt(A[I]).dom.newLined==1&&(m+=`
`),m+=A[I].textContent;return m}if(this.clear().build(!0),typeof m=="function")m.call(this,this);else{I=0;for(var X=(m=m.split(`
`)).length;I<X;I++)this.tspan(m[I]).newLine()}return this.build(!1).rebuild()},size:function(m){return this.attr("font-size",m).rebuild()},leading:function(m){return m==null?this.dom.leading:(this.dom.leading=new r.Number(m),this.rebuild())},lines:function(){var m=(this.textPath&&this.textPath()||this).node,A=r.utils.map(r.utils.filterSVGElements(m.childNodes),function(I){return r.adopt(I)});return new r.Set(A)},rebuild:function(m){if(typeof m=="boolean"&&(this._rebuild=m),this._rebuild){var A=this,I=0,O=this.dom.leading*new r.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(A.textPath()||this.attr("x",A.attr("x")),this.text()==`
`?I+=O:(this.attr("dy",O+I),I=0))}),this.fire("rebuild")}return this},build:function(m){return this._build=!!m,this},setData:function(m){return this.dom=m,this.dom.leading=new r.Number(m.leading||1.3),this}},construct:{text:function(m){return this.put(new r.Text).text(m)},plain:function(m){return this.put(new r.Text).plain(m)}}}),r.Tspan=r.invent({create:"tspan",inherit:r.Shape,extend:{text:function(m){return m==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof m=="function"?m.call(this,this):this.plain(m),this)},dx:function(m){return this.attr("dx",m)},dy:function(m){return this.attr("dy",m)},newLine:function(){var m=this.parent(r.Text);return this.dom.newLined=!0,this.dy(m.dom.leading*m.attr("font-size")).attr("x",m.x())}}}),r.extend(r.Text,r.Tspan,{plain:function(m){return this._build===!1&&this.clear(),this.node.appendChild(i.createTextNode(m)),this},tspan:function(m){var A=(this.textPath&&this.textPath()||this).node,I=new r.Tspan;return this._build===!1&&this.clear(),A.appendChild(I.node),I.text(m)},clear:function(){for(var m=(this.textPath&&this.textPath()||this).node;m.hasChildNodes();)m.removeChild(m.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),r.TextPath=r.invent({create:"textPath",inherit:r.Parent,parent:r.Text,construct:{morphArray:r.PathArray,array:function(){var m=this.track();return m?m.array():null},plot:function(m){var A=this.track(),I=null;return A&&(I=A.plot(m)),m==null?I:this},track:function(){var m=this.textPath();if(m)return m.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return r.adopt(this.node.firstChild)}}}),r.Nested=r.invent({create:function(){this.constructor.call(this,r.create("svg")),this.style("overflow","visible")},inherit:r.Container,construct:{nested:function(){return this.put(new r.Nested)}}});var u={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(m,A){return A=="color"?m:m+"-"+A}};function g(m,A,I,O){return I+O.replace(r.regex.dots," .")}function x(m){return m.toLowerCase().replace(/-(.)/g,function(A,I){return I.toUpperCase()})}function b(m){return m.charAt(0).toUpperCase()+m.slice(1)}function w(m){var A=m.toString(16);return A.length==1?"0"+A:A}function _(m,A,I){if(A==null||I==null){var O=m.bbox();A==null?A=O.width/O.height*I:I==null&&(I=O.height/O.width*A)}return{width:A,height:I}}function k(m,A,I){return{x:A*m.a+I*m.c+0,y:A*m.b+I*m.d+0}}function P(m){return{a:m[0],b:m[1],c:m[2],d:m[3],e:m[4],f:m[5]}}function R(m){for(var A=m.childNodes.length-1;A>=0;A--)m.childNodes[A]instanceof F.SVGElement&&R(m.childNodes[A]);return r.adopt(m).id(r.eid(m.nodeName))}function B(m){return m.x==null&&(m.x=0,m.y=0,m.width=0,m.height=0),m.w=m.width,m.h=m.height,m.x2=m.x+m.width,m.y2=m.y+m.height,m.cx=m.x+m.width/2,m.cy=m.y+m.height/2,m}function V(m){return Math.abs(m)>1e-37?m:0}["fill","stroke"].forEach(function(m){var A={};A[m]=function(I){if(I===void 0)return this;if(typeof I=="string"||r.Color.isRgb(I)||I&&typeof I.fill=="function")this.attr(m,I);else for(var O=u[m].length-1;O>=0;O--)I[u[m][O]]!=null&&this.attr(u.prefix(m,u[m][O]),I[u[m][O]]);return this},r.extend(r.Element,r.FX,A)}),r.extend(r.Element,r.FX,{translate:function(m,A){return this.transform({x:m,y:A})},matrix:function(m){return this.attr("transform",new r.Matrix(arguments.length==6?[].slice.call(arguments):m))},opacity:function(m){return this.attr("opacity",m)},dx:function(m){return this.x(new r.Number(m).plus(this instanceof r.FX?0:this.x()),!0)},dy:function(m){return this.y(new r.Number(m).plus(this instanceof r.FX?0:this.y()),!0)}}),r.extend(r.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(m){return this.node.getPointAtLength(m)}}),r.Set=r.invent({create:function(m){Array.isArray(m)?this.members=m:this.clear()},extend:{add:function(){for(var m=[].slice.call(arguments),A=0,I=m.length;A<I;A++)this.members.push(m[A]);return this},remove:function(m){var A=this.index(m);return A>-1&&this.members.splice(A,1),this},each:function(m){for(var A=0,I=this.members.length;A<I;A++)m.apply(this.members[A],[A,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(m){return this.index(m)>=0},index:function(m){return this.members.indexOf(m)},get:function(m){return this.members[m]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(m){return new r.Set(m)}}}),r.FX.Set=r.invent({create:function(m){this.set=m}}),r.Set.inherit=function(){var m=[];for(var A in r.Shape.prototype)typeof r.Shape.prototype[A]=="function"&&typeof r.Set.prototype[A]!="function"&&m.push(A);for(var A in m.forEach(function(O){r.Set.prototype[O]=function(){for(var X=0,te=this.members.length;X<te;X++)this.members[X]&&typeof this.members[X][O]=="function"&&this.members[X][O].apply(this.members[X],arguments);return O=="animate"?this.fx||(this.fx=new r.FX.Set(this)):this}}),m=[],r.FX.prototype)typeof r.FX.prototype[A]=="function"&&typeof r.FX.Set.prototype[A]!="function"&&m.push(A);m.forEach(function(I){r.FX.Set.prototype[I]=function(){for(var O=0,X=this.set.members.length;O<X;O++)this.set.members[O].fx[I].apply(this.set.members[O].fx,arguments);return this}})},r.extend(r.Element,{}),r.extend(r.Element,{remember:function(m,A){if(a(arguments[0])==="object")for(var I in m)this.remember(I,m[I]);else{if(arguments.length==1)return this.memory()[m];this.memory()[m]=A}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var m=arguments.length-1;m>=0;m--)delete this.memory()[arguments[m]];return this},memory:function(){return this._memory||(this._memory={})}}),r.get=function(m){var A=i.getElementById(function(I){var O=(I||"").toString().match(r.regex.reference);if(O)return O[1]}(m)||m);return r.adopt(A)},r.select=function(m,A){return new r.Set(r.utils.map((A||i).querySelectorAll(m),function(I){return r.adopt(I)}))},r.extend(r.Parent,{select:function(m){return r.select(m,this.node)}});var j="abcdef".split("");if(typeof F.CustomEvent!="function"){var U=function(m,A){A=A||{bubbles:!1,cancelable:!1,detail:void 0};var I=i.createEvent("CustomEvent");return I.initCustomEvent(m,A.bubbles,A.cancelable,A.detail),I};U.prototype=F.Event.prototype,r.CustomEvent=U}else r.CustomEvent=F.CustomEvent;return r},a(e)==="object"?n.exports=Z.document?oe(Z,Z.document):function(F){return oe(F,F.document)}:Z.SVG=oe(Z,Z.document),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(u,g){return this.add(u,g),!u.attr("in")&&this.autoSetIn&&u.attr("in",this.source),u.attr("result")||u.attr("result",u),u},blend:function(u,g,x){return this.put(new SVG.BlendEffect(u,g,x))},colorMatrix:function(u,g){return this.put(new SVG.ColorMatrixEffect(u,g))},convolveMatrix:function(u){return this.put(new SVG.ConvolveMatrixEffect(u))},componentTransfer:function(u){return this.put(new SVG.ComponentTransferEffect(u))},composite:function(u,g,x){return this.put(new SVG.CompositeEffect(u,g,x))},flood:function(u,g){return this.put(new SVG.FloodEffect(u,g))},offset:function(u,g){return this.put(new SVG.OffsetEffect(u,g))},image:function(u){return this.put(new SVG.ImageEffect(u))},merge:function(){var u=[void 0];for(var g in arguments)u.push(arguments[g]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,u)))},gaussianBlur:function(u,g){return this.put(new SVG.GaussianBlurEffect(u,g))},morphology:function(u,g){return this.put(new SVG.MorphologyEffect(u,g))},diffuseLighting:function(u,g,x){return this.put(new SVG.DiffuseLightingEffect(u,g,x))},displacementMap:function(u,g,x,b,w){return this.put(new SVG.DisplacementMapEffect(u,g,x,b,w))},specularLighting:function(u,g,x,b){return this.put(new SVG.SpecularLightingEffect(u,g,x,b))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(u,g,x,b,w){return this.put(new SVG.TurbulenceEffect(u,g,x,b,w))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(u){var g=this.put(new SVG.Filter);return typeof u=="function"&&u.call(g,g),g}}),SVG.extend(SVG.Container,{filter:function(u){return this.defs().filter(u)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(u){return this.filterer=u instanceof SVG.Element?u:this.doc().filter(u),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(u){return this.filterer&&u===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(u){return u==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",u)},result:function(u){return u==null?this.attr("result"):this.attr("result",u)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(u){return u==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",u)},result:function(u){return u==null?this.attr("result"):this.attr("result",u)},toString:function(){return this.result()}}});var F={blend:function(u,g){return this.parent()&&this.parent().blend(this,u,g)},colorMatrix:function(u,g){return this.parent()&&this.parent().colorMatrix(u,g).in(this)},convolveMatrix:function(u){return this.parent()&&this.parent().convolveMatrix(u).in(this)},componentTransfer:function(u){return this.parent()&&this.parent().componentTransfer(u).in(this)},composite:function(u,g){return this.parent()&&this.parent().composite(this,u,g)},flood:function(u,g){return this.parent()&&this.parent().flood(u,g)},offset:function(u,g){return this.parent()&&this.parent().offset(u,g).in(this)},image:function(u){return this.parent()&&this.parent().image(u)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(u,g){return this.parent()&&this.parent().gaussianBlur(u,g).in(this)},morphology:function(u,g){return this.parent()&&this.parent().morphology(u,g).in(this)},diffuseLighting:function(u,g,x){return this.parent()&&this.parent().diffuseLighting(u,g,x).in(this)},displacementMap:function(u,g,x,b){return this.parent()&&this.parent().displacementMap(this,u,g,x,b)},specularLighting:function(u,g,x,b){return this.parent()&&this.parent().specularLighting(u,g,x,b).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(u,g,x,b,w){return this.parent()&&this.parent().turbulence(u,g,x,b,w).in(this)}};SVG.extend(SVG.Effect,F),SVG.extend(SVG.ParentEffect,F),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(u){this.attr("in",u)}}});var i={blend:function(u,g,x){this.attr({in:u,in2:g,mode:x||"normal"})},colorMatrix:function(u,g){u=="matrix"&&(g=c(g)),this.attr({type:u,values:g===void 0?null:g})},convolveMatrix:function(u){u=c(u),this.attr({order:Math.sqrt(u.split(" ").length),kernelMatrix:u})},composite:function(u,g,x){this.attr({in:u,in2:g,operator:x})},flood:function(u,g){this.attr("flood-color",u),g!=null&&this.attr("flood-opacity",g)},offset:function(u,g){this.attr({dx:u,dy:g})},image:function(u){this.attr("href",u,SVG.xlink)},displacementMap:function(u,g,x,b,w){this.attr({in:u,in2:g,scale:x,xChannelSelector:b,yChannelSelector:w})},gaussianBlur:function(u,g){u!=null||g!=null?this.attr("stdDeviation",h(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(u,g){this.attr({operator:u,radius:g})},tile:function(){},turbulence:function(u,g,x,b,w){this.attr({numOctaves:g,seed:x,stitchTiles:b,baseFrequency:u,type:w})}},r={merge:function(){var u;if(arguments[0]instanceof SVG.Set){var g=this;arguments[0].each(function(b){this instanceof SVG.MergeNode?g.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&g.put(new SVG.MergeNode(this))})}else{u=Array.isArray(arguments[0])?arguments[0]:arguments;for(var x=0;x<u.length;x++)u[x]instanceof SVG.MergeNode?this.put(u[x]):this.put(new SVG.MergeNode(u[x]))}},componentTransfer:function(u){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(x){this[x]=new SVG["Func"+x.toUpperCase()]("identity"),this.rgb.add(this[x]),this.node.appendChild(this[x].node)}.bind(this)),u)for(var g in u.rgb&&(["r","g","b"].forEach(function(x){this[x].attr(u.rgb)}.bind(this)),delete u.rgb),u)this[g].attr(u[g])},diffuseLighting:function(u,g,x){this.attr({surfaceScale:u,diffuseConstant:g,kernelUnitLength:x})},specularLighting:function(u,g,x,b){this.attr({surfaceScale:u,diffuseConstant:g,specularExponent:x,kernelUnitLength:b})}},o={distantLight:function(u,g){this.attr({azimuth:u,elevation:g})},pointLight:function(u,g,x){this.attr({x:u,y:g,z:x})},spotLight:function(u,g,x,b,w,_){this.attr({x:u,y:g,z:x,pointsAtX:b,pointsAtY:w,pointsAtZ:_})},mergeNode:function(u){this.attr("in",u)}};function c(u){return Array.isArray(u)&&(u=new SVG.Array(u)),u.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function h(u){if(!Array.isArray(u))return u;for(var g=0,x=u.length,b=[];g<x;g++)b.push(u[g]);return b.join(" ")}function f(){var u=function(){};for(var g in typeof arguments[arguments.length-1]=="function"&&(u=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var x in arguments[g])u(arguments[g][x],x,arguments[g])}["r","g","b","a"].forEach(function(u){o["Func"+u.toUpperCase()]=function(g){switch(this.attr("type",g),g){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),f(i,function(u,g){var x=g.charAt(0).toUpperCase()+g.slice(1);SVG[x+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+x)),u.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),f(r,function(u,g){var x=g.charAt(0).toUpperCase()+g.slice(1);SVG[x+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+x)),u.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),f(o,function(u,g){var x=g.charAt(0).toUpperCase()+g.slice(1);SVG[x]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+x)),u.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(u){return u instanceof SVG.MergeNode?this.add(u,0):this.add(new SVG.MergeNode(u),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(u){return u==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",u)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function F(h,f,u,g,x,b,w){for(var _=h.slice(f,u||w),k=g.slice(x,b||w),P=0,R={pos:[0,0],start:[0,0]},B={pos:[0,0],start:[0,0]};_[P]=i.call(R,_[P]),k[P]=i.call(B,k[P]),_[P][0]!=k[P][0]||_[P][0]=="M"||_[P][0]=="A"&&(_[P][4]!=k[P][4]||_[P][5]!=k[P][5])?(Array.prototype.splice.apply(_,[P,1].concat(o.call(R,_[P]))),Array.prototype.splice.apply(k,[P,1].concat(o.call(B,k[P])))):(_[P]=r.call(R,_[P]),k[P]=r.call(B,k[P])),!(++P==_.length&&P==k.length);)P==_.length&&_.push(["C",R.pos[0],R.pos[1],R.pos[0],R.pos[1],R.pos[0],R.pos[1]]),P==k.length&&k.push(["C",B.pos[0],B.pos[1],B.pos[0],B.pos[1],B.pos[0],B.pos[1]]);return{start:_,dest:k}}function i(h){switch(h[0]){case"z":case"Z":h[0]="L",h[1]=this.start[0],h[2]=this.start[1];break;case"H":h[0]="L",h[2]=this.pos[1];break;case"V":h[0]="L",h[2]=h[1],h[1]=this.pos[0];break;case"T":h[0]="Q",h[3]=h[1],h[4]=h[2],h[1]=this.reflection[1],h[2]=this.reflection[0];break;case"S":h[0]="C",h[6]=h[4],h[5]=h[3],h[4]=h[2],h[3]=h[1],h[2]=this.reflection[1],h[1]=this.reflection[0]}return h}function r(h){var f=h.length;return this.pos=[h[f-2],h[f-1]],"SCQT".indexOf(h[0])!=-1&&(this.reflection=[2*this.pos[0]-h[f-4],2*this.pos[1]-h[f-3]]),h}function o(h){var f=[h];switch(h[0]){case"M":return this.pos=this.start=[h[1],h[2]],f;case"L":h[5]=h[3]=h[1],h[6]=h[4]=h[2],h[1]=this.pos[0],h[2]=this.pos[1];break;case"Q":h[6]=h[4],h[5]=h[3],h[4]=1*h[4]/3+2*h[2]/3,h[3]=1*h[3]/3+2*h[1]/3,h[2]=1*this.pos[1]/3+2*h[2]/3,h[1]=1*this.pos[0]/3+2*h[1]/3;break;case"A":f=function(u,g){var x,b,w,_,k,P,R,B,V,j,U,m,A,I,O,X,te,ee,Se,_e,Le,Oe,St,wt,Dt,Yt,dn=Math.abs(g[1]),fn=Math.abs(g[2]),li=g[3]%360,rb=g[4],gh=g[5],mh=g[6],xh=g[7],Tn=new SVG.Point(u),pn=new SVG.Point(mh,xh),xp=[];if(dn===0||fn===0||Tn.x===pn.x&&Tn.y===pn.y)return[["C",Tn.x,Tn.y,pn.x,pn.y,pn.x,pn.y]];for(x=new SVG.Point((Tn.x-pn.x)/2,(Tn.y-pn.y)/2).transform(new SVG.Matrix().rotate(li)),(b=x.x*x.x/(dn*dn)+x.y*x.y/(fn*fn))>1&&(dn*=b=Math.sqrt(b),fn*=b),w=new SVG.Matrix().rotate(li).scale(1/dn,1/fn).rotate(-li),Tn=Tn.transform(w),pn=pn.transform(w),_=[pn.x-Tn.x,pn.y-Tn.y],P=_[0]*_[0]+_[1]*_[1],k=Math.sqrt(P),_[0]/=k,_[1]/=k,R=P<4?Math.sqrt(1-P/4):0,rb===gh&&(R*=-1),B=new SVG.Point((pn.x+Tn.x)/2+R*-_[1],(pn.y+Tn.y)/2+R*_[0]),V=new SVG.Point(Tn.x-B.x,Tn.y-B.y),j=new SVG.Point(pn.x-B.x,pn.y-B.y),U=Math.acos(V.x/Math.sqrt(V.x*V.x+V.y*V.y)),V.y<0&&(U*=-1),m=Math.acos(j.x/Math.sqrt(j.x*j.x+j.y*j.y)),j.y<0&&(m*=-1),gh&&U>m&&(m+=2*Math.PI),!gh&&U<m&&(m-=2*Math.PI),I=Math.ceil(2*Math.abs(U-m)/Math.PI),X=[],te=U,A=(m-U)/I,O=4*Math.tan(A/4)/3,Le=0;Le<=I;Le++)Se=Math.cos(te),ee=Math.sin(te),_e=new SVG.Point(B.x+Se,B.y+ee),X[Le]=[new SVG.Point(_e.x+O*ee,_e.y-O*Se),_e,new SVG.Point(_e.x-O*ee,_e.y+O*Se)],te+=A;for(X[0][0]=X[0][1].clone(),X[X.length-1][2]=X[X.length-1][1].clone(),w=new SVG.Matrix().rotate(li).scale(dn,fn).rotate(-li),Le=0,Oe=X.length;Le<Oe;Le++)X[Le][0]=X[Le][0].transform(w),X[Le][1]=X[Le][1].transform(w),X[Le][2]=X[Le][2].transform(w);for(Le=1,Oe=X.length;Le<Oe;Le++)St=(_e=X[Le-1][2]).x,wt=_e.y,Dt=(_e=X[Le][0]).x,Yt=_e.y,mh=(_e=X[Le][1]).x,xh=_e.y,xp.push(["C",St,wt,Dt,Yt,mh,xh]);return xp}(this.pos,h),h=f[0]}return h[0]="C",this.pos=[h[5],h[6]],this.reflection=[2*h[5]-h[3],2*h[6]-h[4]],f}function c(h,f){if(f===!1)return!1;for(var u=f,g=h.length;u<g;++u)if(h[u][0]=="M")return u;return!1}SVG.extend(SVG.PathArray,{morph:function(h){for(var f=this.value,u=this.parse(h),g=0,x=0,b=!1,w=!1;g!==!1||x!==!1;){var _;b=c(f,g!==!1&&g+1),w=c(u,x!==!1&&x+1),g===!1&&(g=(_=new SVG.PathArray(k.start).bbox()).height==0||_.width==0?f.push(f[0])-1:f.push(["M",_.x+_.width/2,_.y+_.height/2])-1),x===!1&&(x=(_=new SVG.PathArray(k.dest).bbox()).height==0||_.width==0?u.push(u[0])-1:u.push(["M",_.x+_.width/2,_.y+_.height/2])-1);var k=F(f,g,b,u,x,w);f=f.slice(0,g).concat(k.start,b===!1?[]:f.slice(b)),u=u.slice(0,x).concat(k.dest,w===!1?[]:u.slice(w)),g=b!==!1&&g+k.start.length,x=w!==!1&&x+k.dest.length}return this.value=f,this.destination=new SVG.PathArray,this.destination.value=u,this}})}(),function(){function F(i){i.remember("_draggable",this),this.el=i}F.prototype.init=function(i,r){var o=this;this.constraint=i,this.value=r,this.el.on("mousedown.drag",function(c){o.start(c)}),this.el.on("touchstart.drag",function(c){o.start(c)})},F.prototype.transformPoint=function(i,r){var o=(i=i||window.event).changedTouches&&i.changedTouches[0]||i;return this.p.x=o.clientX-(r||0),this.p.y=o.clientY,this.p.matrixTransform(this.m)},F.prototype.getBBox=function(){var i=this.el.bbox();return this.el instanceof SVG.Nested&&(i=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(i.x=this.el.x(),i.y=this.el.y()),i},F.prototype.start=function(i){if(i.type!="click"&&i.type!="mousedown"&&i.type!="mousemove"||(i.which||i.buttons)==1){var r=this;if(this.el.fire("beforedrag",{event:i,handler:this}),!this.el.event().defaultPrevented){i.preventDefault(),i.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var o,c=this.getBBox();if(this.el instanceof SVG.Text)switch(o=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":o/=2;break;case"start":o=0}this.startPoints={point:this.transformPoint(i,o),box:c,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(h){r.drag(h)}),SVG.on(window,"touchmove.drag",function(h){r.drag(h)}),SVG.on(window,"mouseup.drag",function(h){r.end(h)}),SVG.on(window,"touchend.drag",function(h){r.end(h)}),this.el.fire("dragstart",{event:i,p:this.startPoints.point,m:this.m,handler:this})}}},F.prototype.drag=function(i){var r=this.getBBox(),o=this.transformPoint(i),c=this.startPoints.box.x+o.x-this.startPoints.point.x,h=this.startPoints.box.y+o.y-this.startPoints.point.y,f=this.constraint,u=o.x-this.startPoints.point.x,g=o.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:i,p:o,m:this.m,handler:this}),this.el.event().defaultPrevented)return o;if(typeof f=="function"){var x=f.call(this.el,c,h,this.m);typeof x=="boolean"&&(x={x,y:x}),x.x===!0?this.el.x(c):x.x!==!1&&this.el.x(x.x),x.y===!0?this.el.y(h):x.y!==!1&&this.el.y(x.y)}else typeof f=="object"&&(f.minX!=null&&c<f.minX?u=(c=f.minX)-this.startPoints.box.x:f.maxX!=null&&c>f.maxX-r.width&&(u=(c=f.maxX-r.width)-this.startPoints.box.x),f.minY!=null&&h<f.minY?g=(h=f.minY)-this.startPoints.box.y:f.maxY!=null&&h>f.maxY-r.height&&(g=(h=f.maxY-r.height)-this.startPoints.box.y),f.snapToGrid!=null&&(c-=c%f.snapToGrid,h-=h%f.snapToGrid,u-=u%f.snapToGrid,g-=g%f.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:u,y:g},!0):this.el.move(c,h));return o},F.prototype.end=function(i){var r=this.drag(i);this.el.fire("dragend",{event:i,p:r,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(i,r){typeof i!="function"&&typeof i!="object"||(r=i,i=!0);var o=this.remember("_draggable")||new F(this);return(i=i===void 0||i)?o.init(r||{},i):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function F(i){this.el=i,i.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(r,o,c){var h=typeof r!="string"?r:o[r];return c?h/2:h},this.pointCoords=function(r,o){var c=this.pointsList[r];return{x:this.pointCoord(c[0],o,r==="t"||r==="b"),y:this.pointCoord(c[1],o,r==="r"||r==="l")}}}F.prototype.init=function(i,r){var o=this.el.bbox();this.options={};var c=this.el.selectize.defaults.points;for(var h in this.el.selectize.defaults)this.options[h]=this.el.selectize.defaults[h],r[h]!==void 0&&(this.options[h]=r[h]);var f=["points","pointsExclude"];for(var h in f){var u=this.options[f[h]];typeof u=="string"?u=u.length>0?u.split(/\s*,\s*/i):[]:typeof u=="boolean"&&f[h]==="points"&&(u=u?c:[]),this.options[f[h]]=u}this.options.points=[c,this.options.points].reduce(function(g,x){return g.filter(function(b){return x.indexOf(b)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(g,x){return g.filter(function(b){return x.indexOf(b)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(o.x,o.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(i):this.selectRect(i),this.observe(),this.cleanup()},F.prototype.selectPoints=function(i){return this.pointSelection.isSelected=i,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},F.prototype.getPointArray=function(){var i=this.el.bbox();return this.el.array().valueOf().map(function(r){return[r[0]-i.x,r[1]-i.y]})},F.prototype.drawPoints=function(){for(var i=this,r=this.getPointArray(),o=0,c=r.length;o<c;++o){var h=function(u){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var x=g.pageX||g.touches[0].pageX,b=g.pageY||g.touches[0].pageY;i.el.fire("point",{x,y:b,i:u,event:g})}}(o),f=this.drawPoint(r[o][0],r[o][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",h).on("mousedown",h);this.pointSelection.set.add(f)}},F.prototype.drawPoint=function(i,r){var o=this.options.pointType;switch(o){case"circle":return this.drawCircle(i,r);case"rect":return this.drawRect(i,r);default:if(typeof o=="function")return o.call(this,i,r);throw new Error("Unknown "+o+" point type!")}},F.prototype.drawCircle=function(i,r){return this.nested.circle(this.options.pointSize).center(i,r)},F.prototype.drawRect=function(i,r){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(i,r)},F.prototype.updatePointSelection=function(){var i=this.getPointArray();this.pointSelection.set.each(function(r){this.cx()===i[r][0]&&this.cy()===i[r][1]||this.center(i[r][0],i[r][1])})},F.prototype.updateRectSelection=function(){var i=this,r=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:r.width,height:r.height}),this.options.points.length&&this.options.points.map(function(c,h){var f=i.pointCoords(c,r);i.rectSelection.set.get(h+1).center(f.x,f.y)}),this.options.rotationPoint){var o=this.rectSelection.set.length();this.rectSelection.set.get(o-1).center(r.width/2,20)}},F.prototype.selectRect=function(i){var r=this,o=this.el.bbox();function c(u){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var x=g.pageX||g.touches[0].pageX,b=g.pageY||g.touches[0].pageY;r.el.fire(u,{x,y:b,event:g})}}if(this.rectSelection.isSelected=i,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(o.width,o.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(u,g){var x=r.pointCoords(u,o),b=r.drawPoint(x.x,x.y).attr("class",r.options.classPoints+"_"+u).on("mousedown",c(u)).on("touchstart",c(u));r.rectSelection.set.add(b)}),this.rectSelection.set.each(function(){this.addClass(r.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var h=function(u){(u=u||window.event).preventDefault?u.preventDefault():u.returnValue=!1,u.stopPropagation();var g=u.pageX||u.touches[0].pageX,x=u.pageY||u.touches[0].pageY;r.el.fire("rot",{x:g,y:x,event:u})},f=this.drawPoint(o.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",h).on("mousedown",h);this.rectSelection.set.add(f)}},F.prototype.handler=function(){var i=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},F.prototype.observe=function(){var i=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){i.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){i.handler()})},F.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(i,r){return typeof i=="object"&&(r=i,i=!0),(this.remember("_selectHandler")||new F(this)).init(i===void 0||i,r||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function F(i){i.remember("_resizeHandler",this),this.el=i,this.parameters={},this.lastUpdateCall=null,this.p=i.doc().node.createSVGPoint()}F.prototype.transformPoint=function(i,r,o){return this.p.x=i-(this.offset.x-window.pageXOffset),this.p.y=r-(this.offset.y-window.pageYOffset),this.p.matrixTransform(o||this.m)},F.prototype._extractPosition=function(i){return{x:i.clientX!=null?i.clientX:i.touches[0].clientX,y:i.clientY!=null?i.clientY:i.touches[0].clientY}},F.prototype.init=function(i){var r=this;if(this.stop(),i!=="stop"){for(var o in this.options={},this.el.resize.defaults)this.options[o]=this.el.resize.defaults[o],i[o]!==void 0&&(this.options[o]=i[o]);this.el.on("lt.resize",function(c){r.resize(c||window.event)}),this.el.on("rt.resize",function(c){r.resize(c||window.event)}),this.el.on("rb.resize",function(c){r.resize(c||window.event)}),this.el.on("lb.resize",function(c){r.resize(c||window.event)}),this.el.on("t.resize",function(c){r.resize(c||window.event)}),this.el.on("r.resize",function(c){r.resize(c||window.event)}),this.el.on("b.resize",function(c){r.resize(c||window.event)}),this.el.on("l.resize",function(c){r.resize(c||window.event)}),this.el.on("rot.resize",function(c){r.resize(c||window.event)}),this.el.on("point.resize",function(c){r.resize(c||window.event)}),this.update()}},F.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},F.prototype.resize=function(i){var r=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var o=this._extractPosition(i.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(o.x,o.y),x:i.detail.x,y:i.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),i.detail.i!==void 0){var c=this.el.array().valueOf();this.parameters.i=i.detail.i,this.parameters.pointCoords=[c[i.detail.i][0],c[i.detail.i][1]]}switch(i.type){case"lt":this.calc=function(h,f){var u=this.snapToGrid(h,f);if(this.parameters.box.width-u[0]>0&&this.parameters.box.height-u[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+u[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-u[0]);u=this.checkAspectRatio(u),this.el.move(this.parameters.box.x+u[0],this.parameters.box.y+u[1]).size(this.parameters.box.width-u[0],this.parameters.box.height-u[1])}};break;case"rt":this.calc=function(h,f){var u=this.snapToGrid(h,f,2);if(this.parameters.box.width+u[0]>0&&this.parameters.box.height-u[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-u[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+u[0]);u=this.checkAspectRatio(u,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+u[1]).size(this.parameters.box.width+u[0],this.parameters.box.height-u[1])}};break;case"rb":this.calc=function(h,f){var u=this.snapToGrid(h,f,0);if(this.parameters.box.width+u[0]>0&&this.parameters.box.height+u[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-u[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+u[0]);u=this.checkAspectRatio(u),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+u[0],this.parameters.box.height+u[1])}};break;case"lb":this.calc=function(h,f){var u=this.snapToGrid(h,f,1);if(this.parameters.box.width-u[0]>0&&this.parameters.box.height+u[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+u[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-u[0]);u=this.checkAspectRatio(u,!0),this.el.move(this.parameters.box.x+u[0],this.parameters.box.y).size(this.parameters.box.width-u[0],this.parameters.box.height+u[1])}};break;case"t":this.calc=function(h,f){var u=this.snapToGrid(h,f,2);if(this.parameters.box.height-u[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+u[1]).height(this.parameters.box.height-u[1])}};break;case"r":this.calc=function(h,f){var u=this.snapToGrid(h,f,0);if(this.parameters.box.width+u[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+u[0])}};break;case"b":this.calc=function(h,f){var u=this.snapToGrid(h,f,0);if(this.parameters.box.height+u[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+u[1])}};break;case"l":this.calc=function(h,f){var u=this.snapToGrid(h,f,1);if(this.parameters.box.width-u[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+u[0],this.parameters.box.y).width(this.parameters.box.width-u[0])}};break;case"rot":this.calc=function(h,f){var u=h+this.parameters.p.x,g=f+this.parameters.p.y,x=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),b=Math.atan2(g-this.parameters.box.y-this.parameters.box.height/2,u-this.parameters.box.x-this.parameters.box.width/2),w=this.parameters.rotation+180*(b-x)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(w-w%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(h,f){var u=this.snapToGrid(h,f,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),g=this.el.array().valueOf();g[this.parameters.i][0]=this.parameters.pointCoords[0]+u[0],g[this.parameters.i][1]=this.parameters.pointCoords[1]+u[1],this.el.plot(g)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:i}),SVG.on(window,"touchmove.resize",function(h){r.update(h||window.event)}),SVG.on(window,"touchend.resize",function(){r.done()}),SVG.on(window,"mousemove.resize",function(h){r.update(h||window.event)}),SVG.on(window,"mouseup.resize",function(){r.done()})},F.prototype.update=function(i){if(i){var r=this._extractPosition(i),o=this.transformPoint(r.x,r.y),c=o.x-this.parameters.p.x,h=o.y-this.parameters.p.y;this.lastUpdateCall=[c,h],this.calc(c,h),this.el.fire("resizing",{dx:c,dy:h,event:i})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},F.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},F.prototype.snapToGrid=function(i,r,o,c){var h;return c!==void 0?h=[(o+i)%this.options.snapToGrid,(c+r)%this.options.snapToGrid]:(o=o==null?3:o,h=[(this.parameters.box.x+i+(1&o?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+r+(2&o?0:this.parameters.box.height))%this.options.snapToGrid]),i<0&&(h[0]-=this.options.snapToGrid),r<0&&(h[1]-=this.options.snapToGrid),i-=Math.abs(h[0])<this.options.snapToGrid/2?h[0]:h[0]-(i<0?-this.options.snapToGrid:this.options.snapToGrid),r-=Math.abs(h[1])<this.options.snapToGrid/2?h[1]:h[1]-(r<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(i,r,o,c)},F.prototype.constraintToBox=function(i,r,o,c){var h,f,u=this.options.constraint||{};return c!==void 0?(h=o,f=c):(h=this.parameters.box.x+(1&o?0:this.parameters.box.width),f=this.parameters.box.y+(2&o?0:this.parameters.box.height)),u.minX!==void 0&&h+i<u.minX&&(i=u.minX-h),u.maxX!==void 0&&h+i>u.maxX&&(i=u.maxX-h),u.minY!==void 0&&f+r<u.minY&&(r=u.minY-f),u.maxY!==void 0&&f+r>u.maxY&&(r=u.maxY-f),[i,r]},F.prototype.checkAspectRatio=function(i,r){if(!this.options.saveAspectRatio)return i;var o=i.slice(),c=this.parameters.box.width/this.parameters.box.height,h=this.parameters.box.width+i[0],f=this.parameters.box.height-i[1],u=h/f;return u<c?(o[1]=h/c-this.parameters.box.height,r&&(o[1]=-o[1])):u>c&&(o[0]=this.parameters.box.width-f*c,r&&(o[0]=-o[0])),o},SVG.extend(SVG.Element,{resize:function(i){return(this.remember("_resizeHandler")||new F(this)).init(i||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var ot=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new G(this.ctx),this.ctx.axes=new rt(this.ctx),this.ctx.core=new Ae(this.ctx.el,this.ctx),this.ctx.config=new Ce({}),this.ctx.data=new dt(this.ctx),this.ctx.grid=new it(this.ctx),this.ctx.graphics=new H(this.ctx),this.ctx.coreUtils=new $(this.ctx),this.ctx.crosshairs=new tt(this.ctx),this.ctx.events=new Xe(this.ctx),this.ctx.exports=new Fe(this.ctx),this.ctx.localization=new Ve(this.ctx),this.ctx.options=new re,this.ctx.responsive=new mt(this.ctx),this.ctx.series=new ce(this.ctx),this.ctx.theme=new Tt(this.ctx),this.ctx.formatters=new Ue(this.ctx),this.ctx.titleSubtitle=new yt(this.ctx),this.ctx.legend=new Qe(this.ctx),this.ctx.toolbar=new Je(this.ctx),this.ctx.tooltip=new Me(this.ctx),this.ctx.dimensions=new je(this.ctx),this.ctx.updateHelpers=new at(this.ctx),this.ctx.zoomPanSelection=new We(this.ctx),this.ctx.w.globals.tooltip=new Me(this.ctx)}}]),F}(),ft=function(){function F(i){l(this,F),this.ctx=i,this.w=i.w}return p(F,[{key:"clear",value:function(i){var r=i.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:r})}},{key:"killSVG",value:function(i){i.each(function(r,o){this.removeClass("*"),this.off(),this.stop()},!0),i.ungroup(),i.clear()}},{key:"clearDomElements",value:function(i){var r=this,o=i.isUpdating,c=this.w.globals.dom.Paper.node;c.parentNode&&c.parentNode.parentNode&&!o&&(c.parentNode.parentNode.style.minHeight="unset");var h=this.w.globals.dom.baseEl;h&&this.ctx.eventList.forEach(function(u){h.removeEventListener(u,r.ctx.events.documentEvent)});var f=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(f.Paper),f.Paper.remove(),f.elWrap=null,f.elGraphical=null,f.elAnnotations=null,f.elLegendWrap=null,f.baseEl=null,f.elGridRect=null,f.elGridRectMask=null,f.elGridRectMarkerMask=null,f.elForecastMask=null,f.elNonForecastMask=null,f.elDefs=null}}]),F}(),ut=new WeakMap,vt=function(){function F(i,r){l(this,F),this.opts=r,this.ctx=this,this.w=new ve(r).init(),this.el=i,this.w.globals.cuid=S.randomId(),this.w.globals.chartID=this.w.config.chart.id?S.escapeString(this.w.config.chart.id):this.w.globals.cuid,new ot(this).initModules(),this.create=S.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return p(F,[{key:"render",value:function(){var i=this;return new Promise(function(r,o){if(i.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),i.w.config.chart.id&&Apex._chartInstances.push({id:i.w.globals.chartID,group:i.w.config.chart.group,chart:i}),i.setLocale(i.w.config.chart.defaultLocale);var c=i.w.config.chart.events.beforeMount;if(typeof c=="function"&&c(i,i.w),i.events.fireEvent("beforeMount",[i,i.w]),window.addEventListener("resize",i.windowResizeHandler),function(b,w){var _=!1;if(b.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var k=b.getBoundingClientRect();b.style.display!=="none"&&k.width!==0||(_=!0)}var P=new ResizeObserver(function(R){_&&w.call(b,R),_=!0});b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(b.children).forEach(function(R){return P.observe(R)}):P.observe(b),ut.set(w,P)}(i.el.parentNode,i.parentResizeHandler),!i.css){var h=i.el.getRootNode&&i.el.getRootNode(),f=S.is("ShadowRoot",h),u=i.el.ownerDocument,g=u.getElementById("apexcharts-css");!f&&g||(i.css=document.createElement("style"),i.css.id="apexcharts-css",i.css.textContent=`@keyframes opaque {
  0% {
      opacity: 0
  }

  to {
      opacity: 1
  }
}

@keyframes resizeanim {
  0%,to {
      opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0,0,0,.5);
  box-shadow: 0 0 1px rgba(255,255,255,.5);
  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

.legend-mouseover-inactive {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255,255,255,.96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30,30,30,.8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0,0,0,.7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0!important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0,0,0,.7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {
  opacity: 0
}

.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,.resize-triggers,.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}
`,f?h.prepend(i.css):u.head.appendChild(i.css))}var x=i.create(i.w.config.series,{});if(!x)return r(i);i.mount(x).then(function(){typeof i.w.config.chart.events.mounted=="function"&&i.w.config.chart.events.mounted(i,i.w),i.events.fireEvent("mounted",[i,i.w]),r(x)}).catch(function(b){o(b)})}else o(new Error("Element not found"))})}},{key:"create",value:function(i,r){var o=this.w;new ot(this).initModules();var c=this.w.globals;if(c.noData=!1,c.animationEnded=!1,this.responsive.checkResponsiveConfig(r),o.config.xaxis.convertedCatToNumeric&&new pe(o.config).convertCatToNumericXaxis(o.config,this.ctx),this.el===null||(this.core.setupElements(),o.config.chart.type==="treemap"&&(o.config.grid.show=!1,o.config.yaxis[0].show=!1),c.svgWidth===0))return c.animationEnded=!0,null;var h=$.checkComboSeries(i);c.comboCharts=h.comboCharts,c.comboBarCount=h.comboBarCount;var f=i.every(function(w){return w.data&&w.data.length===0});(i.length===0||f)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(i),this.theme.init(),new xe(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),c.noData&&c.collapsedSeries.length!==c.series.length&&!o.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),c.axisCharts&&(this.core.coreCalculations(),o.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=o.globals.minX,this.ctx.toolbar.maxX=o.globals.maxX),this.formatters.heatmapLabelFormatters(),new $(this).getLargestMarkerSize(),this.dimensions.plotCoords();var u=this.core.xySettings();this.grid.createGridMask();var g=this.core.plotChartType(i,u),x=new Ie(this);x.bringForward(),o.config.dataLabels.background.enabled&&x.dataLabelsBackground(),this.core.shiftGraphPosition();var b={plot:{left:o.globals.translateX,top:o.globals.translateY,width:o.globals.gridWidth,height:o.globals.gridHeight}};return{elGraph:g,xyRatios:u,elInner:o.globals.dom.elGraphical,dimensions:b}}},{key:"mount",value:function(){var i=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this,c=o.w;return new Promise(function(h,f){if(o.el===null)return f(new Error("Not enough data to display or target element not found"));(r===null||c.globals.allSeriesCollapsed)&&o.series.handleNoData(),o.grid=new it(o);var u=o.grid.drawGrid();c.config.chart.type!=="treemap"&&o.axes.drawAxis(c.config.chart.type,u),o.annotations=new se(o),o.annotations.drawImageAnnos(),o.annotations.drawTextAnnos(),c.config.grid.position==="back"&&u&&c.globals.dom.elGraphical.add(u.el);var g=new ct(i.ctx,u),x=new Re(i.ctx,u);if(u!==null&&(g.xAxisLabelCorrections(u.xAxisTickWidth),x.setYAxisTextAlignments(),c.config.yaxis.map(function(_,k){c.globals.ignoreYAxisIndexes.indexOf(k)===-1&&x.yAxisTitleRotate(k,_.opposite)})),c.config.annotations.position==="back"&&(c.globals.dom.Paper.add(c.globals.dom.elAnnotations),o.annotations.drawAxesAnnotations()),Array.isArray(r.elGraph))for(var b=0;b<r.elGraph.length;b++)c.globals.dom.elGraphical.add(r.elGraph[b]);else c.globals.dom.elGraphical.add(r.elGraph);if(c.config.grid.position==="front"&&u&&c.globals.dom.elGraphical.add(u.el),u&&u.elGridBorders&&u.elGridBorders.node&&c.globals.dom.elGraphical.add(u.elGridBorders),c.config.xaxis.crosshairs.position==="front"&&o.crosshairs.drawXCrosshairs(),c.config.yaxis[0].crosshairs.position==="front"&&o.crosshairs.drawYCrosshairs(),c.config.annotations.position==="front"&&(c.globals.dom.Paper.add(c.globals.dom.elAnnotations),o.annotations.drawAxesAnnotations()),!c.globals.noData){if(c.config.tooltip.enabled&&!c.globals.noData&&o.w.globals.tooltip.drawTooltip(r.xyRatios),c.globals.axisCharts&&(c.globals.isXNumeric||c.config.xaxis.convertedCatToNumeric||c.globals.isRangeBar))(c.config.chart.zoom.enabled||c.config.chart.selection&&c.config.chart.selection.enabled||c.config.chart.pan&&c.config.chart.pan.enabled)&&o.zoomPanSelection.init({xyRatios:r.xyRatios});else{var w=c.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(_){w[_]=!1})}c.config.chart.toolbar.show&&!c.globals.allSeriesCollapsed&&o.toolbar.createToolbar()}c.globals.memory.methodsToExec.length>0&&c.globals.memory.methodsToExec.forEach(function(_){_.method(_.params,!1,_.context)}),c.globals.axisCharts||c.globals.noData||o.core.resizeNonAxisCharts(),h(o)})}},{key:"destroy",value:function(){var i,r;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,i=this.parentResizeHandler,(r=ut.get(i))&&(r.disconnect(),ut.delete(i));var o=this.w.config.chart.id;o&&Apex._chartInstances.forEach(function(c,h){c.id===S.escapeString(o)&&Apex._chartInstances.splice(h,1)}),new ft(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(i){var r=this,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],u=this.w;return u.globals.selection=void 0,i.series&&(this.series.resetSeries(!1,!0,!1),i.series.length&&i.series[0].data&&(i.series=i.series.map(function(g,x){return r.updateHelpers._extendSeries(g,x)})),this.updateHelpers.revertDefaultAxisMinMax()),i.xaxis&&(i=this.updateHelpers.forceXAxisUpdate(i)),i.yaxis&&(i=this.updateHelpers.forceYAxisUpdate(i)),u.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),i.theme&&(i=this.theme.updateThemeOptions(i)),this.updateHelpers._updateOptions(i,o,c,h,f)}},{key:"updateSeries",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,r,o)}},{key:"appendSeries",value:function(i){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=this.w.config.series.slice();return c.push(i),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(c,r,o)}},{key:"appendData",value:function(i){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=this;o.w.globals.dataChanged=!0,o.series.getPreviousPaths();for(var c=o.w.config.series.slice(),h=0;h<c.length;h++)if(i[h]!==null&&i[h]!==void 0)for(var f=0;f<i[h].data.length;f++)c[h].data.push(i[h].data[f]);return o.w.config.series=c,r&&(o.w.globals.initialSeries=S.clone(o.w.config.series)),this.update()}},{key:"update",value:function(i){var r=this;return new Promise(function(o,c){new ft(r.ctx).clear({isUpdating:!0});var h=r.create(r.w.config.series,i);if(!h)return o(r);r.mount(h).then(function(){typeof r.w.config.chart.events.updated=="function"&&r.w.config.chart.events.updated(r,r.w),r.events.fireEvent("updated",[r,r.w]),r.w.globals.isDirty=!0,o(r)}).catch(function(f){c(f)})})}},{key:"getSyncedCharts",value:function(){var i=this.getGroupedCharts(),r=[this];return i.length&&(r=[],i.forEach(function(o){r.push(o)})),r}},{key:"getGroupedCharts",value:function(){var i=this;return Apex._chartInstances.filter(function(r){if(r.group)return!0}).map(function(r){return i.w.config.chart.group===r.group?r.chart:i})}},{key:"toggleSeries",value:function(i){return this.series.toggleSeries(i)}},{key:"highlightSeriesOnLegendHover",value:function(i,r){return this.series.toggleSeriesOnHover(i,r)}},{key:"showSeries",value:function(i){this.series.showSeries(i)}},{key:"hideSeries",value:function(i){this.series.hideSeries(i)}},{key:"resetSeries",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(i,r)}},{key:"addEventListener",value:function(i,r){this.events.addEventListener(i,r)}},{key:"removeEventListener",value:function(i,r){this.events.removeEventListener(i,r)}},{key:"addXaxisAnnotation",value:function(i){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addXaxisAnnotationExternal(i,r,c)}},{key:"addYaxisAnnotation",value:function(i){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addYaxisAnnotationExternal(i,r,c)}},{key:"addPointAnnotation",value:function(i){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addPointAnnotationExternal(i,r,c)}},{key:"clearAnnotations",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=this;i&&(r=i),r.annotations.clearAnnotations(r)}},{key:"removeAnnotation",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=this;r&&(o=r),o.annotations.removeAnnotation(o,i)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(i,r){return this.coreUtils.getSeriesTotalsXRange(i,r)}},{key:"getHighestValueInSeries",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=new De(this.ctx);return r.getMinYMaxY(i).highestY}},{key:"getLowestValueInSeries",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=new De(this.ctx);return r.getMinYMaxY(i).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(i,r){return this.updateHelpers.toggleDataPointSelection(i,r)}},{key:"zoomX",value:function(i,r){this.ctx.toolbar.zoomUpdateOptions(i,r)}},{key:"setLocale",value:function(i){this.localization.setCurrentLocaleValues(i)}},{key:"dataURI",value:function(i){return new Fe(this.ctx).dataURI(i)}},{key:"exportToCSV",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new Fe(this.ctx);return r.exportToCSV(i)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var i=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){i.w.globals.resized=!0,i.w.globals.dataChanged=!1,i.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var i=this.w.config.chart.redrawOnWindowResize;typeof i=="function"&&(i=i()),i&&this._windowResize()}}],[{key:"getChartByID",value:function(i){var r=S.escapeString(i),o=Apex._chartInstances.filter(function(c){return c.id===r})[0];return o&&o.chart}},{key:"initOnLoad",value:function(){for(var i=document.querySelectorAll("[data-apexcharts]"),r=0;r<i.length;r++)new F(i[r],JSON.parse(i[r].getAttribute("data-options"))).render()}},{key:"exec",value:function(i,r){var o=this.getChartByID(i);if(o){o.w.globals.isExecCalled=!0;var c=null;if(o.publicMethods.indexOf(r)!==-1){for(var h=arguments.length,f=new Array(h>2?h-2:0),u=2;u<h;u++)f[u-2]=arguments[u];c=o[r].apply(o,f)}return c}}},{key:"merge",value:function(i,r){return S.extend(i,r)}}]),F}();n.exports=vt})(Wd,Wd.exports);var Qy={exports:{}},hk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uk=hk,dk=uk;function Ky(){}function eb(){}eb.resetWarningCache=Ky;var fk=function(){function n(s,a,l,d,p,v){if(v!==dk){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eb,resetWarningCache:Ky};return t.PropTypes=t,t};Qy.exports=fk();Object.defineProperty(Jy,"__esModule",{value:!0});var pk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gk=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},mk=function(){function n(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,s){return t&&n(e.prototype,t),s&&n(e,s),e}}(),xk=Wd.exports,tb=mp(xk),nb=et.exports,Oa=mp(nb),vk=Qy.exports,Ba=mp(vk);function mp(n){return n&&n.__esModule?n:{default:n}}function yk(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bk(n,e){var t={};for(var s in n)0<=e.indexOf(s)||Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);return t}function wk(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Sk(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function _k(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}window.ApexCharts=tb.default;var O0=function(){function n(e){wk(this,n);var t=Sk(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return Oa.default.createRef?t.chartRef=Oa.default.createRef():t.setRef=function(s){return t.chartRef=s},t.chart=null,t}return _k(n,nb.Component),mk(n,[{key:"render",value:function(){var e=this.props,t=(e.type,e.height,e.width,e.series,e.options,bk(e,["type","height","width","series","options"]));return Oa.default.createElement("div",gk({ref:Oa.default.createRef?this.chartRef:this.setRef},t))}},{key:"componentDidMount",value:function(){var e=Oa.default.createRef?this.chartRef.current:this.chartRef;this.chart=new tb.default(e,this.getConfig()),this.chart.render()}},{key:"getConfig",value:function(){var e=this.props,t=e.type,s=e.height,a=e.width,l=e.series,d=e.options,p={chart:{type:t,height:s,width:a},series:l};return this.extend(d,p)}},{key:"isObject",value:function(e){return e&&(e===void 0?"undefined":pk(e))==="object"&&!Array.isArray(e)&&e!=null}},{key:"extend",value:function(e,t){var s=this;typeof Object.assign!="function"&&(Object.assign=function(l){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(l),p=1;p<arguments.length;p++){var v=arguments[p];if(v!=null)for(var y in v)v.hasOwnProperty(y)&&(d[y]=v[y])}return d});var a=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(l){s.isObject(t[l])&&l in e?a[l]=s.extend(e[l],t[l]):Object.assign(a,yk({},l,t[l]))}),a}},{key:"componentDidUpdate",value:function(e){if(!this.chart)return null;var t=this.props,s=t.options,a=t.series,l=t.height,d=t.width,p=JSON.stringify(e.options),v=JSON.stringify(e.series),y=JSON.stringify(s),M=JSON.stringify(a);p===y&&v===M&&l===e.height&&d===e.width||(v===M?this.chart.updateOptions(this.getConfig()):p===y&&l===e.height&&d===e.width?this.chart.updateSeries(a):this.chart.updateOptions(this.getConfig()))}},{key:"componentWillUnmount",value:function(){this.chart&&typeof this.chart.destroy=="function"&&this.chart.destroy()}}]),n}();(Jy.default=O0).propTypes={type:Ba.default.string.isRequired,width:Ba.default.any,height:Ba.default.any,series:Ba.default.array.isRequired,options:Ba.default.object.isRequired},O0.defaultProps={type:"line",width:"100%",height:"auto"};function Mk(n){return hn({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"}}]})(n)}function Ak(n){return hn({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"}}]})(n)}const Ck=()=>{if(typeof window!="undefined"&&window.localStorage){const n=window.localStorage.getItem("color-theme");if(typeof n=="string")return n;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"},ib=en.createContext();function Ek({initialTheme:n,children:e}){const[t,s]=en.useState(Ck),a=l=>{const d=window.document.documentElement,p=l==="dark";d.classList.remove(p?"light":"dark"),d.classList.add(l),localStorage.setItem("color-theme",l)};return n&&a(n),en.useEffect(()=>{a(t)},[t]),Te(ib.Provider,{value:{theme:t,setTheme:s},children:e})}const Tk=()=>{const{theme:n,setTheme:e}=en.useContext(ib);return Te("div",{className:"transition duration-500 ease-in-out rounded-full p-2",children:n==="dark"?Te(Mk,{onClick:()=>e(n==="dark"?"light":"dark"),className:"text-off-white2 text-5xl cursor-pointer"}):Te(Ak,{onClick:()=>e(n==="dark"?"light":"dark"),className:"text-off-white2 text-5xl cursor-pointer"})})};class Rk extends en.Component{constructor(e){super(e),this.state={posts:[],isLoaded:!1}}async fetchData(){await fetch(`https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=${{}.VITE_NEWS_API_KEY}`).then(e=>e.json()).then(e=>{this.setState({posts:e.articles}),console.log(e)}).catch(e=>{console.log(e)})}async componentDidMount(){this.fetchData(),this.state.isLoaded=!0}render(){return console.log(this.state.posts),this.state.isLoaded?Te(Hr,{children:Te("div",{class:"rounded-xl overflow-y-auto overflow-hidden h-80 w-[30.5rem] space-y-0",children:this.state.posts.map(e=>Br("div",{class:"rounded-xl h-24 w-full",children:[Te("div",{class:"overflow-hidden h-full w-48 float-left",children:Te("img",{class:"w-full max-h-full",src:e.urlToImage})}),Te("div",{class:"pl-4 text-white overflow-hidden h-full w-72 float-left",children:Te("a",{className:"text-blue-600 hover:text-blue-800 visited:text-purple-600 pt-1 float-right text-[14px]",href:e.url,children:e.title})})]}))})}):Te(Hr,{children:Te("div",{class:"text-center items-center justify-center translate-x-0 translate-y-0",children:Te("h1",{children:"No news."})})})}}class kk extends en.Component{render(){return Te(Hr,{children:Te("div",{class:"sticky rounded-xl overflow-hidden h-80 border-0 dark:border-4 dark:border-off-white2",children:Te("iframe",{class:"overflow-hidden flex bg-blue3 xs:hidden rounded-xl",width:"505",height:"320",src:"https://embed.windy.com"})})})}}const Ha=({title:n,content:e})=>Te("div",{class:"bg-blue3 text-black rounded-xl col-span-1 h-36 w-36 shadow-4xl dark:shadow-none border-0 dark:border-4 dark:border-off-white2 overflow-y-auto",children:Br("ul",{class:" text-left text-off-white1 m-0 pl-5 pt-1 before:block before:absolute left-0 w-1 h-3 border-solid border-teal-600 relative list-none mb-2",children:[Te("li",{class:"font-black text-lg underline underline-offset-4 decoration-2 decoration-off-white1 text-center",children:n}),e.map(({name:t,url:s},a)=>Te("li",{children:Te("a",{href:s,children:t},a)}))]})});var B0="https://timothypholmes.github.io/startup-page/assets/desert.4b9dd4a3.mp4";function Lk(){return Te(Hr,{children:Te("section",{className:"bg-off-white1 dark:bg-blue3 min-h-screen flex items-center justify-center pt-10 pb-10 font-helvetica",children:Br("div",{class:"grid xl:grid-cols-7 md:grid-cols-5 sm:grid-cols-3 xs:grid-cols-2 gap-y-6 gap-x-6 grid-flow-row-dense content-center",children:[Te("div",{class:"overflow-hidden rounded-xl col-span-1 row-span-2 h-80 w-36 shadow-4xl dark:shadow-none",children:Te("div",{class:"sticky rounded-xl overflow-hidden h-80 w-36 border-0 dark:border-4 dark:border-off-white2",children:Te("video",{class:"relative object-cover min-h-full max-w-xl -left-12",src:B0,type:"video/mp4",autoPlay:!0,muted:!0,loop:!0})})}),Te("div",{class:"rounded-xl col-span-1 h-36 w-36 shadow-4xl dark:shadow-none",children:Te("div",{class:"sticky rounded-xl overflow-hidden h-36 w-36 border-0 dark:border-4 dark:border-off-white2",children:Te("video",{class:"relative object-cover min-h-full max-w-sm right-48",src:B0,type:"video/mp4",autoPlay:!0,muted:!0,loop:!0})})}),Te("div",{class:"bg-blue3 text-black rounded-xl col-span-2 h-36 w-80 shadow-4xl dark:shadow-none border-0 dark:border-4 dark:border-off-white2",children:Te(M2,{})}),Te(Ha,{title:Rt.bookmark[0].title,content:Rt.bookmark[0].content}),Te("div",{class:"bg-off-white1 text-black rounded-xl col-span-1 h-36 w-36 shadow-4xl dark:shadow-none",children:Te(Ta,{search:Rt.unsplash.box1})}),Te("div",{class:"bg-green2 dark:bg-green1 text-black rounded-xl col-span-1 h-36 w-36 shadow-4xl dark:shadow-none border-0 dark:border-4 dark:border-off-white2",children:Te(ck,{})}),Te("div",{class:"bg-off-white1 text-black rounded-xl col-span-1 h-36 w-36 shadow-4xl dark:shadow-none",children:Te(Ta,{search:Rt.unsplash.box2})}),Te(Ha,{title:Rt.bookmark[1].title,content:Rt.bookmark[1].content}),Te("div",{class:"overflow-hidden rounded-xl col-span-3 row-span-2 h-80 shadow-4xl dark:shadow-none ",children:Te(kk,{})}),Te("div",{class:"bg-off-white1 text-black rounded-xl col-span-1 h-36 w-36 shadow-4xl dark:shadow-none",children:Te(Ta,{search:Rt.unsplash.box3})}),Te(Ha,{title:Rt.bookmark[2].title,content:Rt.bookmark[2].content}),Te("div",{class:"bg-[#000000] rounded-xl col-span-2 row-span-2 shadow-4xl dark:shadow-none border-0 dark:border-4 dark:border-off-white2",children:Te(jT,{})}),Te(Ha,{title:Rt.bookmark[3].title,content:Rt.bookmark[3].content}),Te(Ha,{title:Rt.bookmark[4].title,content:Rt.bookmark[4].content}),Te("div",{class:"bg-off-white1 text-black rounded-xl col-span-1 h-36 w-36 shadow-4xl dark:shadow-none",children:Te(Ta,{search:Rt.unsplash.box4})}),Te("div",{class:"flex items-center justify-center bg-blue3 text-white rounded-xl col-span-1 h-36 w-36 shadow-4xl dark:shadow-none border-0 dark:border-4 dark:border-off-white2",children:Te(Ek,{children:Te(Tk,{})})}),Te("div",{class:"text-black rounded-xl col-span-1 h-36 w-36 shadow-4xl dark:shadow-none",children:Te(Ta,{search:Rt.unsplash.box5})}),Te("div",{class:"bg-red2 dark:bg-red1 text-black rounded-xl col-span-1 h-36 w-36 shadow-4xl dark:shadow-none border-0 dark:border-4 dark:border-off-white2",children:Te(fS,{})})]})})})}dw.render(Te(lS,{children:Te(oS,{children:Te(Fv,{path:"/",exact:!0,element:Te(Lk,{})})})}),document.getElementById("root"));
